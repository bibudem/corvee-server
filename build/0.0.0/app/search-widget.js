!function(){const t={NODE_ENV:"production"};try{if(process)return process.env=Object.assign({},process.env),void Object.assign(process.env,t)}catch(t){}globalThis.process={env:t}}();"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var t={},e={get exports(){return t},set exports(e){t=e}};e.exports=function(){function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function n(n){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?e(Object(i),!0).forEach((function(e){t(n,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))}))}return n}function r(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(t){var e,n="algoliasearch-client-js-".concat(t.key),r=function(){return void 0===e&&(e=t.localStorage||window.localStorage),e},o=function(){return JSON.parse(r().getItem(n)||"{}")};return{get:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then((function(){var n=JSON.stringify(t),r=o()[n];return Promise.all([r||e(),void 0!==r])})).then((function(t){var e=i(t,2),r=e[0],o=e[1];return Promise.all([r,o||n.miss(r)])})).then((function(t){return i(t,1)[0]}))},set:function(t,e){return Promise.resolve().then((function(){var i=o();return i[JSON.stringify(t)]=e,r().setItem(n,JSON.stringify(i)),e}))},delete:function(t){return Promise.resolve().then((function(){var e=o();delete e[JSON.stringify(t)],r().setItem(n,JSON.stringify(e))}))},clear:function(){return Promise.resolve().then((function(){r().removeItem(n)}))}}}function a(t){var e=o(t.caches),n=e.shift();return void 0===n?{get:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return e().then((function(t){return Promise.all([t,n.miss(t)])})).then((function(t){return i(t,1)[0]}))},set:function(t,e){return Promise.resolve(e)},delete:function(t){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return n.get(t,r,i).catch((function(){return a({caches:e}).get(t,r,i)}))},set:function(t,r){return n.set(t,r).catch((function(){return a({caches:e}).set(t,r)}))},delete:function(t){return n.delete(t).catch((function(){return a({caches:e}).delete(t)}))},clear:function(){return n.clear().catch((function(){return a({caches:e}).clear()}))}}}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},e={};return{get:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},o=JSON.stringify(n);if(o in e)return Promise.resolve(t.serializable?JSON.parse(e[o]):e[o]);var u=r(),a=i&&i.miss||function(){return Promise.resolve()};return u.then((function(t){return a(t)})).then((function(){return u}))},set:function(n,r){return e[JSON.stringify(n)]=t.serializable?JSON.stringify(r):r,Promise.resolve(r)},delete:function(t){return delete e[JSON.stringify(t)],Promise.resolve()},clear:function(){return e={},Promise.resolve()}}}function s(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}return t}function f(t,e){return e?(Object.keys(e).forEach((function(n){t[n]=e[n](t)})),t):t}function l(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0;return t.replace(/%s/g,(function(){return encodeURIComponent(n[i++])}))}var h={WithinQueryParameters:0,WithinHeaders:1};function v(t,e){var n=t||{},r=n.data||{};return Object.keys(n).forEach((function(t){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(t)&&(r[t]=n[t])})),{data:Object.entries(r).length>0?r:void 0,timeout:n.timeout||e,headers:n.headers||{},queryParameters:n.queryParameters||{},cacheable:n.cacheable}}var d={Read:1,Write:2,Any:3},b=1,m=2,p=3;function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b;return n(n({},t),{},{status:e,lastUpdate:Date.now()})}function g(t){return"string"==typeof t?{protocol:"https",url:t,accept:d.Any}:{protocol:t.protocol||"https",url:t.url,accept:t.accept||d.Any}}var j="GET",w="POST";function O(t,e){return Promise.all(e.map((function(e){return t.get(e,(function(){return Promise.resolve(y(e))}))}))).then((function(t){var n=t.filter((function(t){return function(t){return t.status===b||Date.now()-t.lastUpdate>12e4}(t)})),r=t.filter((function(t){return function(t){return t.status===p&&Date.now()-t.lastUpdate<=12e4}(t)})),i=[].concat(o(n),o(r));return{getTimeout:function(t,e){return(0===r.length&&0===t?1:r.length+3+t)*e},statelessHosts:i.length>0?i.map((function(t){return g(t)})):e}}))}function S(t,e,r,i){var u=[],a=function(t,e){if(t.method!==j&&(void 0!==t.data||void 0!==e.data)){var r=Array.isArray(t.data)?t.data:n(n({},t.data),e.data);return JSON.stringify(r)}}(r,i),c=function(t,e){var r=n(n({},t.headers),e.headers),i={};return Object.keys(r).forEach((function(t){var e=r[t];i[t.toLowerCase()]=e})),i}(t,i),s=r.method,f=r.method!==j?{}:n(n({},r.data),i.data),l=n(n(n({"x-algolia-agent":t.userAgent.value},t.queryParameters),f),i.queryParameters),h=0,v=function e(n,o){var f=n.pop();if(void 0===f)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:P(u)};var v={data:a,headers:c,method:s,url:N(f,r.path,l),connectTimeout:o(h,t.timeouts.connect),responseTimeout:o(h,i.timeout)},d=function(t){var e={request:v,response:t,host:f,triesLeft:n.length};return u.push(e),e},b={onSuccess:function(t){return function(t){try{return JSON.parse(t.content)}catch(e){throw function(t,e){return{name:"DeserializationError",message:t,response:e}}(e.message,t)}}(t)},onRetry:function(r){var i=d(r);return r.isTimedOut&&h++,Promise.all([t.logger.info("Retryable failure",E(i)),t.hostsCache.set(f,y(f,r.isTimedOut?p:m))]).then((function(){return e(n,o)}))},onFail:function(t){throw d(t),function(t,e){var n=t.content,r=t.status,i=n;try{i=JSON.parse(n).message}catch(t){}return function(t,e,n){return{name:"ApiError",message:t,status:e,transporterStackTrace:n}}(i,r,e)}(t,P(u))}};return t.requester.send(v).then((function(t){return function(t,e){return function(t){var e=t.status;return t.isTimedOut||function(t){var e=t.isTimedOut,n=t.status;return!e&&0==~~n}(t)||2!=~~(e/100)&&4!=~~(e/100)}(t)?e.onRetry(t):2==~~(t.status/100)?e.onSuccess(t):e.onFail(t)}(t,b)}))};return O(t.hostsCache,e).then((function(t){return v(o(t.statelessHosts).reverse(),t.getTimeout)}))}function R(t){var e={value:"Algolia for JavaScript (".concat(t,")"),add:function(t){var n="; ".concat(t.segment).concat(void 0!==t.version?" (".concat(t.version,")"):"");return-1===e.value.indexOf(n)&&(e.value="".concat(e.value).concat(n)),e}};return e}function N(t,e,n){var r=T(n),i="".concat(t.protocol,"://").concat(t.url,"/").concat("/"===e.charAt(0)?e.substr(1):e);return r.length&&(i+="?".concat(r)),i}function T(t){return Object.keys(t).map((function(e){return l("%s=%s",e,(n=t[e],"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?JSON.stringify(t[e]):t[e]));var n})).join("&")}function P(t){return t.map((function(t){return E(t)}))}function E(t){var e=t.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return n(n({},t),{},{request:n(n({},t.request),{},{headers:n(n({},t.request.headers),e)})})}var x=function(t){var e=t.appId,r=function(t,e,n){var r={"x-algolia-api-key":n,"x-algolia-application-id":e};return{headers:function(){return t===h.WithinHeaders?r:{}},queryParameters:function(){return t===h.WithinQueryParameters?r:{}}}}(void 0!==t.authMode?t.authMode:h.WithinHeaders,e,t.apiKey),o=function(t){var e=t.hostsCache,n=t.logger,r=t.requester,o=t.requestsCache,u=t.responsesCache,a=t.timeouts,c=t.userAgent,s=t.hosts,f=t.queryParameters,l={hostsCache:e,logger:n,requester:r,requestsCache:o,responsesCache:u,timeouts:a,userAgent:c,headers:t.headers,queryParameters:f,hosts:s.map((function(t){return g(t)})),read:function(t,e){var n=v(e,l.timeouts.read),r=function(){return S(l,l.hosts.filter((function(t){return 0!=(t.accept&d.Read)})),t,n)};if(!0!==(void 0!==n.cacheable?n.cacheable:t.cacheable))return r();var o={request:t,mappedRequestOptions:n,transporter:{queryParameters:l.queryParameters,headers:l.headers}};return l.responsesCache.get(o,(function(){return l.requestsCache.get(o,(function(){return l.requestsCache.set(o,r()).then((function(t){return Promise.all([l.requestsCache.delete(o),t])}),(function(t){return Promise.all([l.requestsCache.delete(o),Promise.reject(t)])})).then((function(t){var e=i(t,2);return e[0],e[1]}))}))}),{miss:function(t){return l.responsesCache.set(o,t)}})},write:function(t,e){return S(l,l.hosts.filter((function(t){return 0!=(t.accept&d.Write)})),t,v(e,l.timeouts.write))}};return l}(n(n({hosts:[{url:"".concat(e,"-dsn.algolia.net"),accept:d.Read},{url:"".concat(e,".algolia.net"),accept:d.Write}].concat(s([{url:"".concat(e,"-1.algolianet.com")},{url:"".concat(e,"-2.algolianet.com")},{url:"".concat(e,"-3.algolianet.com")}]))},t),{},{headers:n(n(n({},r.headers()),{"content-type":"application/x-www-form-urlencoded"}),t.headers),queryParameters:n(n({},r.queryParameters()),t.queryParameters)}));return f({transporter:o,appId:e,addAlgoliaAgent:function(t,e){o.userAgent.add({segment:t,version:e})},clearCache:function(){return Promise.all([o.requestsCache.clear(),o.responsesCache.clear()]).then((function(){}))}},t.methods)},k=function(t){return function(e,n){return e.method===j?t.transporter.read(e,n):t.transporter.write(e,n)}},I=function(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f({transporter:t.transporter,appId:t.appId,indexName:e},n.methods)}},C=function(t){return function(e,r){var i=e.map((function(t){return n(n({},t),{},{params:T(t.params||{})})}));return t.transporter.read({method:w,path:"1/indexes/*/queries",data:{requests:i},cacheable:!0},r)}},A=function(t){return function(e,i){return Promise.all(e.map((function(e){var o=e.params,u=o.facetName,a=o.facetQuery,c=r(o,["facetName","facetQuery"]);return I(t)(e.indexName,{methods:{searchForFacetValues:_}}).searchForFacetValues(u,a,n(n({},i),c))})))}},F=function(t){return function(e,n,r){return t.transporter.read({method:w,path:l("1/answers/%s/prediction",t.indexName),data:{query:e,queryLanguages:n},cacheable:!0},r)}},H=function(t){return function(e,n){return t.transporter.read({method:w,path:l("1/indexes/%s/query",t.indexName),data:{query:e},cacheable:!0},n)}},_=function(t){return function(e,n,r){return t.transporter.read({method:w,path:l("1/indexes/%s/facets/%s/query",t.indexName,e),data:{facetQuery:n},cacheable:!0},r)}};function q(t,e,r){var i={appId:t,apiKey:e,timeouts:{connect:1,read:2,write:30},requester:{send:function(t){return new Promise((function(e){var n=new XMLHttpRequest;n.open(t.method,t.url,!0),Object.keys(t.headers).forEach((function(e){return n.setRequestHeader(e,t.headers[e])}));var r,i=function(t,r){return setTimeout((function(){n.abort(),e({status:0,content:r,isTimedOut:!0})}),1e3*t)},o=i(t.connectTimeout,"Connection timeout");n.onreadystatechange=function(){n.readyState>n.OPENED&&void 0===r&&(clearTimeout(o),r=i(t.responseTimeout,"Socket timeout"))},n.onerror=function(){0===n.status&&(clearTimeout(o),clearTimeout(r),e({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=function(){clearTimeout(o),clearTimeout(r),e({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(t.data)}))}},logger:{debug:function(t,e){return Promise.resolve()},info:function(t,e){return Promise.resolve()},error:function(t,e){return Promise.resolve()}},responsesCache:c(),requestsCache:c({serializable:!1}),hostsCache:a({caches:[u({key:"".concat("4.14.3","-").concat(t)}),c()]}),userAgent:R("4.14.3").add({segment:"Browser",version:"lite"}),authMode:h.WithinQueryParameters};return x(n(n(n({},i),r),{},{methods:{search:C,searchForFacetValues:A,multipleQueries:C,multipleSearchForFacetValues:A,customRequest:k,initIndex:function(t){return function(e){return I(t)(e,{methods:{search:H,searchForFacetValues:_,findAnswers:F}})}}}}))}return q.version="4.14.3",q}();var n=t;function r(t){return"function"==typeof t||Array.isArray(t)||"[object Object]"===Object.prototype.toString.call(t)}function i(t,e){if(t===e)return t;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&"__proto__"!==n){var o=e[n],u=t[n];void 0!==u&&void 0===o||(r(u)&&r(o)?t[n]=i(u,o):t[n]="object"==typeof(a=o)&&null!==a?i(Array.isArray(a)?[]:{},a):a)}var a;return t}var o=function(t){r(t)||(t={});for(var e=1,n=arguments.length;e<n;e++){var o=arguments[e];r(o)&&i(t,o)}return t},u=function(){var t=Array.prototype.slice.call(arguments);return t.reduceRight((function(t,e){return Object.keys(Object(e)).forEach((function(n){void 0!==e[n]&&(void 0!==t[n]&&delete t[n],t[n]=e[n])})),t}),{})};var a=function(t,e){return t.filter((function(n,r){return e.indexOf(n)>-1&&t.indexOf(n)===r}))},c=function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)if(e(t[n]))return t[n]};var s=function t(e){if("number"==typeof e)return e;if("string"==typeof e)return parseFloat(e);if(Array.isArray(e))return e.map(t);throw new Error("The value should be a number, a parsable string or an array of those.")};var f=function(t,e){if(null===t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i};var l=function(t){return t&&Object.keys(t).length>0},h=u,v=f,d=l,b={addRefinement:function(t,e,n){if(b.isRefined(t,e,n))return t;var r=""+n,i=t[e]?t[e].concat(r):[r],o={};return o[e]=i,h({},o,t)},removeRefinement:function(t,e,n){if(void 0===n)return b.clearRefinement(t,(function(t,n){return e===n}));var r=""+n;return b.clearRefinement(t,(function(t,n){return e===n&&r===t}))},toggleRefinement:function(t,e,n){if(void 0===n)throw new Error("toggleRefinement should be used with a value");return b.isRefined(t,e,n)?b.removeRefinement(t,e,n):b.addRefinement(t,e,n)},clearRefinement:function(t,e,n){if(void 0===e)return d(t)?{}:t;if("string"==typeof e)return v(t,[e]);if("function"==typeof e){var r=!1,i=Object.keys(t).reduce((function(i,o){var u=t[o]||[],a=u.filter((function(t){return!e(t,o,n)}));return a.length!==u.length&&(r=!0),i[o]=a,i}),{});return r?i:t}},isRefined:function(t,e,n){var r=!!t[e]&&t[e].length>0;if(void 0===n||!r)return r;var i=""+n;return-1!==t[e].indexOf(i)}},m=o,p=u,y=a,g=c,j=s,w=f,O=l,S=function(t){return null!==t&&/^[a-zA-Z0-9_-]{1,64}$/.test(t)},R=b;function N(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length===e.length&&t.every((function(t,n){return N(e[n],t)})):t===e}function T(t){var e=t?T._parseNumbers(t):{};void 0!==e.userToken&&S(e.userToken),this.facets=e.facets||[],this.disjunctiveFacets=e.disjunctiveFacets||[],this.hierarchicalFacets=e.hierarchicalFacets||[],this.facetsRefinements=e.facetsRefinements||{},this.facetsExcludes=e.facetsExcludes||{},this.disjunctiveFacetsRefinements=e.disjunctiveFacetsRefinements||{},this.numericRefinements=e.numericRefinements||{},this.tagRefinements=e.tagRefinements||[],this.hierarchicalFacetsRefinements=e.hierarchicalFacetsRefinements||{};var n=this;Object.keys(e).forEach((function(t){var r=-1!==T.PARAMETERS.indexOf(t),i=void 0!==e[t];!r&&i&&(n[t]=e[t])}))}T.PARAMETERS=Object.keys(new T),T._parseNumbers=function(t){if(t instanceof T)return t;var e={};if(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach((function(n){var r=t[n];if("string"==typeof r){var i=parseFloat(r);e[n]=isNaN(i)?r:i}})),Array.isArray(t.insideBoundingBox)&&(e.insideBoundingBox=t.insideBoundingBox.map((function(t){return Array.isArray(t)?t.map((function(t){return parseFloat(t)})):t}))),t.numericRefinements){var n={};Object.keys(t.numericRefinements).forEach((function(e){var r=t.numericRefinements[e]||{};n[e]={},Object.keys(r).forEach((function(t){var i=r[t].map((function(t){return Array.isArray(t)?t.map((function(t){return"string"==typeof t?parseFloat(t):t})):"string"==typeof t?parseFloat(t):t}));n[e][t]=i}))})),e.numericRefinements=n}return m({},t,e)},T.make=function(t){var e=new T(t);return(t.hierarchicalFacets||[]).forEach((function(t){if(t.rootPath){var n=e.getHierarchicalRefinement(t.name);n.length>0&&0!==n[0].indexOf(t.rootPath)&&(e=e.clearRefinements(t.name)),0===(n=e.getHierarchicalRefinement(t.name)).length&&(e=e.toggleHierarchicalFacetRefinement(t.name,t.rootPath))}})),e},T.validate=function(t,e){var n=e||{};return t.tagFilters&&n.tagRefinements&&n.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):t.tagRefinements.length>0&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):t.numericFilters&&n.numericRefinements&&O(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):O(t.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},T.prototype={constructor:T,clearRefinements:function(t){var e={numericRefinements:this._clearNumericRefinements(t),facetsRefinements:R.clearRefinement(this.facetsRefinements,t,"conjunctiveFacet"),facetsExcludes:R.clearRefinement(this.facetsExcludes,t,"exclude"),disjunctiveFacetsRefinements:R.clearRefinement(this.disjunctiveFacetsRefinements,t,"disjunctiveFacet"),hierarchicalFacetsRefinements:R.clearRefinement(this.hierarchicalFacetsRefinements,t,"hierarchicalFacet")};return e.numericRefinements===this.numericRefinements&&e.facetsRefinements===this.facetsRefinements&&e.facetsExcludes===this.facetsExcludes&&e.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&e.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(e)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(t){return t===this.index?this:this.setQueryParameters({index:t})},setQuery:function(t){return t===this.query?this:this.setQueryParameters({query:t})},setPage:function(t){return t===this.page?this:this.setQueryParameters({page:t})},setFacets:function(t){return this.setQueryParameters({facets:t})},setDisjunctiveFacets:function(t){return this.setQueryParameters({disjunctiveFacets:t})},setHitsPerPage:function(t){return this.hitsPerPage===t?this:this.setQueryParameters({hitsPerPage:t})},setTypoTolerance:function(t){return this.typoTolerance===t?this:this.setQueryParameters({typoTolerance:t})},addNumericRefinement:function(t,e,n){var r=j(n);if(this.isNumericRefined(t,e,r))return this;var i=m({},this.numericRefinements);return i[t]=m({},i[t]),i[t][e]?(i[t][e]=i[t][e].slice(),i[t][e].push(r)):i[t][e]=[r],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(t){return this.isConjunctiveFacet(t)&&this.facetsRefinements[t]||[]},getDisjunctiveRefinements:function(t){return this.isDisjunctiveFacet(t)&&this.disjunctiveFacetsRefinements[t]||[]},getHierarchicalRefinement:function(t){return this.hierarchicalFacetsRefinements[t]||[]},getExcludeRefinements:function(t){return this.isConjunctiveFacet(t)&&this.facetsExcludes[t]||[]},removeNumericRefinement:function(t,e,n){return void 0!==n?this.isNumericRefined(t,e,n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(r,i){return i===t&&r.op===e&&N(r.val,j(n))}))}):this:void 0!==e?this.isNumericRefined(t,e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(n,r){return r===t&&n.op===e}))}):this:this.isNumericRefined(t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(e,n){return n===t}))}):this},getNumericRefinements:function(t){return this.numericRefinements[t]||{}},getNumericRefinement:function(t,e){return this.numericRefinements[t]&&this.numericRefinements[t][e]},_clearNumericRefinements:function(t){if(void 0===t)return O(this.numericRefinements)?{}:this.numericRefinements;if("string"==typeof t)return w(this.numericRefinements,[t]);if("function"==typeof t){var e=!1,n=this.numericRefinements,r=Object.keys(n).reduce((function(r,i){var o=n[i],u={};return o=o||{},Object.keys(o).forEach((function(n){var r=o[n]||[],a=[];r.forEach((function(e){t({val:e,op:n},i,"numeric")||a.push(e)})),a.length!==r.length&&(e=!0),u[n]=a})),r[i]=u,r}),{});return e?r:this.numericRefinements}},addFacet:function(t){return this.isConjunctiveFacet(t)?this:this.setQueryParameters({facets:this.facets.concat([t])})},addDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([t])})},addHierarchicalFacet:function(t){if(this.isHierarchicalFacet(t.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+t.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([t])})},addFacetRefinement:function(t,e){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return R.isRefined(this.facetsRefinements,t,e)?this:this.setQueryParameters({facetsRefinements:R.addRefinement(this.facetsRefinements,t,e)})},addExcludeRefinement:function(t,e){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return R.isRefined(this.facetsExcludes,t,e)?this:this.setQueryParameters({facetsExcludes:R.addRefinement(this.facetsExcludes,t,e)})},addDisjunctiveFacetRefinement:function(t,e){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return R.isRefined(this.disjunctiveFacetsRefinements,t,e)?this:this.setQueryParameters({disjunctiveFacetsRefinements:R.addRefinement(this.disjunctiveFacetsRefinements,t,e)})},addTagRefinement:function(t){if(this.isTagRefined(t))return this;var e={tagRefinements:this.tagRefinements.concat(t)};return this.setQueryParameters(e)},removeFacet:function(t){return this.isConjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({facets:this.facets.filter((function(e){return e!==t}))}):this},removeDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter((function(e){return e!==t}))}):this},removeHierarchicalFacet:function(t){return this.isHierarchicalFacet(t)?this.clearRefinements(t).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter((function(e){return e.name!==t}))}):this},removeFacetRefinement:function(t,e){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return R.isRefined(this.facetsRefinements,t,e)?this.setQueryParameters({facetsRefinements:R.removeRefinement(this.facetsRefinements,t,e)}):this},removeExcludeRefinement:function(t,e){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return R.isRefined(this.facetsExcludes,t,e)?this.setQueryParameters({facetsExcludes:R.removeRefinement(this.facetsExcludes,t,e)}):this},removeDisjunctiveFacetRefinement:function(t,e){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return R.isRefined(this.disjunctiveFacetsRefinements,t,e)?this.setQueryParameters({disjunctiveFacetsRefinements:R.removeRefinement(this.disjunctiveFacetsRefinements,t,e)}):this},removeTagRefinement:function(t){if(!this.isTagRefined(t))return this;var e={tagRefinements:this.tagRefinements.filter((function(e){return e!==t}))};return this.setQueryParameters(e)},toggleRefinement:function(t,e){return this.toggleFacetRefinement(t,e)},toggleFacetRefinement:function(t,e){if(this.isHierarchicalFacet(t))return this.toggleHierarchicalFacetRefinement(t,e);if(this.isConjunctiveFacet(t))return this.toggleConjunctiveFacetRefinement(t,e);if(this.isDisjunctiveFacet(t))return this.toggleDisjunctiveFacetRefinement(t,e);throw new Error("Cannot refine the undeclared facet "+t+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(t,e){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:R.toggleRefinement(this.facetsRefinements,t,e)})},toggleExcludeFacetRefinement:function(t,e){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:R.toggleRefinement(this.facetsExcludes,t,e)})},toggleDisjunctiveFacetRefinement:function(t,e){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:R.toggleRefinement(this.disjunctiveFacetsRefinements,t,e)})},toggleHierarchicalFacetRefinement:function(t,e){if(!this.isHierarchicalFacet(t))throw new Error(t+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(t)),r={};return void 0!==this.hierarchicalFacetsRefinements[t]&&this.hierarchicalFacetsRefinements[t].length>0&&(this.hierarchicalFacetsRefinements[t][0]===e||0===this.hierarchicalFacetsRefinements[t][0].indexOf(e+n))?-1===e.indexOf(n)?r[t]=[]:r[t]=[e.slice(0,e.lastIndexOf(n))]:r[t]=[e],this.setQueryParameters({hierarchicalFacetsRefinements:p({},r,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(t,e){if(this.isHierarchicalFacetRefined(t))throw new Error(t+" is already refined.");if(!this.isHierarchicalFacet(t))throw new Error(t+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var n={};return n[t]=[e],this.setQueryParameters({hierarchicalFacetsRefinements:p({},n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(t){if(!this.isHierarchicalFacetRefined(t))return this;var e={};return e[t]=[],this.setQueryParameters({hierarchicalFacetsRefinements:p({},e,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(t){return this.isTagRefined(t)?this.removeTagRefinement(t):this.addTagRefinement(t)},isDisjunctiveFacet:function(t){return this.disjunctiveFacets.indexOf(t)>-1},isHierarchicalFacet:function(t){return void 0!==this.getHierarchicalFacetByName(t)},isConjunctiveFacet:function(t){return this.facets.indexOf(t)>-1},isFacetRefined:function(t,e){return!!this.isConjunctiveFacet(t)&&R.isRefined(this.facetsRefinements,t,e)},isExcludeRefined:function(t,e){return!!this.isConjunctiveFacet(t)&&R.isRefined(this.facetsExcludes,t,e)},isDisjunctiveFacetRefined:function(t,e){return!!this.isDisjunctiveFacet(t)&&R.isRefined(this.disjunctiveFacetsRefinements,t,e)},isHierarchicalFacetRefined:function(t,e){if(!this.isHierarchicalFacet(t))return!1;var n=this.getHierarchicalRefinement(t);return e?-1!==n.indexOf(e):n.length>0},isNumericRefined:function(t,e,n){if(void 0===n&&void 0===e)return!!this.numericRefinements[t];var r=this.numericRefinements[t]&&void 0!==this.numericRefinements[t][e];if(void 0===n||!r)return r;var i,o,u=j(n),a=void 0!==(i=this.numericRefinements[t][e],o=u,g(i,(function(t){return N(t,o)})));return r&&a},isTagRefined:function(t){return-1!==this.tagRefinements.indexOf(t)},getRefinedDisjunctiveFacets:function(){var t=this,e=y(Object.keys(this.numericRefinements).filter((function(e){return Object.keys(t.numericRefinements[e]).length>0})),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter((function(e){return t.disjunctiveFacetsRefinements[e].length>0})).concat(e).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){var t=this;return y(this.hierarchicalFacets.map((function(t){return t.name})),Object.keys(this.hierarchicalFacetsRefinements).filter((function(e){return t.hierarchicalFacetsRefinements[e].length>0})))},getUnrefinedDisjunctiveFacets:function(){var t=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter((function(e){return-1===t.indexOf(e)}))},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var t=this.managedParameters,e={},n=this;return Object.keys(this).forEach((function(r){var i=n[r];-1===t.indexOf(r)&&void 0!==i&&(e[r]=i)})),e},setQueryParameter:function(t,e){if(this[t]===e)return this;var n={};return n[t]=e,this.setQueryParameters(n)},setQueryParameters:function(t){if(!t)return this;var e=T.validate(this,t);if(e)throw e;var n=this,r=T._parseNumbers(t),i=Object.keys(this).reduce((function(t,e){return t[e]=n[e],t}),{}),o=Object.keys(r).reduce((function(t,e){var n=void 0!==t[e],i=void 0!==r[e];return n&&!i?w(t,[e]):(i&&(t[e]=r[e]),t)}),i);return new this.constructor(o)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(t){return t.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(t){return t.separator||" > "},_getHierarchicalRootPath:function(t){return t.rootPath||null},_getHierarchicalShowParentLevel:function(t){return"boolean"!=typeof t.showParentLevel||t.showParentLevel},getHierarchicalFacetByName:function(t){return g(this.hierarchicalFacets,(function(e){return e.name===t}))},getHierarchicalFacetBreadcrumb:function(t){if(!this.isHierarchicalFacet(t))return[];var e=this.getHierarchicalRefinement(t)[0];if(!e)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(t));return e.split(n).map((function(t){return t.trim()}))},toString:function(){return JSON.stringify(this,null,2)}};var P=T;function E(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=void 0!==e,o=null===e;if(!o&&t>e||r&&i||!n)return 1;if(!r&&t<e||o&&n||!i)return-1}return 0}var x=function(t,e,n){if(!Array.isArray(t))return[];Array.isArray(n)||(n=[]);var r=t.map((function(t,n){return{criteria:e.map((function(e){return t[e]})),index:n,value:t}}));return r.sort((function(t,e){for(var r=-1;++r<t.criteria.length;){var i=E(t.criteria[r],e.criteria[r]);if(i)return r>=n.length?i:"desc"===n[r]?-i:i}return t.index-e.index})),r.map((function(t){return t.value}))},k=c,I=function(t,e){var n=(e||[]).map((function(t){return t.split(":")}));return t.reduce((function(t,e){var r=e.split(":"),i=k(n,(function(t){return t[0]===r[0]}));return r.length>1||!i?(t[0].push(r[0]),t[1].push(r[1]),t):(t[0].push(i[0]),t[1].push(i[1]),t)}),[[],[]])};var C={escapeFacetValue:function(t){return"string"!=typeof t?t:String(t).replace(/^-/,"\\-")},unescapeFacetValue:function(t){return"string"!=typeof t?t:t.replace(/^\\-/,"-")}},A=function(t){return function(e,n){var r=t.hierarchicalFacets[n],i=t.hierarchicalFacetsRefinements[r.name]&&t.hierarchicalFacetsRefinements[r.name][0]||"",o=t._getHierarchicalFacetSeparator(r),u=t._getHierarchicalRootPath(r),a=t._getHierarchicalShowParentLevel(r),c=_(t._getHierarchicalFacetSortBy(r)),s=e.every((function(t){return t.exhaustive})),f=function(t,e,n,r,i){return function(o,u,a){var c=o;if(a>0){var s=0;for(c=o;s<a;){var f=c&&Array.isArray(c.data)?c.data:[];c=H(f,(function(t){return t.isRefined})),s++}}if(c){var l=Object.keys(u.data).map((function(t){return[t,u.data[t]]})).filter((function(t){return function(t,e,n,r,i,o){if(i&&(0!==t.indexOf(i)||i===t))return!1;return!i&&-1===t.indexOf(r)||i&&t.split(r).length-i.split(r).length==1||-1===t.indexOf(r)&&-1===n.indexOf(r)||0===n.indexOf(t)||0===t.indexOf(e+r)&&(o||0===t.indexOf(n))}(t[0],c.path||n,i,e,n,r)}));c.data=F(l.map((function(t){var n=t[0];return function(t,e,n,r,i){var o=e.split(n);return{name:o[o.length-1].trim(),path:e,escapedValue:q(e),count:t,isRefined:r===e||0===r.indexOf(e+n),exhaustive:i,data:null}}(t[1],n,e,L(i),u.exhaustive)})),t[0],t[1])}return o}}(c,o,u,a,i),l=e;return u&&(l=e.slice(u.split(o).length)),l.reduce(f,{name:t.hierarchicalFacets[n].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:s,data:null})}},F=x,H=c,_=I,q=C.escapeFacetValue,L=C.unescapeFacetValue;var D=o,U=u,M=x,$=function(t){return Array.isArray(t)?t.filter(Boolean):[]},B=c,W=function(t,e){if(!Array.isArray(t))return-1;for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1},J=I,Q=C.escapeFacetValue,V=C.unescapeFacetValue,z=A;function K(t){var e={};return t.forEach((function(t,n){e[t]=n})),e}function Y(t,e,n){e&&e[n]&&(t.stats=e[n])}function G(t,e,n){var r=e[0];this._rawResults=e;var i=this;Object.keys(r).forEach((function(t){i[t]=r[t]})),Object.keys(n||{}).forEach((function(t){i[t]=n[t]})),this.processingTimeMS=e.reduce((function(t,e){return void 0===e.processingTimeMS?t:t+e.processingTimeMS}),0),this.disjunctiveFacets=[],this.hierarchicalFacets=t.hierarchicalFacets.map((function(){return[]})),this.facets=[];var o=t.getRefinedDisjunctiveFacets(),u=K(t.facets),a=K(t.disjunctiveFacets),c=1,s=r.facets||{};Object.keys(s).forEach((function(e){var n,o,c=s[e],f=(n=t.hierarchicalFacets,o=e,B(n,(function(t){return(t.attributes||[]).indexOf(o)>-1})));if(f){var l=f.attributes.indexOf(e),h=W(t.hierarchicalFacets,(function(t){return t.name===f.name}));i.hierarchicalFacets[h][l]={attribute:e,data:c,exhaustive:r.exhaustiveFacetsCount}}else{var v,d=-1!==t.disjunctiveFacets.indexOf(e),b=-1!==t.facets.indexOf(e);d&&(v=a[e],i.disjunctiveFacets[v]={name:e,data:c,exhaustive:r.exhaustiveFacetsCount},Y(i.disjunctiveFacets[v],r.facets_stats,e)),b&&(v=u[e],i.facets[v]={name:e,data:c,exhaustive:r.exhaustiveFacetsCount},Y(i.facets[v],r.facets_stats,e))}})),this.hierarchicalFacets=$(this.hierarchicalFacets),o.forEach((function(n){var o=e[c],u=o&&o.facets?o.facets:{},s=t.getHierarchicalFacetByName(n);Object.keys(u).forEach((function(e){var n,c=u[e];if(s){n=W(t.hierarchicalFacets,(function(t){return t.name===s.name}));var f=W(i.hierarchicalFacets[n],(function(t){return t.attribute===e}));if(-1===f)return;i.hierarchicalFacets[n][f].data=D({},i.hierarchicalFacets[n][f].data,c)}else{n=a[e];var l=r.facets&&r.facets[e]||{};i.disjunctiveFacets[n]={name:e,data:U({},c,l),exhaustive:o.exhaustiveFacetsCount},Y(i.disjunctiveFacets[n],o.facets_stats,e),t.disjunctiveFacetsRefinements[e]&&t.disjunctiveFacetsRefinements[e].forEach((function(r){!i.disjunctiveFacets[n].data[r]&&t.disjunctiveFacetsRefinements[e].indexOf(V(r))>-1&&(i.disjunctiveFacets[n].data[r]=0)}))}})),c++})),t.getRefinedHierarchicalFacets().forEach((function(n){var r=t.getHierarchicalFacetByName(n),o=t._getHierarchicalFacetSeparator(r),u=t.getHierarchicalRefinement(n);0===u.length||u[0].split(o).length<2||e.slice(c).forEach((function(e){var n=e&&e.facets?e.facets:{};Object.keys(n).forEach((function(e){var a=n[e],c=W(t.hierarchicalFacets,(function(t){return t.name===r.name})),s=W(i.hierarchicalFacets[c],(function(t){return t.attribute===e}));if(-1!==s){var f={};if(u.length>0){var l=u[0].split(o)[0];f[l]=i.hierarchicalFacets[c][s].data[l]}i.hierarchicalFacets[c][s].data=U(f,a,i.hierarchicalFacets[c][s].data)}})),c++}))})),Object.keys(t.facetsExcludes).forEach((function(e){var n=t.facetsExcludes[e],o=u[e];i.facets[o]={name:e,data:r.facets[e],exhaustive:r.exhaustiveFacetsCount},n.forEach((function(t){i.facets[o]=i.facets[o]||{name:e},i.facets[o].data=i.facets[o].data||{},i.facets[o].data[t]=0}))})),this.hierarchicalFacets=this.hierarchicalFacets.map(z(t)),this.facets=$(this.facets),this.disjunctiveFacets=$(this.disjunctiveFacets),this._state=t}function X(t,e,n,r){if(r=r||0,Array.isArray(e))return t(e,n[r]);if(!e.data||0===e.data.length)return e;var i=e.data.map((function(e){return X(t,e,n,r+1)})),o=t(i,n[r]);return U({data:o},e)}function Z(t,e){var n=B(t,(function(t){return t.name===e}));return n&&n.stats}function tt(t,e,n,r,i){var o=B(i,(function(t){return t.name===n})),u=o&&o.data&&o.data[r]?o.data[r]:0,a=o&&o.exhaustive||!1;return{type:e,attributeName:n,name:r,count:u,exhaustive:a}}G.prototype.getFacetByName=function(t){function e(e){return e.name===t}return B(this.facets,e)||B(this.disjunctiveFacets,e)||B(this.hierarchicalFacets,e)},G.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],G.prototype.getFacetValues=function(t,e){var n=function(t,e){function n(t){return t.name===e}if(t._state.isConjunctiveFacet(e)){var r=B(t.facets,n);return r?Object.keys(r.data).map((function(n){var i=Q(n);return{name:n,escapedValue:i,count:r.data[n],isRefined:t._state.isFacetRefined(e,i),isExcluded:t._state.isExcludeRefined(e,n)}})):[]}if(t._state.isDisjunctiveFacet(e)){var i=B(t.disjunctiveFacets,n);return i?Object.keys(i.data).map((function(n){var r=Q(n);return{name:n,escapedValue:r,count:i.data[n],isRefined:t._state.isDisjunctiveFacetRefined(e,r)}})):[]}if(t._state.isHierarchicalFacet(e))return B(t.hierarchicalFacets,n)}(this,t);if(n){var r,i=U({},e,{sortBy:G.DEFAULT_SORT,facetOrdering:!(e&&e.sortBy)}),o=this;if(Array.isArray(n))r=[t];else r=o._state.getHierarchicalFacetByName(n.name).attributes;return X((function(t,e){if(i.facetOrdering){var n=function(t,e){return t.renderingContent&&t.renderingContent.facetOrdering&&t.renderingContent.facetOrdering.values&&t.renderingContent.facetOrdering.values[e]}(o,e);if(Boolean(n))return function(t,e){var n=[],r=[],i=(e.order||[]).reduce((function(t,e,n){return t[e]=n,t}),{});t.forEach((function(t){var e=t.path||t.name;void 0!==i[e]?n[i[e]]=t:r.push(t)})),n=n.filter((function(t){return t}));var o,u=e.sortRemainingBy;return"hidden"===u?n:(o="alpha"===u?[["path","name"],["asc","asc"]]:[["count"],["desc"]],n.concat(M(r,o[0],o[1])))}(t,n)}if(Array.isArray(i.sortBy)){var r=J(i.sortBy,G.DEFAULT_SORT);return M(t,r[0],r[1])}if("function"==typeof i.sortBy)return function(t,e){return e.sort(t)}(i.sortBy,t);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")}),n,r)}},G.prototype.getFacetStats=function(t){return this._state.isConjunctiveFacet(t)?Z(this.facets,t):this._state.isDisjunctiveFacet(t)?Z(this.disjunctiveFacets,t):void 0},G.prototype.getRefinements=function(){var t=this._state,e=this,n=[];return Object.keys(t.facetsRefinements).forEach((function(r){t.facetsRefinements[r].forEach((function(i){n.push(tt(t,"facet",r,i,e.facets))}))})),Object.keys(t.facetsExcludes).forEach((function(r){t.facetsExcludes[r].forEach((function(i){n.push(tt(t,"exclude",r,i,e.facets))}))})),Object.keys(t.disjunctiveFacetsRefinements).forEach((function(r){t.disjunctiveFacetsRefinements[r].forEach((function(i){n.push(tt(t,"disjunctive",r,i,e.disjunctiveFacets))}))})),Object.keys(t.hierarchicalFacetsRefinements).forEach((function(r){t.hierarchicalFacetsRefinements[r].forEach((function(i){n.push(function(t,e,n,r){var i=t.getHierarchicalFacetByName(e),o=t._getHierarchicalFacetSeparator(i),u=n.split(o),a=B(r,(function(t){return t.name===e})),c=u.reduce((function(t,e){var n=t&&B(t.data,(function(t){return t.name===e}));return void 0!==n?n:t}),a),s=c&&c.count||0,f=c&&c.exhaustive||!1,l=c&&c.path||"";return{type:"hierarchical",attributeName:e,name:l,count:s,exhaustive:f}}(t,r,i,e.hierarchicalFacets))}))})),Object.keys(t.numericRefinements).forEach((function(e){var r=t.numericRefinements[e];Object.keys(r).forEach((function(t){r[t].forEach((function(r){n.push({type:"numeric",attributeName:e,name:r,numericValue:r,operator:t})}))}))})),t.tagRefinements.forEach((function(t){n.push({type:"tag",attributeName:"_tags",name:t})})),n};var et=G;function nt(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var rt=nt;function it(t){return"function"==typeof t}function ot(t){return"object"==typeof t&&null!==t}function ut(t){return void 0===t}nt.prototype._events=void 0,nt.prototype._maxListeners=void 0,nt.defaultMaxListeners=10,nt.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},nt.prototype.emit=function(t){var e,n,r,i,o,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||ot(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var a=new Error('Uncaught, unspecified "error" event. ('+e+")");throw a.context=e,a}if(ut(n=this._events[t]))return!1;if(it(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(ot(n))for(i=Array.prototype.slice.call(arguments,1),r=(u=n.slice()).length,o=0;o<r;o++)u[o].apply(this,i);return!0},nt.prototype.addListener=function(t,e){var n;if(!it(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,it(e.listener)?e.listener:e),this._events[t]?ot(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,ot(this._events[t])&&!this._events[t].warned&&(n=ut(this._maxListeners)?nt.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0),this},nt.prototype.on=nt.prototype.addListener,nt.prototype.once=function(t,e){if(!it(e))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this},nt.prototype.removeListener=function(t,e){var n,r,i,o;if(!it(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=(n=this._events[t]).length,r=-1,n===e||it(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(ot(n)){for(o=i;o-- >0;)if(n[o]===e||n[o].listener&&n[o].listener===e){r=o;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},nt.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(it(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},nt.prototype.listeners=function(t){return this._events&&this._events[t]?it(this._events[t])?[this._events[t]]:this._events[t].slice():[]},nt.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(it(e))return 1;if(e)return e.length}return 0},nt.listenerCount=function(t,e){return t.listenerCount(e)};var at=function(t,e){t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})};function ct(t,e){this.main=t,this.fn=e,this.lastResults=null}at(ct,rt),ct.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},ct.prototype.getModifiedState=function(t){return this.fn(t)};var st=o;function ft(t){return Object.keys(t).sort((function(t,e){return t.localeCompare(e)})).reduce((function(e,n){return e[n]=t[n],e}),{})}var lt={_getQueries:function(t,e){var n=[];return n.push({indexName:t,params:lt._getHitsSearchParams(e)}),e.getRefinedDisjunctiveFacets().forEach((function(r){n.push({indexName:t,params:lt._getDisjunctiveFacetSearchParams(e,r)})})),e.getRefinedHierarchicalFacets().forEach((function(r){var i=e.getHierarchicalFacetByName(r),o=e.getHierarchicalRefinement(r),u=e._getHierarchicalFacetSeparator(i);if(o.length>0&&o[0].split(u).length>1){var a=o[0].split(u).slice(0,-1).reduce((function(t,e,n){return t.concat({attribute:i.attributes[n],value:0===n?e:[t[t.length-1].value,e].join(u)})}),[]);a.forEach((function(r,o){var u=lt._getDisjunctiveFacetSearchParams(e,r.attribute,0===o);function c(t){return i.attributes.some((function(e){return e===t.split(":")[0]}))}var s=(u.facetFilters||[]).reduce((function(t,e){if(Array.isArray(e)){var n=e.filter((function(t){return!c(t)}));n.length>0&&t.push(n)}return"string"!=typeof e||c(e)||t.push(e),t}),[]),f=a[o-1];u.facetFilters=o>0?s.concat(f.attribute+":"+f.value):s.length>0?s:void 0,n.push({indexName:t,params:u})}))}})),n},_getHitsSearchParams:function(t){var e=t.facets.concat(t.disjunctiveFacets).concat(lt._getHitsHierarchicalFacetsAttributes(t)),n=lt._getFacetFilters(t),r=lt._getNumericFilters(t),i=lt._getTagFilters(t),o={facets:e.indexOf("*")>-1?["*"]:e,tagFilters:i};return n.length>0&&(o.facetFilters=n),r.length>0&&(o.numericFilters=r),ft(st({},t.getQueryParams(),o))},_getDisjunctiveFacetSearchParams:function(t,e,n){var r=lt._getFacetFilters(t,e,n),i=lt._getNumericFilters(t,e),o=lt._getTagFilters(t),u={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};o.length>0&&(u.tagFilters=o);var a=t.getHierarchicalFacetByName(e);return u.facets=a?lt._getDisjunctiveHierarchicalFacetAttribute(t,a,n):e,i.length>0&&(u.numericFilters=i),r.length>0&&(u.facetFilters=r),ft(st({},t.getQueryParams(),u))},_getNumericFilters:function(t,e){if(t.numericFilters)return t.numericFilters;var n=[];return Object.keys(t.numericRefinements).forEach((function(r){var i=t.numericRefinements[r]||{};Object.keys(i).forEach((function(t){var o=i[t]||[];e!==r&&o.forEach((function(e){if(Array.isArray(e)){var i=e.map((function(e){return r+t+e}));n.push(i)}else n.push(r+t+e)}))}))})),n},_getTagFilters:function(t){return t.tagFilters?t.tagFilters:t.tagRefinements.join(",")},_getFacetFilters:function(t,e,n){var r=[],i=t.facetsRefinements||{};Object.keys(i).forEach((function(t){(i[t]||[]).forEach((function(e){r.push(t+":"+e)}))}));var o=t.facetsExcludes||{};Object.keys(o).forEach((function(t){(o[t]||[]).forEach((function(e){r.push(t+":-"+e)}))}));var u=t.disjunctiveFacetsRefinements||{};Object.keys(u).forEach((function(t){var n=u[t]||[];if(t!==e&&n&&0!==n.length){var i=[];n.forEach((function(e){i.push(t+":"+e)})),r.push(i)}}));var a=t.hierarchicalFacetsRefinements||{};return Object.keys(a).forEach((function(i){var o=(a[i]||[])[0];if(void 0!==o){var u,c,s=t.getHierarchicalFacetByName(i),f=t._getHierarchicalFacetSeparator(s),l=t._getHierarchicalRootPath(s);if(e===i){if(-1===o.indexOf(f)||!l&&!0===n||l&&l.split(f).length===o.split(f).length)return;l?(c=l.split(f).length-1,o=l):(c=o.split(f).length-2,o=o.slice(0,o.lastIndexOf(f))),u=s.attributes[c]}else c=o.split(f).length-1,u=s.attributes[c];u&&r.push([u+":"+o])}})),r},_getHitsHierarchicalFacetsAttributes:function(t){return t.hierarchicalFacets.reduce((function(e,n){var r=t.getHierarchicalRefinement(n.name)[0];if(!r)return e.push(n.attributes[0]),e;var i=t._getHierarchicalFacetSeparator(n),o=r.split(i).length,u=n.attributes.slice(0,o+1);return e.concat(u)}),[])},_getDisjunctiveHierarchicalFacetAttribute:function(t,e,n){var r=t._getHierarchicalFacetSeparator(e);if(!0===n){var i=t._getHierarchicalRootPath(e),o=0;return i&&(o=i.split(r).length),[e.attributes[o]]}var u=(t.getHierarchicalRefinement(e.name)[0]||"").split(r).length-1;return e.attributes.slice(0,u+1)},getSearchForFacetQuery:function(t,e,n,r){var i=r.isDisjunctiveFacet(t)?r.clearRefinements(t):r,o={facetQuery:e,facetName:t};return"number"==typeof n&&(o.maxFacetHits=n),ft(st({},lt._getHitsSearchParams(i),o))}},ht="3.11.1",vt=P,dt=et,bt=ct,mt=lt,pt=l,yt=f,gt=o,jt=ht,wt=C.escapeFacetValue;function Ot(t,e,n){"function"==typeof t.addAlgoliaAgent&&t.addAlgoliaAgent("JS Helper ("+jt+")"),this.setClient(t);var r=n||{};r.index=e,this.state=vt.make(r),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}function St(t){if(t<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(t),isPageReset:!1}),this}function Rt(){return this.state.page}at(Ot,rt),Ot.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},Ot.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},Ot.prototype.getQuery=function(){var t=this.state;return mt._getHitsSearchParams(t)},Ot.prototype.searchOnce=function(t,e){var n=t?this.state.setQueryParameters(t):this.state,r=mt._getQueries(n.index,n),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:n}),!e)return this.client.search(r).then((function(t){return i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),{content:new dt(n,t.results),state:n,_originalResponse:t}}),(function(t){throw i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t}));this.client.search(r).then((function(t){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),e(null,new dt(n,t.results),n)})).catch((function(t){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),e(t,null,n)}))},Ot.prototype.findAnswers=function(t){var e=this.state,n=this.derivedHelpers[0];if(!n)return Promise.resolve([]);var r=n.getModifiedState(e),i=gt({attributesForPrediction:t.attributesForPrediction,nbHits:t.nbHits},{params:yt(mt._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),o="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if("function"!=typeof this.client.initIndex)throw new Error(o);var u=this.client.initIndex(r.index);if("function"!=typeof u.findAnswers)throw new Error(o);return u.findAnswers(r.query,t.queryLanguages,i)},Ot.prototype.searchForFacetValues=function(t,e,n,r){var i="function"==typeof this.client.searchForFacetValues,o="function"==typeof this.client.initIndex;if(!i&&!o&&"function"!=typeof this.client.search)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var u=this.state.setQueryParameters(r||{}),a=u.isDisjunctiveFacet(t),c=mt.getSearchForFacetQuery(t,e,n,u);this._currentNbQueries++;var s,f=this;return i?s=this.client.searchForFacetValues([{indexName:u.index,params:c}]):o?s=this.client.initIndex(u.index).searchForFacetValues(c):(delete c.facetName,s=this.client.search([{type:"facet",facet:t,indexName:u.index,params:c}]).then((function(t){return t.results[0]}))),this.emit("searchForFacetValues",{state:u,facet:t,query:e}),s.then((function(e){return f._currentNbQueries--,0===f._currentNbQueries&&f.emit("searchQueueEmpty"),(e=Array.isArray(e)?e[0]:e).facetHits.forEach((function(e){e.escapedValue=wt(e.value),e.isRefined=a?u.isDisjunctiveFacetRefined(t,e.escapedValue):u.isFacetRefined(t,e.escapedValue)})),e}),(function(t){throw f._currentNbQueries--,0===f._currentNbQueries&&f.emit("searchQueueEmpty"),t}))},Ot.prototype.setQuery=function(t){return this._change({state:this.state.resetPage().setQuery(t),isPageReset:!0}),this},Ot.prototype.clearRefinements=function(t){return this._change({state:this.state.resetPage().clearRefinements(t),isPageReset:!0}),this},Ot.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},Ot.prototype.addDisjunctiveFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(t,e),isPageReset:!0}),this},Ot.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},Ot.prototype.addHierarchicalFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(t,e),isPageReset:!0}),this},Ot.prototype.addNumericRefinement=function(t,e,n){return this._change({state:this.state.resetPage().addNumericRefinement(t,e,n),isPageReset:!0}),this},Ot.prototype.addFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().addFacetRefinement(t,e),isPageReset:!0}),this},Ot.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},Ot.prototype.addFacetExclusion=function(t,e){return this._change({state:this.state.resetPage().addExcludeRefinement(t,e),isPageReset:!0}),this},Ot.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},Ot.prototype.addTag=function(t){return this._change({state:this.state.resetPage().addTagRefinement(t),isPageReset:!0}),this},Ot.prototype.removeNumericRefinement=function(t,e,n){return this._change({state:this.state.resetPage().removeNumericRefinement(t,e,n),isPageReset:!0}),this},Ot.prototype.removeDisjunctiveFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(t,e),isPageReset:!0}),this},Ot.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},Ot.prototype.removeHierarchicalFacetRefinement=function(t){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(t),isPageReset:!0}),this},Ot.prototype.removeFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().removeFacetRefinement(t,e),isPageReset:!0}),this},Ot.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},Ot.prototype.removeFacetExclusion=function(t,e){return this._change({state:this.state.resetPage().removeExcludeRefinement(t,e),isPageReset:!0}),this},Ot.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},Ot.prototype.removeTag=function(t){return this._change({state:this.state.resetPage().removeTagRefinement(t),isPageReset:!0}),this},Ot.prototype.toggleFacetExclusion=function(t,e){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(t,e),isPageReset:!0}),this},Ot.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},Ot.prototype.toggleRefinement=function(t,e){return this.toggleFacetRefinement(t,e)},Ot.prototype.toggleFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().toggleFacetRefinement(t,e),isPageReset:!0}),this},Ot.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},Ot.prototype.toggleTag=function(t){return this._change({state:this.state.resetPage().toggleTagRefinement(t),isPageReset:!0}),this},Ot.prototype.nextPage=function(){var t=this.state.page||0;return this.setPage(t+1)},Ot.prototype.previousPage=function(){var t=this.state.page||0;return this.setPage(t-1)},Ot.prototype.setCurrentPage=St,Ot.prototype.setPage=St,Ot.prototype.setIndex=function(t){return this._change({state:this.state.resetPage().setIndex(t),isPageReset:!0}),this},Ot.prototype.setQueryParameter=function(t,e){return this._change({state:this.state.resetPage().setQueryParameter(t,e),isPageReset:!0}),this},Ot.prototype.setState=function(t){return this._change({state:vt.make(t),isPageReset:!1}),this},Ot.prototype.overrideStateWithoutTriggeringChangeEvent=function(t){return this.state=new vt(t),this},Ot.prototype.hasRefinements=function(t){return!!pt(this.state.getNumericRefinements(t))||(this.state.isConjunctiveFacet(t)?this.state.isFacetRefined(t):this.state.isDisjunctiveFacet(t)?this.state.isDisjunctiveFacetRefined(t):!!this.state.isHierarchicalFacet(t)&&this.state.isHierarchicalFacetRefined(t))},Ot.prototype.isExcluded=function(t,e){return this.state.isExcludeRefined(t,e)},Ot.prototype.isDisjunctiveRefined=function(t,e){return this.state.isDisjunctiveFacetRefined(t,e)},Ot.prototype.hasTag=function(t){return this.state.isTagRefined(t)},Ot.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},Ot.prototype.getIndex=function(){return this.state.index},Ot.prototype.getCurrentPage=Rt,Ot.prototype.getPage=Rt,Ot.prototype.getTags=function(){return this.state.tagRefinements},Ot.prototype.getRefinements=function(t){var e=[];if(this.state.isConjunctiveFacet(t))this.state.getConjunctiveRefinements(t).forEach((function(t){e.push({value:t,type:"conjunctive"})})),this.state.getExcludeRefinements(t).forEach((function(t){e.push({value:t,type:"exclude"})}));else if(this.state.isDisjunctiveFacet(t)){this.state.getDisjunctiveRefinements(t).forEach((function(t){e.push({value:t,type:"disjunctive"})}))}var n=this.state.getNumericRefinements(t);return Object.keys(n).forEach((function(t){var r=n[t];e.push({value:r,operator:t,type:"numeric"})})),e},Ot.prototype.getNumericRefinement=function(t,e){return this.state.getNumericRefinement(t,e)},Ot.prototype.getHierarchicalFacetBreadcrumb=function(t){return this.state.getHierarchicalFacetBreadcrumb(t)},Ot.prototype._search=function(t){var e=this.state,n=[],r=[];t.onlyWithDerivedHelpers||(r=mt._getQueries(e.index,e),n.push({state:e,queriesCount:r.length,helper:this}),this.emit("search",{state:e,results:this.lastResults}));var i=this.derivedHelpers.map((function(t){var r=t.getModifiedState(e),i=mt._getQueries(r.index,r);return n.push({state:r,queriesCount:i.length,helper:t}),t.emit("search",{state:r,results:t.lastResults}),i})),o=Array.prototype.concat.apply(r,i),u=this._queryId++;this._currentNbQueries++;try{this.client.search(o).then(this._dispatchAlgoliaResponse.bind(this,n,u)).catch(this._dispatchAlgoliaError.bind(this,u))}catch(t){this.emit("error",{error:t})}},Ot.prototype._dispatchAlgoliaResponse=function(t,e,n){if(!(e<this._lastQueryIdReceived)){this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var r=n.results.slice();t.forEach((function(t){var e=t.state,n=t.queriesCount,i=t.helper,o=r.splice(0,n),u=i.lastResults=new dt(e,o);i.emit("result",{results:u,state:e})}))}},Ot.prototype._dispatchAlgoliaError=function(t,e){t<this._lastQueryIdReceived||(this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,this.emit("error",{error:e}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},Ot.prototype.containsRefinement=function(t,e,n,r){return t||0!==e.length||0!==n.length||0!==r.length},Ot.prototype._hasDisjunctiveRefinements=function(t){return this.state.disjunctiveRefinements[t]&&this.state.disjunctiveRefinements[t].length>0},Ot.prototype._change=function(t){var e=t.state,n=t.isPageReset;e!==this.state&&(this.state=e,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:n}))},Ot.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},Ot.prototype.setClient=function(t){return this.client===t||("function"==typeof t.addAlgoliaAgent&&t.addAlgoliaAgent("JS Helper ("+jt+")"),this.client=t),this},Ot.prototype.getClient=function(){return this.client},Ot.prototype.derive=function(t){var e=new bt(this,t);return this.derivedHelpers.push(e),e},Ot.prototype.detachDerivedHelper=function(t){var e=this.derivedHelpers.indexOf(t);if(-1===e)throw new Error("Derived helper already detached");this.derivedHelpers.splice(e,1)},Ot.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};var Nt=Ot,Tt=P,Pt=et;function Et(t,e,n){return new Nt(t,e,n)}Et.version=ht,Et.AlgoliaSearchHelper=Nt,Et.SearchParameters=Tt,Et.SearchResults=Pt;var xt=Et;function kt(t){return t.toString().charAt(0).toUpperCase()+t.toString().slice(1)}function It(){}var Ct=function(t,e){return t},At=It,Ft=It;"development"===process.env.NODE_ENV&&(At=function(t){},Ct=function(t,e){var n=!1;return function(){return n||(n=!0,"development"===process.env.NODE_ENV&&At(e)),t.apply(void 0,arguments)}},(Ft=function(t,e){t||(Ft.cache[e]||(Ft.cache[e]=!0,"development"===process.env.NODE_ENV&&At(e)))}).cache={});var Ht=Object.keys;function _t(t){return function(t){if(Array.isArray(t))return Dt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Lt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,u,a=[],c=!0,s=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){s=!0,i=t}finally{try{if(!c&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(s)throw i}}return a}}(t,e)||Lt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(t,e){if(t){if("string"==typeof t)return Dt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dt(t,e):void 0}}function Dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ut={query:{connectors:["connectSearchBox"],widgets:["ais.searchBox","ais.autocomplete","ais.voiceSearch"]},refinementList:{connectors:["connectRefinementList"],widgets:["ais.refinementList"]},menu:{connectors:["connectMenu"],widgets:["ais.menu"]},hierarchicalMenu:{connectors:["connectHierarchicalMenu"],widgets:["ais.hierarchicalMenu"]},numericMenu:{connectors:["connectNumericMenu"],widgets:["ais.numericMenu"]},ratingMenu:{connectors:["connectRatingMenu"],widgets:["ais.ratingMenu"]},range:{connectors:["connectRange"],widgets:["ais.rangeInput","ais.rangeSlider","ais.range"]},toggle:{connectors:["connectToggleRefinement"],widgets:["ais.toggleRefinement"]},geoSearch:{connectors:["connectGeoSearch"],widgets:["ais.geoSearch"]},sortBy:{connectors:["connectSortBy"],widgets:["ais.sortBy"]},page:{connectors:["connectPagination"],widgets:["ais.pagination","ais.infiniteHits"]},hitsPerPage:{connectors:["connectHitsPerPage"],widgets:["ais.hitsPerPage"]},configure:{connectors:["connectConfigure"],widgets:["ais.configure"]},places:{connectors:[],widgets:["ais.places"]}};function Mt(t){var e=t.index,n=t.indexUiState,r=e.getWidgets().map((function(t){return t.$$type})).filter(Boolean),i=Ht(n).reduce((function(t,e){var n=Ut[e];if(!n)return t;var i=n.widgets;return i&&!i.some((function(t){return r.includes(t)}))&&t.push([e,{connectors:n.connectors,widgets:n.widgets.map((function(t){return t.split("ais.")[1]}))}]),t}),[]);"development"===process.env.NODE_ENV&&Ft(0===i.length,'The UI state for the index "'.concat(e.getIndexId(),'" is not consistent with the widgets mounted.\n\nThis can happen when the UI state is specified via `initialUiState`, `routing` or `setUiState` but that the widgets responsible for this state were not added. This results in those query parameters not being sent to the API.\n\nTo fully reflect the state, some widgets need to be added to the index "').concat(e.getIndexId(),'":\n\n').concat(i.map((function(t){var e,n=qt(t,2),r=n[0],i=n[1].widgets;return"- `".concat(r,"` needs one of these widgets: ").concat((e=[]).concat.apply(e,_t(i.map((function(t){return function(t){switch(t){case"range":return[];case"menu":return["menu","menuSelect"];default:return[t]}}(t)})))).map((function(t){return'"'.concat(t,'"')})).join(", "))})).join("\n"),'\n\nIf you do not wish to display widgets but still want to support their search parameters, you can mount "virtual widgets" that don\'t render anything:\n\n```\n').concat(i.filter((function(t){var e=qt(t,2);return e[0],e[1].connectors.length>0})).map((function(t){var e=qt(t,2);e[0];var n=e[1],r=n.connectors,i=kt(n.widgets[0]),o=r[0];return"const virtual".concat(i," = ").concat(o,"(() => null);")})).join("\n"),"\n\nsearch.addWidgets([\n  ").concat(i.filter((function(t){var e=qt(t,2);return e[0],e[1].connectors.length>0})).map((function(t){var e=qt(t,2);e[0];var n=kt(e[1].widgets[0]);return"virtual".concat(n,"({ /* ... */ })")})).join(",\n  "),"\n]);\n```\n\nIf you're using custom widgets that do set these query parameters, we recommend using connectors instead.\n\nSee https://www.algolia.com/doc/guides/building-search-ui/widgets/customize-an-existing-widget/js/#customize-the-complete-ui-of-the-widgets"))}function $t(t,e){if(void 0===t||"function"!=typeof t)throw new Error("The render function is not valid (received type ".concat((n=t,Object.prototype.toString.call(n).slice(8,-1)),").\n\n").concat(e));var n}var Bt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Wt=/[&<>"']/g,Jt=RegExp(Wt.source);var Qt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Vt=/&(amp|quot|lt|gt|#39);/g,zt=RegExp(Vt.source);function Kt(t){return t&&zt.test(t)?t.replace(Vt,(function(t){return Qt[t]})):t}function Yt(t){return Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yt(t)}function Gt(t){if(!function(t){return"object"===Yt(t)&&null!==t}(t)||"[object Object]"!==function(t){return null===t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}(t))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Xt(t){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xt(t)}function Zt(){return Zt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zt.apply(this,arguments)}function te(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ee(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?te(Object(n),!0).forEach((function(e){ne(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ne(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Xt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Xt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Xt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var re={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},ie="<mark>",oe="</mark>";function ue(t){return function(t){return t&&Jt.test(t)?t.replace(Wt,(function(t){return Bt[t]})):t}(t).replace(new RegExp(re.highlightPreTag,"g"),ie).replace(new RegExp(re.highlightPostTag,"g"),oe)}function ae(t){return Gt(t)&&"string"!=typeof t.value?Object.keys(t).reduce((function(e,n){return ee(ee({},e),{},ne({},n,ae(t[n])))}),{}):Array.isArray(t)?t.map(ae):ee(ee({},t),{},{value:ue(t.value)})}function ce(t){return void 0===t.u&&((t=t.map((function(t){var e=Zt({},(function(t){if(null==t)throw new TypeError("Cannot destructure "+t)}(t),t));return e._highlightResult&&(e._highlightResult=ae(e._highlightResult)),e._snippetResult&&(e._snippetResult=ae(e._snippetResult)),e}))).u=!0),t}function se(t){var e=ie,n=oe;return t.map((function(t){return t.isHighlighted?e+t.value+n:t.value})).join("")}function fe(t){return btoa(encodeURIComponent(JSON.stringify(t)))}function le(t){return JSON.parse(decodeURIComponent(atob(t)))}function he(t){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},he(t)}var ve=function(t){var e=t.index,n=t.widgetType,r=t.methodName,i=t.args,o=t.isSearchStalled;if(1===i.length&&"object"===he(i[0]))return[i[0]];var u=i[0],a=i[1],c=i[2];if(!a){if("development"===process.env.NODE_ENV)throw new Error("You need to pass hit or hits as the second argument like:\n  ".concat(r,"(eventType, hit);\n  "));return[]}if(("click"===u||"conversion"===u)&&!c){if("development"===process.env.NODE_ENV)throw new Error("You need to pass eventName as the third argument for 'click' or 'conversion' events like:\n  ".concat(r,"('click', hit, 'Product Purchased');\n\n  To learn more about event naming: https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/in-depth/clicks-conversions-best-practices/\n  "));return[]}var s=Array.isArray(a)?function(t){return t.slice()}(a):[a];if(0===s.length)return[];var f=s[0].h,l=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=[],r=0;r<Math.ceil(t.length/e);r++)n.push(t.slice(r*e,(r+1)*e));return n}(s),h=l.map((function(t){return t.map((function(t){return t.objectID}))})),v=l.map((function(t){return t.map((function(t){return t.m}))}));if("view"===u)return o?[]:l.map((function(t,r){return{insightsMethod:"viewedObjectIDs",widgetType:n,eventType:u,payload:{eventName:c||"Hits Viewed",index:e,objectIDs:h[r]},hits:t}}));if("click"===u)return l.map((function(t,r){return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:n,eventType:u,payload:{eventName:c,index:e,queryID:f,objectIDs:h[r],positions:v[r]},hits:t}}));if("conversion"===u)return l.map((function(t,r){return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:n,eventType:u,payload:{eventName:c,index:e,queryID:f,objectIDs:h[r]},hits:t}}));if("development"===process.env.NODE_ENV)throw new Error('eventType("'.concat(u,'") is not supported.\n    If you want to send a custom payload, you can pass one object: ').concat(r,"(customPayload);\n    "));return[]};function de(t){var e=t.instantSearchInstance,n=t.index,r=t.widgetType;return function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];var u=ve({widgetType:r,index:n,methodName:"sendEvent",args:i,isSearchStalled:"stalled"===e.status});u.forEach((function(t){return e.sendEventToInsights(t)}))}}function be(t){var e=t.index,n=t.widgetType;return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=ve({widgetType:n,index:e,methodName:"bindEvent",args:r,isSearchStalled:!1});return o.length?"data-insights-event=".concat(fe(o)):""}}function me(t){return"ais.index"===t.$$type}function pe(t,e){var n=t[e.getIndexId()]||{};"development"===process.env.NODE_ENV&&Mt({index:e,indexUiState:n}),e.getHelper().setState(e.getWidgetSearchParameters(e.getHelper().state,{uiState:n})),e.getWidgets().filter(me).forEach((function(e){return pe(t,e)}))}var ye=Promise.resolve();function ge(t){var e=null,n=!1,r=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];null===e&&(e=ye.then((function(){e=null,n?n=!1:t.apply(void 0,i)})))};return r.wait=function(){if(null===e)throw new Error("The deferred function should be called before calling `wait()`");return e},r.cancel=function(){null!==e&&(n=!0)},r}function je(t){var e=t.name,n=t.connector;return["https://www.algolia.com/doc/api-reference/widgets/",e,"/js/",void 0!==n&&n?"#connector":""].join("")}function we(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.map((function(t){return je(t)})).join(", ");return function(t){return[t,"See documentation: ".concat(r)].filter(Boolean).join("\n\n")}}function Oe(t){var e,n="string"==typeof t,r=n?document.querySelector(t):t;if(!((e=r)instanceof HTMLElement||Boolean(e)&&e.nodeType>0)){var i="Container must be `string` or `HTMLElement`.";throw n&&(i+=" Unable to find ".concat(t)),new Error(i)}return r}function Se(t){var e=oe,n=ie,r=t.split(n),i=r.shift(),o=i?[{value:i,isHighlighted:!1}]:[];return r.forEach((function(t){var n=t.split(e);o.push({value:n[0],isHighlighted:!0}),""!==n[1]&&o.push({value:n[1],isHighlighted:!1})})),o}var Re=new RegExp(/\w/i);function Ne(t,e){var n,r,i=t[e],o=(null===(n=t[e+1])||void 0===n?void 0:n.isHighlighted)||!0,u=(null===(r=t[e-1])||void 0===r?void 0:r.isHighlighted)||!0;return Re.test(Kt(i.value))||u!==o?i.isHighlighted:u}function Te(t,e){return(Array.isArray(e)?e:e.split(".")).reduce((function(t,e){return t&&t[e]}),t)}function Pe(t){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pe(t)}function Ee(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ee(Object(n),!0).forEach((function(e){ke(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ke(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Pe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Pe(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ie(t,e,n){return t.map((function(t,r){return xe(xe({},t),{},{m:n*e+r+1})}))}function Ce(t){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ce(t)}function Ae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ae(Object(n),!0).forEach((function(e){He(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function He(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Ce(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ce(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _e(t,e){return e?t.map((function(t){return Fe(Fe({},t),{},{h:e})})):t}function qe(t){return t!==Object(t)}function Le(t,e){if(t===e)return!0;if(qe(t)||qe(e)||"function"==typeof t||"function"==typeof e)return t===e;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];if(!(i in e))return!1;if(!Le(t[i],e[i]))return!1}return!0}function De(t){return t.filter((function(t,e,n){return n.indexOf(t)===e}))}function Ue(t){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ue(t)}var Me=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function $e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Be(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$e(Object(n),!0).forEach((function(e){We(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function We(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Ue(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ue(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Je(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Qe=function(t,e){e.facets,e.disjunctiveFacets,e.facetsRefinements,e.facetsExcludes,e.disjunctiveFacetsRefinements,e.numericRefinements,e.tagRefinements,e.hierarchicalFacets,e.hierarchicalFacetsRefinements,e.ruleContexts;var n=Je(e,Me);return t.setQueryParameters(n)},Ve=function(t,e){return e.facets.reduce((function(t,e){return t.addFacet(e)}),t)},ze=function(t,e){return e.disjunctiveFacets.reduce((function(t,e){return t.addDisjunctiveFacet(e)}),t)},Ke=function(t,e){return t.setQueryParameters({hierarchicalFacets:e.hierarchicalFacets.reduce((function(t,e){var n=function(t,e){if(!Array.isArray(t))return-1;for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}(t,(function(t){return t.name===e.name}));if(-1===n)return t.concat(e);var r=t.slice();return r.splice(n,1,e),r}),t.hierarchicalFacets)})},Ye=function(t,e){return e.tagRefinements.reduce((function(t,e){return t.addTagRefinement(e)}),t)},Ge=function(t,e){return t.setQueryParameters({facetsRefinements:Be(Be({},t.facetsRefinements),e.facetsRefinements)})},Xe=function(t,e){return t.setQueryParameters({facetsExcludes:Be(Be({},t.facetsExcludes),e.facetsExcludes)})},Ze=function(t,e){return t.setQueryParameters({disjunctiveFacetsRefinements:Be(Be({},t.disjunctiveFacetsRefinements),e.disjunctiveFacetsRefinements)})},tn=function(t,e){return t.setQueryParameters({numericRefinements:Be(Be({},t.numericRefinements),e.numericRefinements)})},en=function(t,e){return t.setQueryParameters({hierarchicalFacetsRefinements:Be(Be({},t.hierarchicalFacetsRefinements),e.hierarchicalFacetsRefinements)})},nn=function(t,e){var n=De([].concat(t.ruleContexts).concat(e.ruleContexts).filter(Boolean));return n.length>0?t.setQueryParameters({ruleContexts:n}):t},rn=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((function(t,e){var n=en(t,e),r=Ke(n,e),i=Ye(r,e),o=tn(i,e),u=Ze(o,e),a=Xe(u,e),c=Ge(a,e),s=ze(c,e),f=nn(s,e),l=Ve(f,e);return Qe(l,e)}))};function on(t){return function(t){if(Array.isArray(t))return un(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return un(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return un(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function un(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function an(t){var e=t.start,n=void 0===e?0:e,r=t.end,i=t.step,o=void 0===i?1:i,u=0===o?1:o,a=Math.round((r-n)/u);return on(Array(a)).map((function(t,e){return n+e*u}))}function cn(t,e,n){var r=e.getHelper();return{uiState:n,helper:r,parent:e,instantSearchInstance:t,state:r.state,renderState:t.renderState,templatesConfig:t.templatesConfig,createURL:e.createURL,scopedResults:[],searchMetadata:{isSearchStalled:"stalled"===t.status},status:t.status,error:t.error}}function sn(t,e){var n=e.getResults();return{helper:e.getHelper(),parent:e,instantSearchInstance:t,results:n,scopedResults:e.getScopedResults(),state:n._state,renderState:t.renderState,templatesConfig:t.templatesConfig,createURL:e.createURL,searchMetadata:{isSearchStalled:"stalled"===t.status},status:t.status,error:t.error}}function fn(t){return fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fn(t)}function ln(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ln(Object(n),!0).forEach((function(e){vn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vn(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==fn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==fn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===fn(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dn(t){return t.some((function(t){return t.isHighlighted}))?t.map((function(e,n){return hn(hn({},e),{},{isHighlighted:!Ne(t,n)})})):t.map((function(t){return hn(hn({},t),{},{isHighlighted:!1})}))}function bn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fallback:function(){}},n=e.fallback;return"undefined"==typeof window?n():t({window})}function mn(t){return Array.isArray(t)?t:[t]}function pn(t){return pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pn(t)}var yn=["initialSearchParameters"];function gn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gn(Object(n),!0).forEach((function(e){wn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wn(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==pn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==pn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===pn(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function On(t){return function(t){if(Array.isArray(t))return Sn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Sn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sn(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rn(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Nn=we({name:"index-widget"});function Tn(t,e){var n=e.state,r=e.isPageReset,i=e._uiState;n!==t.state&&(t.state=n,t.emit("change",{state:t.state,results:t.lastResults,isPageReset:r,_uiState:i}))}function Pn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.reduce((function(t,n){return me(n)?t:n.getWidgetUiState||n.getWidgetState?n.getWidgetUiState?n.getWidgetUiState(t,e):n.getWidgetState(t,e):t}),n)}function En(t,e){var n=e.initialSearchParameters,r=Rn(e,yn);return t.filter((function(t){return!me(t)})).reduce((function(t,e){return e.getWidgetSearchParameters?e.getWidgetSearchParameters(t,r):t}),n)}function xn(t){var e=t.filter(me);0!==e.length&&e.forEach((function(t){var e=t.getHelper();Tn(e,{state:e.state.resetPage(),isPageReset:!0}),xn(t.getWidgets())}))}function kn(t){return t.filter(me).reduce((function(t,e){return t.concat.apply(t,[{indexId:e.getIndexId(),results:e.getResults(),helper:e.getHelper()}].concat(On(kn(e.getWidgets()))))}),[])}var In=function(t){if(void 0===t||void 0===t.indexName)throw new Error(Nn("The `indexName` option is required."));var e=t.indexName,n=t.indexId,r=void 0===n?e:n,i=[],o={},u=null,a=null,c=null,s=null;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return e},getIndexId:function(){return r},getHelper:function(){return c},getResults:function(){return s&&s.lastResults},getScopedResults:function(){var t=this.getParent();return kn(t?t.getWidgets():[this])},getParent:function(){return a},createURL:function(t){return u._createURL(wn({},r,Pn(i,{searchParameters:t,helper:c})))},getWidgets:function(){return i},addWidgets:function(t){var e=this;if(!Array.isArray(t))throw new Error(Nn("The `addWidgets` method expects an array of widgets."));if(t.some((function(t){return"function"!=typeof t.init&&"function"!=typeof t.render})))throw new Error(Nn("The widget definition expects a `render` and/or an `init` method."));return i=i.concat(t),u&&Boolean(t.length)&&(Tn(c,{state:En(i,{uiState:o,initialSearchParameters:c.state}),_uiState:o}),t.forEach((function(t){t.getRenderState&&Cn({renderState:t.getRenderState(u.renderState[e.getIndexId()]||{},cn(u,e,u._initialUiState)),instantSearchInstance:u,parent:e})})),t.forEach((function(t){t.init&&t.init(cn(u,e,u._initialUiState))})),u.scheduleSearch()),this},removeWidgets:function(t){var e=this;if(!Array.isArray(t))throw new Error(Nn("The `removeWidgets` method expects an array of widgets."));if(t.some((function(t){return"function"!=typeof t.dispose})))throw new Error(Nn("The widget definition expects a `dispose` method."));if(i=i.filter((function(e){return-1===t.indexOf(e)})),u&&Boolean(t.length)){var n=t.reduce((function(t,n){return n.dispose({helper:c,state:t,parent:e})||t}),c.state);o=Pn(i,{searchParameters:n,helper:c}),c.setState(En(i,{uiState:o,initialSearchParameters:n})),i.length&&u.scheduleSearch()}return this},init:function(t){var n,f=this,l=t.instantSearchInstance,h=t.parent,v=t.uiState;if(null===c){u=l,a=h,o=v[r]||{};var d=l.mainHelper,b=En(i,{uiState:o,initialSearchParameters:new xt.SearchParameters({index:e})});(c=xt({},b.index,b)).search=function(){return l.onStateChange?(l.onStateChange({uiState:l.mainIndex.getWidgetUiState({}),setUiState:function(t){return l.setUiState(t,!1)}}),d):d.search()},c.searchWithoutTriggeringOnStateChange=function(){return d.search()},c.searchForFacetValues=function(t,e,n,r){var i=c.state.setQueryParameters(r);return d.searchForFacetValues(t,e,n,i)},s=d.derive((function(){return rn.apply(void 0,On(function(t){for(var e=t.getParent(),n=[t.getHelper().state];null!==e;)n=[e.getHelper().state].concat(n),e=e.getParent();return n}(f)))}));var m=null===(n=l._initialResults)||void 0===n?void 0:n[this.getIndexId()];if(m){var p=new xt.SearchResults(new xt.SearchParameters(m.state),m.results);s.lastResults=p,c.lastResults=p}c.on("change",(function(t){t.isPageReset&&xn(i)})),s.on("search",(function(){l.scheduleStalledRender(),"development"===process.env.NODE_ENV&&Mt({index:f,indexUiState:o})})),s.on("result",(function(t){var e=t.results;l.scheduleRender(),c.lastResults=e})),i.forEach((function(t){t.getRenderState&&Cn({renderState:t.getRenderState(l.renderState[f.getIndexId()]||{},cn(l,f,v)),instantSearchInstance:l,parent:f})})),i.forEach((function(t){"development"===process.env.NODE_ENV&&Ft(!t.getWidgetState||Boolean(t.getWidgetUiState),"The `getWidgetState` method is renamed `getWidgetUiState` and will no longer exist under that name in InstantSearch.js 5.x. Please use `getWidgetUiState` instead."),t.init&&t.init(cn(l,f,v))})),c.on("change",(function(t){var e=t.state,n=t._uiState;o=Pn(i,{searchParameters:e,helper:c},n||{}),l.onStateChange||l.onInternalStateChange()})),m&&l.scheduleRender()}},render:function(t){var e=this,n=t.instantSearchInstance;this.getResults()&&(i.forEach((function(t){t.getRenderState&&Cn({renderState:t.getRenderState(n.renderState[e.getIndexId()]||{},sn(n,e)),instantSearchInstance:n,parent:e})})),i.forEach((function(t){t.render&&t.render(sn(n,e))})))},dispose:function(){var t=this;i.forEach((function(e){e.dispose&&e.dispose({helper:c,state:c.state,parent:t})})),u=null,a=null,c.removeAllListeners(),c=null,s.detach(),s=null},getWidgetUiState:function(t){return i.filter(me).reduce((function(t,e){return e.getWidgetUiState(t)}),jn(jn({},t),{},wn({},r,jn(jn({},t[r]),o))))},getWidgetState:function(t){return"development"===process.env.NODE_ENV&&Ft(!1,"The `getWidgetState` method is renamed `getWidgetUiState` and will no longer exist under that name in InstantSearch.js 5.x. Please use `getWidgetUiState` instead."),this.getWidgetUiState(t)},getWidgetSearchParameters:function(t,e){var n=e.uiState;return En(i,{uiState:n,initialSearchParameters:t})},refreshUiState:function(){o=Pn(i,{searchParameters:this.getHelper().state,helper:this.getHelper()},o)}}};function Cn(t){var e=t.renderState,n=t.instantSearchInstance,r=t.parent,i=r?r.getIndexId():n.mainIndex.getIndexId();n.renderState=jn(jn({},n.renderState),{},wn({},i,jn(jn({},n.renderState[i]),e)))}var An="4.49.3",Fn=function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.descendantName,r=e.modifierName,i=n?"-".concat(n):"",o=r?"--".concat(r):"";return"".concat("ais","-").concat(t).concat(i).concat(o)}},Hn=Fn("Highlight");function _n(t){var e=t.attribute,n=t.highlightedTagName,r=void 0===n?"mark":n,i=t.hit,o=t.cssClasses,u=void 0===o?{}:o,a=Te(i._highlightResult,e);"development"===process.env.NODE_ENV&&Ft(a,'Could not enable highlight for "'.concat(e,'", will display an empty string.\nPlease check whether this attribute exists and is either searchable or specified in `attributesToHighlight`.\n\nSee: https://alg.li/highlighting\n'));var c=(a||{}).value,s=void 0===c?"":c,f=Hn({descendantName:"highlighted"})+(u.highlighted?" ".concat(u.highlighted):"");return s.replace(new RegExp(ie,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(oe,"g"),"</".concat(r,">"))}var qn=Fn("ReverseHighlight");function Ln(t){var e=t.attribute,n=t.highlightedTagName,r=void 0===n?"mark":n,i=t.hit,o=t.cssClasses,u=void 0===o?{}:o,a=Te(i._highlightResult,e);"development"===process.env.NODE_ENV&&Ft(a,'Could not enable reverse highlight for "'.concat(e,'", will display an empty string.\nPlease check whether this attribute exists and is either searchable or specified in `attributesToHighlight`.\n\nSee: https://alg.li/highlighting\n'));var c=(a||{}).value,s=void 0===c?"":c,f=qn({descendantName:"highlighted"})+(u.highlighted?" ".concat(u.highlighted):"");return se(dn(Se(s))).replace(new RegExp(ie,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(oe,"g"),"</".concat(r,">"))}var Dn=Fn("Snippet");function Un(t){var e=t.attribute,n=t.highlightedTagName,r=void 0===n?"mark":n,i=t.hit,o=t.cssClasses,u=void 0===o?{}:o,a=Te(i._snippetResult,e);"development"===process.env.NODE_ENV&&Ft(a,'Could not enable snippet for "'.concat(e,'", will display an empty string.\nPlease check whether this attribute exists and is specified in `attributesToSnippet`.\n\nSee: https://alg.li/highlighting\n'));var c=(a||{}).value,s=void 0===c?"":c,f=Dn({descendantName:"highlighted"})+(u.highlighted?" ".concat(u.highlighted):"");return s.replace(new RegExp(ie,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(oe,"g"),"</".concat(r,">"))}var Mn=Fn("ReverseSnippet");function $n(t){var e=t.attribute,n=t.highlightedTagName,r=void 0===n?"mark":n,i=t.hit,o=t.cssClasses,u=void 0===o?{}:o,a=Te(i._snippetResult,e);"development"===process.env.NODE_ENV&&Ft(a,'Could not enable reverse snippet for "'.concat(e,'", will display an empty string.\nPlease check whether this attribute exists and is specified in `attributesToSnippet`.\n\nSee: https://alg.li/highlighting\n'));var c=(a||{}).value,s=void 0===c?"":c,f=Mn({descendantName:"highlighted"})+(u.highlighted?" ".concat(u.highlighted):"");return se(dn(Se(s))).replace(new RegExp(ie,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(oe,"g"),"</".concat(r,">"))}function Bn(t){return Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bn(t)}function Wn(t,e){return"development"===process.env.NODE_ENV&&Ft(!1,"`insights` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\n\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/"),function(t){var e,n=t.method,r=t.payload;if("object"!==Bn(r))throw new Error("The insights helper expects the payload to be an object.");try{e=fe(r)}catch(t){throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(n,'" data-insights-payload="').concat(e,'"')}({method:t,payload:e})}function Jn(t){return Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jn(t)}function Qn(){return function(t){if("object"===("undefined"==typeof document?"undefined":Jn(document))&&"string"==typeof document.cookie)for(var e="".concat(t,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(e))return i.substring(e.length,i.length)}}("_ALGOLIA")}function Vn(t){return Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vn(t)}function zn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zn(Object(n),!0).forEach((function(e){Yn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Yn(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Vn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Vn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Vn(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gn(t){var e=t.numberLocale;return{formatNumber:function(t,n){return function(t,e){return t.toLocaleString(e)}(Number(n(t)),e)},highlight:function(t,e){try{return e(_n(Kn(Kn({},JSON.parse(t)),{},{hit:this})))}catch(t){throw new Error('\nThe highlight helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseHighlight:function(t,e){try{return e(Ln(Kn(Kn({},JSON.parse(t)),{},{hit:this})))}catch(t){throw new Error('\n  The reverseHighlight helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},snippet:function(t,e){try{return e(Un(Kn(Kn({},JSON.parse(t)),{},{hit:this})))}catch(t){throw new Error('\nThe snippet helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseSnippet:function(t,e){try{return e($n(Kn(Kn({},JSON.parse(t)),{},{hit:this})))}catch(t){throw new Error('\n  The reverseSnippet helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},insights:function(t,e){try{var n=JSON.parse(t),r=n.method,i=n.payload;return e(Wn(r,Kn({objectIDs:[this.objectID]},i)))}catch(t){throw new Error('\nThe insights helper expects a JSON object of the format:\n{ "method": "method-name", "payload": { "eventName": "name of the event" } }')}}}}function Xn(t){return Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xn(t)}var Zn=["configure"];function tr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function er(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tr(Object(n),!0).forEach((function(e){nr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function nr(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Xn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Xn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Xn(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rr(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ir(t){return t.configure,rr(t,Zn)}function or(){return{stateToRoute:function(t){return Object.keys(t).reduce((function(e,n){return er(er({},e),{},nr({},n,ir(t[n])))}),{})},routeToState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).reduce((function(e,n){return er(er({},e),{},nr({},n,ir(t[n])))}),{})}}}var ur=String.prototype.replace,ar=/%20/g,cr="RFC3986",sr={default:cr,formatters:{RFC1738:function(t){return ur.call(t,ar,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:cr},fr=sr,lr=Object.prototype.hasOwnProperty,hr=Array.isArray,vr=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),dr=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n},br={arrayToObject:dr,assign:function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],r=0;r<e.length;++r)for(var i=e[r],o=i.obj[i.prop],u=Object.keys(o),a=0;a<u.length;++a){var c=u[a],s=o[c];"object"==typeof s&&null!==s&&-1===n.indexOf(s)&&(e.push({obj:o,prop:c}),n.push(s))}return function(t){for(;t.length>1;){var e=t.pop(),n=e.obj[e.prop];if(hr(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);e.obj[e.prop]=r}}}(e),t},decode:function(t,e,n){var r=t.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(t){return r}},encode:function(t,e,n,r,i){if(0===t.length)return t;var o=t;if("symbol"==typeof t?o=Symbol.prototype.toString.call(t):"string"!=typeof t&&(o=String(t)),"iso-8859-1"===n)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var u="",a=0;a<o.length;++a){var c=o.charCodeAt(a);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||i===fr.RFC1738&&(40===c||41===c)?u+=o.charAt(a):c<128?u+=vr[c]:c<2048?u+=vr[192|c>>6]+vr[128|63&c]:c<55296||c>=57344?u+=vr[224|c>>12]+vr[128|c>>6&63]+vr[128|63&c]:(a+=1,c=65536+((1023&c)<<10|1023&o.charCodeAt(a)),u+=vr[240|c>>18]+vr[128|c>>12&63]+vr[128|c>>6&63]+vr[128|63&c])}return u},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(hr(t)){for(var n=[],r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)},merge:function t(e,n,r){if(!n)return e;if("object"!=typeof n){if(hr(e))e.push(n);else{if(!e||"object"!=typeof e)return[e,n];(r&&(r.plainObjects||r.allowPrototypes)||!lr.call(Object.prototype,n))&&(e[n]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(n);var i=e;return hr(e)&&!hr(n)&&(i=dr(e,r)),hr(e)&&hr(n)?(n.forEach((function(n,i){if(lr.call(e,i)){var o=e[i];o&&"object"==typeof o&&n&&"object"==typeof n?e[i]=t(o,n,r):e.push(n)}else e[i]=n})),e):Object.keys(n).reduce((function(e,i){var o=n[i];return lr.call(e,i)?e[i]=t(e[i],o,r):e[i]=o,e}),i)}},mr=br,pr=sr,yr=Object.prototype.hasOwnProperty,gr={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},jr=Array.isArray,wr=String.prototype.split,Or=Array.prototype.push,Sr=function(t,e){Or.apply(t,jr(e)?e:[e])},Rr=Date.prototype.toISOString,Nr=pr.default,Tr={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:mr.encode,encodeValuesOnly:!1,format:Nr,formatter:pr.formatters[Nr],indices:!1,serializeDate:function(t){return Rr.call(t)},skipNulls:!1,strictNullHandling:!1},Pr=function t(e,n,r,i,o,u,a,c,s,f,l,h,v,d){var b=e;if("function"==typeof a?b=a(n,b):b instanceof Date?b=f(b):"comma"===r&&jr(b)&&(b=mr.maybeMap(b,(function(t){return t instanceof Date?f(t):t}))),null===b){if(i)return u&&!v?u(n,Tr.encoder,d,"key",l):n;b=""}if(function(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t||"symbol"==typeof t||"bigint"==typeof t}(b)||mr.isBuffer(b)){if(u){var m=v?n:u(n,Tr.encoder,d,"key",l);if("comma"===r&&v){for(var p=wr.call(String(b),","),y="",g=0;g<p.length;++g)y+=(0===g?"":",")+h(u(p[g],Tr.encoder,d,"value",l));return[h(m)+"="+y]}return[h(m)+"="+h(u(b,Tr.encoder,d,"value",l))]}return[h(n)+"="+h(String(b))]}var j,w=[];if(void 0===b)return w;if("comma"===r&&jr(b))j=[{value:b.length>0?b.join(",")||null:void 0}];else if(jr(a))j=a;else{var O=Object.keys(b);j=c?O.sort(c):O}for(var S=0;S<j.length;++S){var R=j[S],N="object"==typeof R&&void 0!==R.value?R.value:b[R];if(!o||null!==N){var T=jr(b)?"function"==typeof r?r(n,R):n:n+(s?"."+R:"["+R+"]");Sr(w,t(N,T,r,i,o,u,a,c,s,f,l,h,v,d))}}return w},Er=br,xr=Object.prototype.hasOwnProperty,kr=Array.isArray,Ir={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Er.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Cr=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},Ar=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Fr=function(t,e,n,r){if(t){var i=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/g,u=n.depth>0&&/(\[[^[\]]*])/.exec(i),a=u?i.slice(0,u.index):i,c=[];if(a){if(!n.plainObjects&&xr.call(Object.prototype,a)&&!n.allowPrototypes)return;c.push(a)}for(var s=0;n.depth>0&&null!==(u=o.exec(i))&&s<n.depth;){if(s+=1,!n.plainObjects&&xr.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(u[1])}return u&&c.push("["+i.slice(u.index)+"]"),function(t,e,n,r){for(var i=r?e:Ar(e,n),o=t.length-1;o>=0;--o){var u,a=t[o];if("[]"===a&&n.parseArrays)u=[].concat(i);else{u=n.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,s=parseInt(c,10);n.parseArrays||""!==c?!isNaN(s)&&a!==c&&String(s)===c&&s>=0&&n.parseArrays&&s<=n.arrayLimit?(u=[])[s]=i:"__proto__"!==c&&(u[c]=i):u={0:i}}i=u}return i}(c,e,n,r)}},Hr=function(t,e){var n,r=t,i=function(t){if(!t)return Tr;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||Tr.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=pr.default;if(void 0!==t.format){if(!yr.call(pr.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var r=pr.formatters[n],i=Tr.filter;return("function"==typeof t.filter||jr(t.filter))&&(i=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:Tr.addQueryPrefix,allowDots:void 0===t.allowDots?Tr.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:Tr.charsetSentinel,delimiter:void 0===t.delimiter?Tr.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:Tr.encode,encoder:"function"==typeof t.encoder?t.encoder:Tr.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:Tr.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:Tr.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:Tr.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:Tr.strictNullHandling}}(e);"function"==typeof i.filter?r=(0,i.filter)("",r):jr(i.filter)&&(n=i.filter);var o,u=[];if("object"!=typeof r||null===r)return"";o=e&&e.arrayFormat in gr?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var a=gr[o];n||(n=Object.keys(r)),i.sort&&n.sort(i.sort);for(var c=0;c<n.length;++c){var s=n[c];i.skipNulls&&null===r[s]||Sr(u,Pr(r[s],s,a,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset))}var f=u.join(i.delimiter),l=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&("iso-8859-1"===i.charset?l+="utf8=%26%2310003%3B&":l+="utf8=%E2%9C%93&"),f.length>0?l+f:""},_r=function(t,e){var n=function(t){if(!t)return Ir;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?Ir.charset:t.charset;return{allowDots:void 0===t.allowDots?Ir.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:Ir.allowPrototypes,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:Ir.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:Ir.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:Ir.comma,decoder:"function"==typeof t.decoder?t.decoder:Ir.decoder,delimiter:"string"==typeof t.delimiter||Er.isRegExp(t.delimiter)?t.delimiter:Ir.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:Ir.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:Ir.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:Ir.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:Ir.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:Ir.strictNullHandling}}(e);if(""===t||null==t)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof t?function(t,e){var n,r={},i=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,o=e.parameterLimit===1/0?void 0:e.parameterLimit,u=i.split(e.delimiter,o),a=-1,c=e.charset;if(e.charsetSentinel)for(n=0;n<u.length;++n)0===u[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===u[n]?c="utf-8":"utf8=%26%2310003%3B"===u[n]&&(c="iso-8859-1"),a=n,n=u.length);for(n=0;n<u.length;++n)if(n!==a){var s,f,l=u[n],h=l.indexOf("]="),v=-1===h?l.indexOf("="):h+1;-1===v?(s=e.decoder(l,Ir.decoder,c,"key"),f=e.strictNullHandling?null:""):(s=e.decoder(l.slice(0,v),Ir.decoder,c,"key"),f=Er.maybeMap(Ar(l.slice(v+1),e),(function(t){return e.decoder(t,Ir.decoder,c,"value")}))),f&&e.interpretNumericEntities&&"iso-8859-1"===c&&(f=Cr(f)),l.indexOf("[]=")>-1&&(f=kr(f)?[f]:f),xr.call(r,s)?r[s]=Er.combine(r[s],f):r[s]=f}return r}(t,n):t,i=n.plainObjects?Object.create(null):{},o=Object.keys(r),u=0;u<o.length;++u){var a=o[u],c=Fr(a,r[a],n,"string"==typeof t);i=Er.merge(i,c,n)}return Er.compact(i)},qr={formats:sr,parse:_r,stringify:Hr};function Lr(t){return Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lr(t)}function Dr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mr(r.key),r)}}function Ur(t,e,n){return(e=Mr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mr(t){var e=function(t,e){if("object"!==Lr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Lr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Lr(e)?e:String(e)}var $r=function(t){t&&(window.document.title=t)},Br=function(){function t(e){var n=this,r=e.windowTitle,i=e.writeDelay,o=void 0===i?400:i,u=e.createURL,a=e.parseURL,c=e.getLocation;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ur(this,"windowTitle",void 0),Ur(this,"writeDelay",void 0),Ur(this,"_createURL",void 0),Ur(this,"parseURL",void 0),Ur(this,"getLocation",void 0),Ur(this,"writeTimer",void 0),Ur(this,"inPopState",!1),Ur(this,"isDisposed",!1),Ur(this,"latestAcknowledgedHistory",0),this.windowTitle=r,this.writeTimer=void 0,this.writeDelay=o,this._createURL=u,this.parseURL=a,this.getLocation=c,bn((function(t){var e=t.window,r=n.windowTitle&&n.windowTitle(n.read());$r(r),n.latestAcknowledgedHistory=e.history.length}))}var e,n,r;return e=t,n=[{key:"read",value:function(){return this.parseURL({qsModule:qr,location:this.getLocation()})}},{key:"write",value:function(t){var e=this;bn((function(n){var r=n.window,i=e.createURL(t),o=e.windowTitle&&e.windowTitle(t);e.writeTimer&&clearTimeout(e.writeTimer),e.writeTimer=setTimeout((function(){$r(o),e.shouldWrite(i)&&(r.history.pushState(t,o||"",i),e.latestAcknowledgedHistory=r.history.length),e.inPopState=!1,e.writeTimer=void 0}),e.writeDelay)}))}},{key:"onUpdate",value:function(t){var e=this;this._onPopState=function(){e.writeTimer&&(clearTimeout(e.writeTimer),e.writeTimer=void 0),e.inPopState=!0,t(e.read())},bn((function(t){t.window.addEventListener("popstate",e._onPopState)}))}},{key:"createURL",value:function(t){return this._createURL({qsModule:qr,routeState:t,location:this.getLocation()})}},{key:"dispose",value:function(){var t=this;this.isDisposed=!0,bn((function(e){var n=e.window;t._onPopState&&n.removeEventListener("popstate",t._onPopState)})),this.writeTimer&&clearTimeout(this.writeTimer),this.write({})}},{key:"shouldWrite",value:function(t){var e=this;return bn((function(n){var r=n.window,i=!(e.isDisposed&&e.latestAcknowledgedHistory!==r.history.length);return!e.inPopState&&i&&t!==r.location.href}))}}],n&&Dr(e.prototype,n),r&&Dr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Wr(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.createURL,n=void 0===e?function(t){var e=t.qsModule,n=t.routeState,r=t.location,i=r.protocol,o=r.hostname,u=r.port,a=void 0===u?"":u,c=r.pathname,s=r.hash,f=e.stringify(n),l=""===a?"":":".concat(a);return f?"".concat(i,"//").concat(o).concat(l).concat(c,"?").concat(f).concat(s):"".concat(i,"//").concat(o).concat(l).concat(c).concat(s)}:e,r=t.parseURL,i=void 0===r?function(t){var e=t.qsModule,n=t.location;return e.parse(n.search.slice(1),{arrayLimit:99})}:r,o=t.writeDelay,u=void 0===o?400:o,a=t.windowTitle,c=t.getLocation,s=void 0===c?function(){return bn((function(t){return t.window.location}),{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:c;return new Br({createURL:n,parseURL:i,writeDelay:u,windowTitle:a,getLocation:s})}function Jr(t){return Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jr(t)}function Qr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qr(Object(n),!0).forEach((function(e){zr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zr(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Jr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Jr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Jr(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kr(t,e,n){var r=cn(e,e.mainIndex,e._initialUiState);t.forEach((function(t){var i={};if(t.getWidgetRenderState){var o=t.getWidgetRenderState(r);o&&o.widgetParams&&(i=o.widgetParams)}var u=Object.keys(i).filter((function(t){return void 0!==i[t]}));n.widgets.push({type:t.$$type,widgetType:t.$$widgetType,params:u}),"ais.index"===t.$$type&&Kr(t.getWidgets(),e,n)}))}function Yr(){return function(t){var e=t.instantSearchInstance,n={widgets:[]},r=document.createElement("meta"),i=document.querySelector("head");return r.name="instantsearch:widgets",{onStateChange:function(){},subscribe:function(){setTimeout((function(){var t=e.client;n.ua=t.transporter&&t.transporter.userAgent?t.transporter.userAgent.value:t._ua,Kr(e.mainIndex.getWidgets(),e,n),r.content=JSON.stringify(n),i.appendChild(r)}),0)},started:function(){},unsubscribe:function(){r.remove()}}}}function Gr(t){return Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gr(t)}function Xr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xr(Object(n),!0).forEach((function(e){ui(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ti(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ai(r.key),r)}}function ei(t,e){return ei=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ei(t,e)}function ni(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=oi(t);if(e){var i=oi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ri(this,n)}}function ri(t,e){if(e&&("object"===Gr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ii(t)}function ii(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oi(t){return oi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oi(t)}function ui(t,e,n){return(e=ai(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ai(t){var e=function(t,e){if("object"!==Gr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Gr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Gr(e)?e:String(e)}var ci=we({name:"instantsearch"});function si(){return"#"}var fi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ei(t,e)}(o,rt);var e,n,r,i=ni(o);function o(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),ui(ii(e=i.call(this)),"client",void 0),ui(ii(e),"indexName",void 0),ui(ii(e),"insightsClient",void 0),ui(ii(e),"onStateChange",null),ui(ii(e),"helper",void 0),ui(ii(e),"mainHelper",void 0),ui(ii(e),"mainIndex",void 0),ui(ii(e),"started",void 0),ui(ii(e),"templatesConfig",void 0),ui(ii(e),"renderState",{}),ui(ii(e),"_stalledSearchDelay",void 0),ui(ii(e),"_searchStalledTimer",void 0),ui(ii(e),"_initialUiState",void 0),ui(ii(e),"_initialResults",void 0),ui(ii(e),"_createURL",void 0),ui(ii(e),"_searchFunction",void 0),ui(ii(e),"_mainHelperSearch",void 0),ui(ii(e),"middleware",[]),ui(ii(e),"sendEventToInsights",void 0),ui(ii(e),"status","idle"),ui(ii(e),"error",void 0),ui(ii(e),"scheduleSearch",ge((function(){e.started&&e.mainHelper.search()}))),ui(ii(e),"scheduleRender",ge((function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.mainHelper.hasPendingRequests()||(clearTimeout(e._searchStalledTimer),e._searchStalledTimer=null,t&&(e.status="idle",e.error=void 0)),e.mainIndex.render({instantSearchInstance:ii(e)}),e.emit("render")}))),ui(ii(e),"onInternalStateChange",ge((function(){var t=e.mainIndex.getWidgetUiState({});e.middleware.forEach((function(e){e.instance.onStateChange({uiState:t})}))}))),e.setMaxListeners(100);var n=t.indexName,r=void 0===n?null:n,u=t.numberLocale,a=t.initialUiState,c=void 0===a?{}:a,s=t.routing,f=void 0===s?null:s,l=t.searchFunction,h=t.stalledSearchDelay,v=void 0===h?200:h,d=t.searchClient,b=void 0===d?null:d,m=t.insightsClient,p=void 0===m?null:m,y=t.onStateChange,g=void 0===y?null:y;if(null===r)throw new Error(ci("The `indexName` option is required."));if(null===b)throw new Error(ci("The `searchClient` option is required."));if("function"!=typeof b.search)throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if("function"==typeof b.addAlgoliaAgent&&b.addAlgoliaAgent("instantsearch.js (".concat(An,")")),"development"===process.env.NODE_ENV&&Ft(null===p,"`insightsClient` property has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\n\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/"),p&&"function"!=typeof p)throw new Error(ci("The `insightsClient` option should be a function."));if("development"===process.env.NODE_ENV&&Ft(!t.searchParameters,"The `searchParameters` option is deprecated and will not be supported in InstantSearch.js 4.x.\n\nYou can replace it with the `configure` widget:\n\n```\nsearch.addWidgets([\n  configure(".concat(JSON.stringify(t.searchParameters,null,2),")\n]);\n```\n\nSee ").concat(je({name:"configure"}))),e.client=b,e.insightsClient=p,e.indexName=r,e.helper=null,e.mainHelper=null,e.mainIndex=In({indexName:r}),e.onStateChange=g,e.started=!1,e.templatesConfig={helpers:Gn({numberLocale:u}),compileOptions:{}},e._stalledSearchDelay=v,e._searchStalledTimer=null,e._createURL=si,e._initialUiState=c,e._initialResults=null,l&&(e._searchFunction=l),e.sendEventToInsights=It,f){var j="boolean"==typeof f?void 0:f;e.use(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.router,n=void 0===e?Wr():e,r=t.stateMapping,i=void 0===r?or():r;return function(t){var e=t.instantSearchInstance;e._createURL=function(t){var r=Object.keys(t).reduce((function(e,n){return Vr(Vr({},e),{},zr({},n,t[n]))}),e.mainIndex.getWidgetUiState({})),o=i.stateToRoute(r);return n.createURL(o)};var r=void 0,o=e._initialUiState;return{onStateChange:function(t){var e=t.uiState,o=i.stateToRoute(e);void 0!==r&&Le(r,o)||(n.write(o),r=o)},subscribe:function(){e._initialUiState=Vr(Vr({},o),i.routeToState(n.read())),n.onUpdate((function(t){e.setUiState(i.routeToState(t))}))},started:function(){},unsubscribe:function(){n.dispose()}}}}(j))}return bn((function(t){var e,n;return(null===(e=t.window.navigator)||void 0===e||null===(n=e.userAgent)||void 0===n?void 0:n.indexOf("Algolia Crawler"))>-1}),{fallback:function(){return!1}})&&e.use(Yr()),e}return e=o,n=[{key:"_isSearchStalled",get:function(){return"development"===process.env.NODE_ENV&&Ft(!1,'`InstantSearch._isSearchStalled` is deprecated and will be removed in InstantSearch.js 5.0.\n\nUse `InstantSearch.status === "stalled"` instead.'),"stalled"===this.status}},{key:"use",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.map((function(e){var n=Zr({subscribe:It,started:It,unsubscribe:It,onStateChange:It},e({instantSearchInstance:t}));return t.middleware.push({creator:e,instance:n}),n}));return this.started&&i.forEach((function(t){t.subscribe(),t.started()})),this}},{key:"unuse",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.middleware.filter((function(t){return e.includes(t.creator)})).forEach((function(t){return t.instance.unsubscribe()})),this.middleware=this.middleware.filter((function(t){return!e.includes(t.creator)})),this}},{key:"EXPERIMENTAL_use",value:function(){return"development"===process.env.NODE_ENV&&Ft(!1,"The middleware API is now considered stable, so we recommend replacing `EXPERIMENTAL_use` with `use` before upgrading to the next major version."),this.use.apply(this,arguments)}},{key:"addWidget",value:function(t){return"development"===process.env.NODE_ENV&&Ft(!1,"addWidget will still be supported in 4.x releases, but not further. It is replaced by `addWidgets([widget])`"),this.addWidgets([t])}},{key:"addWidgets",value:function(t){if(!Array.isArray(t))throw new Error(ci("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(t.some((function(t){return"function"!=typeof t.init&&"function"!=typeof t.render})))throw new Error(ci("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(t),this}},{key:"removeWidget",value:function(t){return"development"===process.env.NODE_ENV&&Ft(!1,"removeWidget will still be supported in 4.x releases, but not further. It is replaced by `removeWidgets([widget])`"),this.removeWidgets([t])}},{key:"removeWidgets",value:function(t){if(!Array.isArray(t))throw new Error(ci("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(t.some((function(t){return"function"!=typeof t.dispose})))throw new Error(ci("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(t),this}},{key:"start",value:function(){var t=this;if(this.started)throw new Error(ci("The `start` method has already been called once."));var e=this.mainHelper||xt(this.client,this.indexName);if(e.search=function(){return t.status="loading",t.emit("render"),e.searchOnlyWithDerivedHelpers()},this._searchFunction){var n={search:function(){return new Promise(It)}};this._mainHelperSearch=e.search.bind(e),e.search=function(){var r=t.mainIndex.getHelper(),i=xt(n,r.state.index,r.state);return i.once("search",(function(e){var n=e.state;r.overrideStateWithoutTriggeringChangeEvent(n),t._mainHelperSearch()})),i.on("change",(function(t){var e=t.state;r.setState(e)})),t._searchFunction(i),e}}if(e.on("error",(function(e){var n=e.error;if(!(n instanceof Error)){var r=n;n=Object.keys(r).reduce((function(t,e){return t[e]=r[e],t}),new Error(r.message))}n.error=n,t.error=n,t.status="error",t.scheduleRender(!1),t.emit("error",n)})),this.mainHelper=e,this.middleware.forEach((function(t){t.instance.subscribe()})),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){var r=this.scheduleSearch;this.scheduleSearch=ge(It),ge((function(){t.scheduleSearch=r}))()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach((function(t){t.instance.started()}))}},{key:"dispose",value:function(){this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),this.mainHelper.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach((function(t){t.instance.unsubscribe()}))}},{key:"scheduleStalledRender",value:function(){var t=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout((function(){t.status="stalled",t.scheduleRender()}),this._stalledSearchDelay))}},{key:"setUiState",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.mainHelper)throw new Error(ci("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var r="function"==typeof t?t(this.mainIndex.getWidgetUiState({})):t;this.onStateChange&&n?this.onStateChange({uiState:r,setUiState:function(t){pe("function"==typeof t?t(r):t,e.mainIndex),e.scheduleSearch(),e.onInternalStateChange()}}):(pe(r,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.started)throw new Error(ci("The `start` method needs to be called before `createURL`."));return this._createURL(t)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(ci("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}],n&&ti(e.prototype,n),r&&ti(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(),li=fi,hi=["page"];function vi(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function di(t){var e=t||{};return e.page,vi(e,hi)}var bi="ais.infiniteHits";var mi=function(t){return new li(t)};mi.version=An,mi.createInfiniteHitsSessionStorageCache=Ct((function(){return{read:function(t){var e=t.state,n=bn((function(t){return t.window.sessionStorage}));if(!n)return null;try{var r=JSON.parse(n.getItem(bi));return r&&Le(r.state,di(e))?r.hits:null}catch(t){if(t instanceof SyntaxError)try{n.removeItem(bi)}catch(t){}return null}},write:function(t){var e=t.state,n=t.hits,r=bn((function(t){return t.window.sessionStorage}));if(r)try{r.setItem(bi,JSON.stringify({state:di(e),hits:n}))}catch(t){}}}}),"import { createInfiniteHitsSessionStorageCache } from 'instantsearch.js/es/lib/infiniteHitsCache'"),mi.highlight=Ct(_n,"import { highlight } from 'instantsearch.js/es/helpers'"),mi.reverseHighlight=Ct(Ln,"import { reverseHighlight } from 'instantsearch.js/es/helpers'"),mi.snippet=Ct(Un,"import { snippet } from 'instantsearch.js/es/helpers'"),mi.reverseSnippet=Ct($n,"import { reverseSnippet } from 'instantsearch.js/es/helpers'"),mi.insights=Wn,mi.getInsightsAnonymousUserToken=function(){return"development"===process.env.NODE_ENV&&Ft(!1,"`getInsightsAnonymousUserToken` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\n\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/"),Qn()},Object.defineProperty(mi,"widgets",{get:function(){throw new ReferenceError("\"instantsearch.widgets\" are not available from the ES build.\n\nTo import the widgets:\n\nimport { searchBox } from 'instantsearch.js/es/widgets'")}}),Object.defineProperty(mi,"connectors",{get:function(){throw new ReferenceError("\"instantsearch.connectors\" are not available from the ES build.\n\nTo import the connectors:\n\nimport { connectSearchBox } from 'instantsearch.js/es/connectors'")}});var pi,yi,gi,ji,wi,Oi=mi,Si={},Ri=[],Ni=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ti(t,e){for(var n in e)t[n]=e[n];return t}function Pi(t){var e=t.parentNode;e&&e.removeChild(t)}function Ei(t,e,n){var r,i,o,u={};for(o in e)"key"==o?r=e[o]:"ref"==o?i=e[o]:u[o]=e[o];if(arguments.length>2&&(u.children=arguments.length>3?pi.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(o in t.defaultProps)void 0===u[o]&&(u[o]=t.defaultProps[o]);return xi(t,u,r,i,null)}function xi(t,e,n,r,i){var o={type:t,props:e,key:n,ref:r,p:null,g:null,j:0,O:null,S:void 0,R:null,N:null,constructor:void 0,T:i??++gi};return null==i&&null!=yi.vnode&&yi.vnode(o),o}function ki(t){return t.children}function Ii(t,e){this.props=t,this.context=e}function Ci(t,e){if(null==e)return t.g?Ci(t.g,t.g.p.indexOf(t)+1):null;for(var n;e<t.p.length;e++)if(null!=(n=t.p[e])&&null!=n.O)return n.O;return"function"==typeof t.type?Ci(t):null}function Ai(t){var e,n;if(null!=(t=t.g)&&null!=t.R){for(t.O=t.R.base=null,e=0;e<t.p.length;e++)if(null!=(n=t.p[e])&&null!=n.O){t.O=t.R.base=n.O;break}return Ai(t)}}function Fi(t){(!t.S&&(t.S=!0)&&ji.push(t)&&!Hi.P++||wi!==yi.debounceRendering)&&((wi=yi.debounceRendering)||setTimeout)(Hi)}function Hi(){for(var t;Hi.P=ji.length;)t=ji.sort((function(t,e){return t.T.j-e.T.j})),ji=[],t.some((function(t){var e,n,r,i,o,u;t.S&&(o=(i=(e=t).T).O,(u=e.k)&&(n=[],(r=Ti({},i)).T=i.T+1,Bi(u,i,r,e.I,void 0!==u.ownerSVGElement,null!=i.N?[o]:null,n,o??Ci(i),i.N),Wi(n,i),i.O!=o&&Ai(i)))}))}function _i(t,e,n,r,i,o,u,a,c,s){var f,l,h,v,d,b,m,p=r&&r.p||Ri,y=p.length;for(n.p=[],f=0;f<e.length;f++)if(null!=(v=n.p[f]=null==(v=e[f])||"boolean"==typeof v?null:"string"==typeof v||"number"==typeof v||"bigint"==typeof v?xi(null,v,null,null,v):Array.isArray(v)?xi(ki,{children:v},null,null,null):v.j>0?xi(v.type,v.props,v.key,v.ref?v.ref:null,v.T):v)){if(v.g=n,v.j=n.j+1,null===(h=p[f])||h&&v.key==h.key&&v.type===h.type)p[f]=void 0;else for(l=0;l<y;l++){if((h=p[l])&&v.key==h.key&&v.type===h.type){p[l]=void 0;break}h=null}Bi(t,v,h=h||Si,i,o,u,a,c,s),d=v.O,(l=v.ref)&&h.ref!=l&&(m||(m=[]),h.ref&&m.push(h.ref,null,v),m.push(l,v.R||d,v)),null!=d?(null==b&&(b=d),"function"==typeof v.type&&v.p===h.p?v.S=c=qi(v,c,t):c=Li(t,v,h,p,d,c),"function"==typeof n.type&&(n.S=c)):c&&h.O==c&&c.parentNode!=t&&(c=Ci(h))}for(n.O=b,f=y;f--;)null!=p[f]&&Vi(p[f],p[f]);if(m)for(f=0;f<m.length;f++)Qi(m[f],m[++f],m[++f])}function qi(t,e,n){for(var r,i=t.p,o=0;i&&o<i.length;o++)(r=i[o])&&(r.g=t,e="function"==typeof r.type?qi(r,e,n):Li(n,r,r,i,r.O,e));return e}function Li(t,e,n,r,i,o){var u,a,c;if(void 0!==e.S)u=e.S,e.S=void 0;else if(null==n||i!=o||null==i.parentNode)t:if(null==o||o.parentNode!==t)t.appendChild(i),u=null;else{for(a=o,c=0;(a=a.nextSibling)&&c<r.length;c+=1)if(a==i)break t;t.insertBefore(i,o),u=o}return void 0!==u?u:i.nextSibling}function Di(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]=null==n?"":"number"!=typeof n||Ni.test(e)?n:n+"px"}function Ui(t,e,n,r,i){var o;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||Di(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||Di(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r||t.addEventListener(e,o?$i:Mi,o):t.removeEventListener(e,o?$i:Mi,o);else if("dangerouslySetInnerHTML"!==e){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=n??"";break t}catch(t){}"function"==typeof n||(null==n||!1===n&&-1==e.indexOf("-")?t.removeAttribute(e):t.setAttribute(e,n))}}function Mi(t){this.l[t.type+!1](yi.event?yi.event(t):t)}function $i(t){this.l[t.type+!0](yi.event?yi.event(t):t)}function Bi(t,e,n,r,i,o,u,a,c){var s,f,l,h,v,d,b,m,p,y,g,j,w,O,S,R=e.type;if(void 0!==e.constructor)return null;null!=n.N&&(c=n.N,a=e.O=n.O,e.N=null,o=[a]),(s=yi.j)&&s(e);try{t:if("function"==typeof R){if(m=e.props,p=(s=R.contextType)&&r[s.R],y=s?p?p.props.value:s.g:r,n.R?b=(f=e.R=n.R).g=f.C:("prototype"in R&&R.prototype.render?e.R=f=new R(m,y):(e.R=f=new Ii(m,y),f.constructor=R,f.render=zi),p&&p.sub(f),f.props=m,f.state||(f.state={}),f.context=y,f.I=r,l=f.S=!0,f.N=[],f._sb=[]),null==f.F&&(f.F=f.state),null!=R.getDerivedStateFromProps&&(f.F==f.state&&(f.F=Ti({},f.F)),Ti(f.F,R.getDerivedStateFromProps(m,f.F))),h=f.props,v=f.state,l)null==R.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.N.push(f.componentDidMount);else{if(null==R.getDerivedStateFromProps&&m!==h&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(m,y),!f.O&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(m,f.F,y)||e.T===n.T){for(f.props=m,f.state=f.F,e.T!==n.T&&(f.S=!1),f.T=e,e.O=n.O,e.p=n.p,e.p.forEach((function(t){t&&(t.g=e)})),g=0;g<f._sb.length;g++)f.N.push(f._sb[g]);f._sb=[],f.N.length&&u.push(f);break t}null!=f.componentWillUpdate&&f.componentWillUpdate(m,f.F,y),null!=f.componentDidUpdate&&f.N.push((function(){f.componentDidUpdate(h,v,d)}))}if(f.context=y,f.props=m,f.T=e,f.k=t,j=yi.P,w=0,"prototype"in R&&R.prototype.render){for(f.state=f.F,f.S=!1,j&&j(e),s=f.render(f.props,f.state,f.context),O=0;O<f._sb.length;O++)f.N.push(f._sb[O]);f._sb=[]}else do{f.S=!1,j&&j(e),s=f.render(f.props,f.state,f.context),f.state=f.F}while(f.S&&++w<25);f.state=f.F,null!=f.getChildContext&&(r=Ti(Ti({},r),f.getChildContext())),l||null==f.getSnapshotBeforeUpdate||(d=f.getSnapshotBeforeUpdate(h,v)),S=null!=s&&s.type===ki&&null==s.key?s.props.children:s,_i(t,Array.isArray(S)?S:[S],e,n,r,i,o,u,a,c),f.base=e.O,e.N=null,f.N.length&&u.push(f),b&&(f.C=f.g=null),f.O=!1}else null==o&&e.T===n.T?(e.p=n.p,e.O=n.O):e.O=Ji(n.O,e,n,r,i,o,u,c);(s=yi.diffed)&&s(e)}catch(t){e.T=null,(c||null!=o)&&(e.O=a,e.N=!!c,o[o.indexOf(a)]=null),yi.O(t,e,n)}}function Wi(t,e){yi.R&&yi.R(e,t),t.some((function(e){try{t=e.N,e.N=[],t.some((function(t){t.call(e)}))}catch(t){yi.O(t,e.T)}}))}function Ji(t,e,n,r,i,o,u,a){var c,s,f,l=n.props,h=e.props,v=e.type,d=0;if("svg"===v&&(i=!0),null!=o)for(;d<o.length;d++)if((c=o[d])&&"setAttribute"in c==!!v&&(v?c.localName===v:3===c.nodeType)){t=c,o[d]=null;break}if(null==t){if(null===v)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,h.is&&h),o=null,a=!1}if(null===v)l===h||a&&t.data===h||(t.data=h);else{if(o=o&&pi.call(t.childNodes),s=(l=n.props||Si).dangerouslySetInnerHTML,f=h.dangerouslySetInnerHTML,!a){if(null!=o)for(l={},d=0;d<t.attributes.length;d++)l[t.attributes[d].name]=t.attributes[d].value;(f||s)&&(f&&(s&&f.H==s.H||f.H===t.innerHTML)||(t.innerHTML=f&&f.H||""))}if(function(t,e,n,r,i){var o;for(o in n)"children"===o||"key"===o||o in e||Ui(t,o,null,n[o],r);for(o in e)i&&"function"!=typeof e[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===e[o]||Ui(t,o,e[o],n[o],r)}(t,h,l,i,a),f)e.p=[];else if(d=e.props.children,_i(t,Array.isArray(d)?d:[d],e,n,r,i&&"foreignObject"!==v,o,u,o?o[0]:n.p&&Ci(n,0),a),null!=o)for(d=o.length;d--;)null!=o[d]&&Pi(o[d]);a||("value"in h&&void 0!==(d=h.value)&&(d!==t.value||"progress"===v&&!d||"option"===v&&d!==l.value)&&Ui(t,"value",d,l.value,!1),"checked"in h&&void 0!==(d=h.checked)&&d!==t.checked&&Ui(t,"checked",d,l.checked,!1))}return t}function Qi(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){yi.O(t,n)}}function Vi(t,e,n){var r,i;if(yi.unmount&&yi.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.O||Qi(r,null,e)),null!=(r=t.R)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){yi.O(t,e)}r.base=r.k=null,t.R=void 0}if(r=t.p)for(i=0;i<r.length;i++)r[i]&&Vi(r[i],e,n||"function"!=typeof t.type);n||null==t.O||Pi(t.O),t.g=t.O=t.S=void 0}function zi(t,e,n){return this.constructor(t,n)}function Ki(t,e,n){var r,i,o;yi.g&&yi.g(t,e),i=(r="function"==typeof n)?null:n&&n.p||e.p,o=[],Bi(e,t=(!r&&n||e).p=Ei(ki,null,[t]),i||Si,Si,void 0!==e.ownerSVGElement,!r&&n?[n]:i?null:e.firstChild?pi.call(e.childNodes):null,o,!r&&n?n:i?i.O:e.firstChild,r),Wi(o,t)}function Yi(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((function(t,e){return Array.isArray(e)?t.concat(e):t.concat([e])}),[]).filter(Boolean).join(" ")}function Gi(t){return Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gi(t)}function Xi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zi(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Gi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Gi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Gi(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function to(t){return function(t){if(Array.isArray(t))return eo(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return eo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eo(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function no(t){var e=t.defaultTemplates,n=t.templates,r=t.templatesConfig,i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=De([].concat(to(Object.keys(t||{})),to(Object.keys(e))));return n.reduce((function(n,r){var i=t?t[r]:void 0,o=e[r],u=void 0!==o&&o!==i;return n.templates[r]=u?o:i,n.useCustomCompileOptions[r]=u,n}),{templates:{},useCustomCompileOptions:{}})}(e,n);return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xi(Object(n),!0).forEach((function(e){Zi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({templatesConfig:r},i)}pi=Ri.slice,yi={O:function(t,e,n,r){for(var i,o,u;e=e.g;)if((i=e.R)&&!i.g)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(t)),u=i.S),null!=i.componentDidCatch&&(i.componentDidCatch(t,r||{}),u=i.S),u)return i.C=i}catch(e){t=e}throw t}},gi=0,Ii.prototype.setState=function(t,e){var n;n=null!=this.F&&this.F!==this.state?this.F:this.F=Ti({},this.state),"function"==typeof t&&(t=t(Ti({},n),this.props)),t&&Ti(n,t),null!=t&&this.T&&(e&&this._sb.push(e),Fi(this))},Ii.prototype.forceUpdate=function(t){this.T&&(this.O=!0,t&&this.N.push(t),Fi(this))},Ii.prototype.render=ki,ji=[],Hi.P=0;var ro={};!function(t){var e=/\S/,n=/\"/g,r=/\n/g,i=/\r/g,o=/\\/g,u=/\u2028/,a=/\u2029/;function c(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function s(t,e,n){if(e.charAt(n)!=t.charAt(0))return!1;for(var r=1,i=t.length;r<i;r++)if(e.charAt(n+r)!=t.charAt(r))return!1;return!0}t.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},t.scan=function(n,r){var i,o=n.length,u=0,a=null,f=null,l="",h=[],v=!1,d=0,b=0,m="{{",p="}}";function y(){l.length>0&&(h.push({tag:"_t",text:new String(l)}),l="")}function g(n,r){if(y(),n&&function(){for(var n=!0,r=b;r<h.length;r++)if(!(n=t.tags[h[r].tag]<t.tags._v||"_t"==h[r].tag&&null===h[r].text.match(e)))return!1;return n}())for(var i,o=b;o<h.length;o++)h[o].text&&((i=h[o+1])&&">"==i.tag&&(i.indent=h[o].text.toString()),h.splice(o,1));else r||h.push({tag:"\n"});v=!1,b=h.length}function j(t,e){var n="="+p,r=t.indexOf(n,e),i=c(t.substring(t.indexOf("=",e)+1,r)).split(" ");return m=i[0],p=i[i.length-1],r+n.length-1}for(r&&(r=r.split(" "),m=r[0],p=r[1]),d=0;d<o;d++)0==u?s(m,n,d)?(--d,y(),u=1):"\n"==n.charAt(d)?g(v):l+=n.charAt(d):1==u?(d+=m.length-1,"="==(a=(f=t.tags[n.charAt(d+1)])?n.charAt(d+1):"_v")?(d=j(n,d),u=0):(f&&d++,u=2),v=d):s(p,n,d)?(h.push({tag:a,n:c(l),otag:m,ctag:p,i:"/"==a?v-m.length:d+p.length}),l="",d+=p.length-1,u=0,"{"==a&&("}}"==p?d++:"}"===(i=h[h.length-1]).n.substr(i.n.length-1)&&(i.n=i.n.substring(0,i.n.length-1)))):l+=n.charAt(d);return g(v,!0),h};var f={_t:!0,"\n":!0,$:!0,"/":!0};function l(e,n,r,i){var o,u=[],a=null,c=null;for(o=r[r.length-1];e.length>0;){if(c=e.shift(),o&&"<"==o.tag&&!(c.tag in f))throw new Error("Illegal content in < super tag.");if(t.tags[c.tag]<=t.tags.$||h(c,i))r.push(c),c.nodes=l(e,c.tag,r,i);else{if("/"==c.tag){if(0===r.length)throw new Error("Closing tag without opener: /"+c.n);if(a=r.pop(),c.n!=a.n&&!v(c.n,a.n,i))throw new Error("Nesting error: "+a.n+" vs. "+c.n);return a.end=c.i,u}"\n"==c.tag&&(c.last=0==e.length||"\n"==e[0].tag)}u.push(c)}if(r.length>0)throw new Error("missing closing tag: "+r.pop().n);return u}function h(t,e){for(var n=0,r=e.length;n<r;n++)if(e[n].o==t.n)return t.tag="#",!0}function v(t,e,n){for(var r=0,i=n.length;r<i;r++)if(n[r].c==t&&n[r].o==e)return!0}function d(t){var e=[];for(var n in t.partials)e.push('"'+m(n)+'":{name:"'+m(t.partials[n].name)+'", '+d(t.partials[n])+"}");return"partials: {"+e.join(",")+"}, subs: "+function(t){var e=[];for(var n in t)e.push('"'+m(n)+'": function(c,p,t,i) {'+t[n]+"}");return"{ "+e.join(",")+" }"}(t.subs)}t.stringify=function(e,n,r){return"{code: function (c,p,i) { "+t.wrapMain(e.code)+" },"+d(e)+"}"};var b=0;function m(t){return t.replace(o,"\\\\").replace(n,'\\"').replace(r,"\\n").replace(i,"\\r").replace(u,"\\u2028").replace(a,"\\u2029")}function p(t){return~t.indexOf(".")?"d":"f"}function y(t,e){var n="<"+(e.prefix||"")+t.n+b++;return e.partials[n]={name:t.n,partials:{}},e.code+='t.b(t.rp("'+m(n)+'",c,p,"'+(t.indent||"")+'"));',n}function g(t,e){e.code+="t.b(t.t(t."+p(t.n)+'("'+m(t.n)+'",c,p,0)));'}function j(t){return"t.b("+t+");"}t.generate=function(e,n,r){b=0;var i={code:"",subs:{},partials:{}};return t.walk(e,i),r.asString?this.stringify(i,n,r):this.makeTemplate(i,n,r)},t.wrapMain=function(t){return'var t=this;t.b(i=i||"");'+t+"return t.fl();"},t.template=t.Template,t.makeTemplate=function(t,e,n){var r=this.makePartials(t);return r.code=new Function("c","p","i",this.wrapMain(t.code)),new this.template(r,e,this,n)},t.makePartials=function(t){var e,n={subs:{},partials:t.partials,name:t.name};for(e in n.partials)n.partials[e]=this.makePartials(n.partials[e]);for(e in t.subs)n.subs[e]=new Function("c","p","t","i",t.subs[e]);return n},t.codegen={"#":function(e,n){n.code+="if(t.s(t."+p(e.n)+'("'+m(e.n)+'",c,p,1),c,p,0,'+e.i+","+e.end+',"'+e.otag+" "+e.ctag+'")){t.rs(c,p,function(c,p,t){',t.walk(e.nodes,n),n.code+="});c.pop();}"},"^":function(e,n){n.code+="if(!t.s(t."+p(e.n)+'("'+m(e.n)+'",c,p,1),c,p,1,0,0,"")){',t.walk(e.nodes,n),n.code+="};"},">":y,"<":function(e,n){var r={partials:{},code:"",subs:{},inPartial:!0};t.walk(e.nodes,r);var i=n.partials[y(e,n)];i.subs=r.subs,i.partials=r.partials},$:function(e,n){var r={subs:{},code:"",partials:n.partials,prefix:e.n};t.walk(e.nodes,r),n.subs[e.n]=r.code,n.inPartial||(n.code+='t.sub("'+m(e.n)+'",c,p,i);')},"\n":function(t,e){e.code+=j('"\\n"'+(t.last?"":" + i"))},_v:function(t,e){e.code+="t.b(t.v(t."+p(t.n)+'("'+m(t.n)+'",c,p,0)));'},_t:function(t,e){e.code+=j('"'+m(t.text)+'"')},"{":g,"&":g},t.walk=function(e,n){for(var r,i=0,o=e.length;i<o;i++)(r=t.codegen[e[i].tag])&&r(e[i],n);return n},t.parse=function(t,e,n){return l(t,0,[],(n=n||{}).sectionTags||[])},t.cache={},t.cacheKey=function(t,e){return[t,!!e.asString,!!e.disableLambda,e.delimiters,!!e.modelGet].join("||")},t.compile=function(e,n){n=n||{};var r=t.cacheKey(e,n),i=this.cache[r];if(i){var o=i.partials;for(var u in o)delete o[u].instance;return i}return i=this.generate(this.parse(this.scan(e,n.delimiters),e,n),e,n),this.cache[r]=i}}(ro);var io={};!function(t){function e(t,e,n){var r;return e&&"object"==typeof e&&(void 0!==e[t]?r=e[t]:n&&e.get&&"function"==typeof e.get&&(r=e.get(t))),r}t.Template=function(t,e,n,r){t=t||{},this.r=t.code||this.r,this.c=n,this.options=r||{},this.text=e||"",this.partials=t.partials||{},this.subs=t.subs||{},this.buf=""},t.Template.prototype={r:function(t,e,n){return""},v:function(t){return t=c(t),a.test(t)?t.replace(n,"&amp;").replace(r,"&lt;").replace(i,"&gt;").replace(o,"&#39;").replace(u,"&quot;"):t},t:c,render:function(t,e,n){return this.ri([t],e||{},n)},ri:function(t,e,n){return this.r(t,e,n)},ep:function(t,e){var n=this.partials[t],r=e[n.name];if(n.instance&&n.base==r)return n.instance;if("string"==typeof r){if(!this.c)throw new Error("No compiler available.");r=this.c.compile(r,this.options)}if(!r)return null;if(this.partials[t].base=r,n.subs){for(key in e.stackText||(e.stackText={}),n.subs)e.stackText[key]||(e.stackText[key]=void 0!==this.activeSub&&e.stackText[this.activeSub]?e.stackText[this.activeSub]:this.text);r=function(t,e,n,r,i,o){function u(){}function a(){}var c;u.prototype=t,a.prototype=t.subs;var s=new u;for(c in s.subs=new a,s.subsText={},s.buf="",r=r||{},s.stackSubs=r,s.subsText=o,e)r[c]||(r[c]=e[c]);for(c in r)s.subs[c]=r[c];for(c in i=i||{},s.stackPartials=i,n)i[c]||(i[c]=n[c]);for(c in i)s.partials[c]=i[c];return s}(r,n.subs,n.partials,this.stackSubs,this.stackPartials,e.stackText)}return this.partials[t].instance=r,r},rp:function(t,e,n,r){var i=this.ep(t,n);return i?i.ri(e,n,r):""},rs:function(t,e,n){var r=t[t.length-1];if(s(r))for(var i=0;i<r.length;i++)t.push(r[i]),n(t,e,this),t.pop();else n(t,e,this)},s:function(t,e,n,r,i,o,u){var a;return(!s(t)||0!==t.length)&&("function"==typeof t&&(t=this.ms(t,e,n,r,i,o,u)),a=!!t,!r&&a&&e&&e.push("object"==typeof t?t:e[e.length-1]),a)},d:function(t,n,r,i){var o,u=t.split("."),a=this.f(u[0],n,r,i),c=this.options.modelGet,f=null;if("."===t&&s(n[n.length-2]))a=n[n.length-1];else for(var l=1;l<u.length;l++)void 0!==(o=e(u[l],a,c))?(f=a,a=o):a="";return!(i&&!a)&&(i||"function"!=typeof a||(n.push(f),a=this.mv(a,n,r),n.pop()),a)},f:function(t,n,r,i){for(var o=!1,u=!1,a=this.options.modelGet,c=n.length-1;c>=0;c--)if(void 0!==(o=e(t,n[c],a))){u=!0;break}return u?(i||"function"!=typeof o||(o=this.mv(o,n,r)),o):!i&&""},ls:function(t,e,n,r,i){var o=this.options.delimiters;return this.options.delimiters=i,this.b(this.ct(c(t.call(e,r)),e,n)),this.options.delimiters=o,!1},ct:function(t,e,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(t,this.options).render(e,n)},b:function(t){this.buf+=t},fl:function(){var t=this.buf;return this.buf="",t},ms:function(t,e,n,r,i,o,u){var a,c=e[e.length-1],s=t.call(c);return"function"==typeof s?!!r||(a=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(s,c,n,a.substring(i,o),u)):s},mv:function(t,e,n){var r=e[e.length-1],i=t.call(r);return"function"==typeof i?this.ct(c(i.call(r)),r,n):i},sub:function(t,e,n,r){var i=this.subs[t];i&&(this.activeSub=t,i(e,n,this,r),this.activeSub=!1)}};var n=/&/g,r=/</g,i=/>/g,o=/\'/g,u=/\"/g,a=/[&<>\"\']/;function c(t){return String(t??"")}var s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}(io);var oo=ro;oo.Template=io.Template,oo.template=oo.Template;var uo=oo,ao=function(t,e,n,r){var i;e[0]=0;for(var o=1;o<e.length;o++){var u=e[o++],a=e[o]?(e[0]|=u?1:2,n[e[o++]]):e[++o];3===u?r[0]=a:4===u?r[1]=Object.assign(r[1]||{},a):5===u?(r[1]=r[1]||{})[e[++o]]=a:6===u?r[1][e[++o]]+=a+"":u?(i=t.apply(a,ao(t,a,n,["",null])),r.push(i),a[0]?e[0]|=2:(e[o-2]=0,e[o]=i)):r.push(a)}return r},co=new Map;var so=function(t){var e=co.get(this);return e||(e=new Map,co.set(this,e)),(e=ao(this,e.get(t)||(e.set(t,e=function(t){for(var e,n,r=1,i="",o="",u=[0],a=function(t){1===r&&(t||(i=i.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?u.push(0,t,i):3===r&&(t||i)?(u.push(3,t,i),r=2):2===r&&"..."===i&&t?u.push(4,t,0):2===r&&i&&!t?u.push(5,0,!0,i):r>=5&&((i||!t&&5===r)&&(u.push(r,0,i,n),r=6),t&&(u.push(r,t,0,n),r=6)),i=""},c=0;c<t.length;c++){c&&(1===r&&a(),a(c));for(var s=0;s<t[c].length;s++)e=t[c][s],1===r?"<"===e?(a(),u=[u],r=3):i+=e:4===r?"--"===i&&">"===e?(r=1,i=""):i=e+i[0]:o?e===o?o="":i+=e:'"'===e||"'"===e?o=e:">"===e?(a(),r=1):r&&("="===e?(r=5,n=i,i=""):"/"===e&&(r<5||">"===t[c][s+1])?(a(),3===r&&(u=u[0]),r=u,(u=u[0]).push(2,0,r),r=0):" "===e||"\t"===e||"\n"===e||"\r"===e?(a(),r=2):i+=e),3===r&&"!--"===i&&(r=4,u=u[0])}return a(),u}(t)),e),arguments,[])).length>1?e:e[0]}.bind(Ei);function fo(){return fo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fo.apply(this,arguments)}function lo(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var ho=["parts","highlightedTagName","nonHighlightedTagName","separator","className","classNames"];var vo,bo,mo,po,yo=(bo=(vo={createElement:Ei,Fragment:ki}).createElement,mo=vo.Fragment,po=function(t){var e=t.createElement;return function(t){var n=t.classNames,r=t.children,i=t.highlightedTagName,o=t.isHighlighted,u=t.nonHighlightedTagName;return e(o?i:u,{className:o?n.highlighted:n.nonHighlighted},r)}}({createElement:bo,Fragment:mo}),function(t){var e=t.parts,n=t.highlightedTagName,r=void 0===n?"mark":n,i=t.nonHighlightedTagName,o=void 0===i?"span":i,u=t.separator,a=void 0===u?", ":u,c=t.className,s=t.classNames,f=void 0===s?{}:s,l=lo(t,ho);return bo("span",fo({},l,{className:Yi(f.root,c)}),e.map((function(t,n){var i=n===e.length-1;return bo(mo,{key:n},t.map((function(t,e){return bo(po,{key:e,classNames:f,highlightedTagName:r,nonHighlightedTagName:o,isHighlighted:t.isHighlighted},t.value)})),!i&&bo("span",{className:f.separator},a))})))}),go=["classNames"];function jo(){return jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jo.apply(this,arguments)}function wo(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Oo(t){var e=t.classNames,n=void 0===e?{}:e,r=wo(t,go);return Ei(yo,jo({classNames:{root:Yi("ais-Highlight",n.root),highlighted:Yi("ais-Highlight-highlighted",n.highlighted),nonHighlighted:Yi("ais-Highlight-nonHighlighted",n.nonHighlighted),separator:Yi("ais-Highlight-separator",n.separator)}},r))}var So=["hit","attribute","cssClasses"];function Ro(){return Ro=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ro.apply(this,arguments)}function No(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function To(t){var e=t.hit,n=t.attribute,r=t.cssClasses,i=No(t,So),o=mn(Te(e._highlightResult,n)||[]);"development"===process.env.NODE_ENV&&Ft(Boolean(o.length),'Could not enable highlight for "'.concat(n.toString(),'", will display an empty string.\nPlease check whether this attribute exists and is either searchable or specified in `attributesToHighlight`.\n\nSee: https://alg.li/highlighting\n'));var u=o.map((function(t){return Se(Kt(t.value||""))}));return Ei(Oo,Ro({},i,{parts:u,classNames:r}))}var Po=["classNames"];function Eo(){return Eo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eo.apply(this,arguments)}function xo(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ko(t){var e=t.classNames,n=void 0===e?{}:e,r=xo(t,Po);return Ei(yo,Eo({classNames:{root:Yi("ais-ReverseHighlight",n.root),highlighted:Yi("ais-ReverseHighlight-highlighted",n.highlighted),nonHighlighted:Yi("ais-ReverseHighlight-nonHighlighted",n.nonHighlighted),separator:Yi("ais-ReverseHighlight-separator",n.separator)}},r))}function Io(t){return Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Io(t)}var Co=["hit","attribute","cssClasses"],Ao=["isHighlighted"];function Fo(){return Fo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fo.apply(this,arguments)}function Ho(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ho(Object(n),!0).forEach((function(e){qo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ho(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qo(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Io(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Io(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Io(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lo(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Do(t){var e=t.hit,n=t.attribute,r=t.cssClasses,i=Lo(t,Co),o=mn(Te(e._highlightResult,n)||[]);"development"===process.env.NODE_ENV&&Ft(Boolean(o.length),'Could not enable highlight for "'.concat(n.toString(),'", will display an empty string.\nPlease check whether this attribute exists and is either searchable or specified in `attributesToHighlight`.\n\nSee: https://alg.li/highlighting\n'));var u=o.map((function(t){return Se(Kt(t.value||"")).map((function(t){var e=t.isHighlighted;return _o(_o({},Lo(t,Ao)),{},{isHighlighted:!e})}))}));return Ei(ko,Fo({},i,{parts:u,classNames:r}))}var Uo=["classNames"];function Mo(){return Mo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mo.apply(this,arguments)}function $o(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bo(t){var e=t.classNames,n=void 0===e?{}:e,r=$o(t,Uo);return Ei(yo,Mo({classNames:{root:Yi("ais-ReverseSnippet",n.root),highlighted:Yi("ais-ReverseSnippet-highlighted",n.highlighted),nonHighlighted:Yi("ais-ReverseSnippet-nonHighlighted",n.nonHighlighted),separator:Yi("ais-ReverseSnippet-separator",n.separator)}},r))}function Wo(t){return Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wo(t)}var Jo=["hit","attribute","cssClasses"],Qo=["isHighlighted"];function Vo(){return Vo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vo.apply(this,arguments)}function zo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ko(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zo(Object(n),!0).forEach((function(e){Yo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Yo(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Wo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Wo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Wo(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Go(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xo(t){var e=t.hit,n=t.attribute,r=t.cssClasses,i=Go(t,Jo),o=mn(Te(e._snippetResult,n)||[]);"development"===process.env.NODE_ENV&&Ft(Boolean(o.length),'Could not enable snippet for "'.concat(n.toString(),'", will display an empty string.\nPlease check whether this attribute exists and is specified in `attributesToSnippet`.\n\nSee: https://alg.li/highlighting\n'));var u=o.map((function(t){return Se(Kt(t.value||"")).map((function(t){var e=t.isHighlighted;return Ko(Ko({},Go(t,Qo)),{},{isHighlighted:!e})}))}));return Ei(Bo,Vo({},i,{parts:u,classNames:r}))}var Zo=["classNames"];function tu(){return tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tu.apply(this,arguments)}function eu(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nu(t){var e=t.classNames,n=void 0===e?{}:e,r=eu(t,Zo);return Ei(yo,tu({classNames:{root:Yi("ais-Snippet",n.root),highlighted:Yi("ais-Snippet-highlighted",n.highlighted),nonHighlighted:Yi("ais-Snippet-nonHighlighted",n.nonHighlighted),separator:Yi("ais-Snippet-separator",n.separator)}},r))}var ru=["hit","attribute","cssClasses"];function iu(){return iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iu.apply(this,arguments)}function ou(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uu(t){var e=t.hit,n=t.attribute,r=t.cssClasses,i=ou(t,ru),o=mn(Te(e._snippetResult,n)||[]);"development"===process.env.NODE_ENV&&Ft(Boolean(o.length),'Could not enable snippet for "'.concat(n.toString(),'", will display an empty string.\nPlease check whether this attribute exists and is specified in `attributesToSnippet`.\n\nSee: https://alg.li/highlighting\n'));var u=o.map((function(t){return Se(Kt(t.value||""))}));return Ei(nu,iu({},i,{parts:u,classNames:r}))}function au(t){return au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(t)}function cu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function su(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cu(Object(n),!0).forEach((function(e){fu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function fu(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==au(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==au(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===au(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lu(t){var e=t.templates,n=t.templateKey,r=t.compileOptions,i=t.helpers,o=t.data,u=t.bindEvent,a=t.sendEvent,c=e[n];if("string"!=typeof c&&"function"!=typeof c)throw new Error("Template must be 'string' or 'function', was '".concat(au(c),"' (key: ").concat(n,")"));if("function"==typeof c){var s=u||{};return s.html=so,s.sendEvent=a,s.components={Highlight:To,ReverseHighlight:Do,Snippet:uu,ReverseSnippet:Xo},c(o,s)}var f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return Object.keys(t).reduce((function(r,i){return su(su({},r),{},fu({},i,(function(){var r=this;return function(o){return t[i].call(n,o,(function(t){return uo.compile(t,e).render(r)}))}})))}),{})}(i,r,o);return uo.compile(c,r).render(su(su({},o),{},{helpers:f})).replace(/[ \n\r\t\f\xA0]+/g,(function(t){return t.replace(/(^|\xA0+)[^\xA0]+/g,"$1 ")})).trim()}function hu(){return hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hu.apply(this,arguments)}function vu(t){return vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(t)}function du(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ju(r.key),r)}}function mu(t,e){return mu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mu(t,e)}function pu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gu(t);if(e){var i=gu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yu(this,n)}}function yu(t,e){if(e&&("object"===vu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function gu(t){return gu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gu(t)}function ju(t){var e=function(t,e){if("object"!==vu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==vu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===vu(e)?e:String(e)}var wu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mu(t,e)}(o,Ii);var e,n,r,i=pu(o);function o(){return du(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"shouldComponentUpdate",value:function(t){return!Le(this.props.data,t.data)||this.props.templateKey!==t.templateKey||!Le(this.props.rootProps,t.rootProps)}},{key:"render",value:function(){var t=this;"development"===process.env.NODE_ENV&&Ft(Object.keys(this.props.templates).every((function(e){return"function"==typeof t.props.templates[e]})),"Hogan.js and string-based templates are deprecated and will not be supported in InstantSearch.js 5.x.\n\nYou can replace them with function-form templates and use either the provided `html` function or JSX templates.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/upgrade-guides/js/#upgrade-templates");var e=this.props.rootTagName,n=this.props.useCustomCompileOptions[this.props.templateKey]?this.props.templatesConfig.compileOptions:{},r=lu({templates:this.props.templates,templateKey:this.props.templateKey,compileOptions:n,helpers:this.props.templatesConfig.helpers,data:this.props.data,bindEvent:this.props.bindEvent,sendEvent:this.props.sendEvent});return null===r?null:"object"===vu(r)?Ei(e,this.props.rootProps,r):Ei(e,hu({},this.props.rootProps,{dangerouslySetInnerHTML:{H:r}}))}}])&&bu(e.prototype,n),r&&bu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}();!function(t,e,n){(e=ju(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(wu,"defaultProps",{data:{},rootTagName:"div",useCustomCompileOptions:{},templates:{},templatesConfig:{}});var Ou=wu;function Su(t){return Su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(t)}function Ru(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ru(Object(n),!0).forEach((function(e){Tu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ru(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Tu(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Su(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Su(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Su(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pu=we({name:"configure",connector:!0});function Eu(t,e){return t.setQueryParameters(Object.keys(e.searchParameters).reduce((function(t,e){return Nu(Nu({},t),{},Tu({},e,void 0))}),{}))}var xu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:It;return function(n){if(!n||!Gt(n.searchParameters))throw new Error(Pu("The `searchParameters` option expects an object."));var r={};return{$$type:"ais.configure",init:function(e){var n=e.instantSearchInstance;t(Nu(Nu({},this.getWidgetRenderState(e)),{},{instantSearchInstance:n}),!0)},render:function(e){var n=e.instantSearchInstance;t(Nu(Nu({},this.getWidgetRenderState(e)),{},{instantSearchInstance:n}),!1)},dispose:function(t){var r=t.state;return e(),Eu(r,n)},getRenderState:function(t,e){var n,r=this.getWidgetRenderState(e);return Nu(Nu({},t),{},{configure:Nu(Nu({},r),{},{widgetParams:Nu(Nu({},r.widgetParams),{},{searchParameters:rn(new xt.SearchParameters(null===(n=t.configure)||void 0===n?void 0:n.widgetParams.searchParameters),new xt.SearchParameters(r.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(t){var e=t.helper;return r.refine||(r.refine=function(t){return function(e){var r=Eu(t.state,n),i=rn(r,new xt.SearchParameters(e));n.searchParameters=e,t.setState(i).search()}}(e)),{refine:r.refine,widgetParams:n}},getWidgetSearchParameters:function(t,e){var r=e.uiState;return rn(t,new xt.SearchParameters(Nu(Nu({},r.configure),n.searchParameters)))},getWidgetUiState:function(t){return Nu(Nu({},t),{},{configure:Nu(Nu({},t.configure),n.searchParameters)})}}}};function ku(t){return ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(t)}function Iu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Cu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Iu(Object(n),!0).forEach((function(e){Au(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Iu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Au(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==ku(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ku(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ku(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fu=function(t){return Cu(Cu({},xu(It)({searchParameters:t})),{},{$$widgetType:"ais.configure"})};function Hu(t){return Hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(t)}function _u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wu(r.key),r)}}function Lu(t,e){return Lu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Lu(t,e)}function Du(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$u(t);if(e){var i=$u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Uu(this,n)}}function Uu(t,e){if(e&&("object"===Hu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Mu(t)}function Mu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $u(t){return $u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$u(t)}function Bu(t,e,n){return(e=Wu(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wu(t){var e=function(t,e){if("object"!==Hu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Hu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Hu(e)?e:String(e)}var Ju={query:"",showSubmit:!0,showReset:!0,showLoadingIndicator:!0,autofocus:!1,searchAsYouType:!0,isSearchStalled:!1,disabled:!1,onChange:It,onSubmit:It,onReset:It,refine:It},Qu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lu(t,e)}(o,Ii);var e,n,r,i=Du(o);function o(){var t;_u(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Bu(Mu(t=i.call.apply(i,[this].concat(n))),"state",{query:t.props.query,focused:!1}),Bu(Mu(t),"input",{current:null}),Bu(Mu(t),"onInput",(function(e){var n=t.props,r=n.searchAsYouType,i=n.refine,o=n.onChange,u=e.target.value;r&&i(u),t.setState({query:u}),o(e)})),Bu(Mu(t),"onSubmit",(function(e){var n=t.props,r=n.searchAsYouType,i=n.refine,o=n.onSubmit;return e.preventDefault(),e.stopPropagation(),t.input.current&&t.input.current.blur(),r||i(t.state.query),o(e),!1})),Bu(Mu(t),"onReset",(function(e){var n=t.props,r=n.refine,i=n.onReset;t.input.current&&t.input.current.focus(),r(""),t.setState({query:""}),i(e)})),Bu(Mu(t),"onBlur",(function(){t.setState({focused:!1})})),Bu(Mu(t),"onFocus",(function(){t.setState({focused:!0})})),t}return e=o,(n=[{key:"resetInput",value:function(){this.setState({query:""})}},{key:"componentWillReceiveProps",value:function(t){this.state.focused||t.query===this.state.query||this.setState({query:t.query})}},{key:"render",value:function(){var t=this.props,e=t.cssClasses,n=t.placeholder,r=t.autofocus,i=t.showSubmit,o=t.showReset,u=t.showLoadingIndicator,a=t.templates,c=t.isSearchStalled;return Ei("div",{className:e.root},Ei("form",{action:"",role:"search",className:e.form,noValidate:!0,onSubmit:this.onSubmit,onReset:this.onReset},Ei("input",{ref:this.input,value:this.state.query,disabled:this.props.disabled,className:e.input,type:"search",placeholder:n,autoFocus:r,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",maxLength:512,onInput:this.onInput,onBlur:this.onBlur,onFocus:this.onFocus}),Ei(Ou,{templateKey:"submit",rootTagName:"button",rootProps:{className:e.submit,type:"submit",title:"Submit the search query.",hidden:!i},templates:a,data:{cssClasses:e}}),Ei(Ou,{templateKey:"reset",rootTagName:"button",rootProps:{className:e.reset,type:"reset",title:"Clear the search query.",hidden:!(o&&this.state.query.trim()&&!c)},templates:a,data:{cssClasses:e}}),u&&Ei(Ou,{templateKey:"loadingIndicator",rootTagName:"span",rootProps:{className:e.loadingIndicator,hidden:!c},templates:a,data:{cssClasses:e}})))}}])&&qu(e.prototype,n),r&&qu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}();Bu(Qu,"defaultProps",Ju);var Vu=Qu;function zu(t){return zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(t)}function Ku(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Yu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ku(Object(n),!0).forEach((function(e){Gu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ku(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Gu(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==zu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==zu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===zu(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xu=we({name:"hits",connector:!0}),Zu=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:It;return $t(t,Xu()),function(n){var r,i,o=n||{},u=o.escapeHTML,a=void 0===u||u,c=o.transformItems,s=void 0===c?function(t){return t}:c;return{$$type:"ais.hits",init:function(e){t(Yu(Yu({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!0)},render:function(e){var n=this.getWidgetRenderState(e);t(Yu(Yu({},n),{},{instantSearchInstance:e.instantSearchInstance}),!1),n.sendEvent("view",n.hits)},getRenderState:function(t,e){return Yu(Yu({},t),{},{hits:this.getWidgetRenderState(e)})},getWidgetRenderState:function(t){var e=t.results,o=t.helper,u=t.instantSearchInstance;if(r||(r=de({instantSearchInstance:u,index:o.getIndex(),widgetType:this.$$type})),i||(i=be({index:o.getIndex(),widgetType:this.$$type})),!e)return{hits:[],results:void 0,sendEvent:r,bindEvent:i,widgetParams:n};a&&e.hits.length>0&&(e.hits=ce(e.hits));var c=_e(Ie(e.hits,e.page,e.hitsPerPage),e.queryID);return{hits:s(c,{results:e}),results:e,sendEvent:r,bindEvent:i,widgetParams:n}},dispose:function(t){var n=t.state;return e(),a?n.setQueryParameters(Object.keys(re).reduce((function(t,e){return Yu(Yu({},t),{},Gu({},e,void 0))}),{})):n},getWidgetSearchParameters:function(t){return a?t.setQueryParameters(re):t}}}};function ta(t){return ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ta(t)}function ea(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function na(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ea(Object(n),!0).forEach((function(e){ra(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ra(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==ta(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ta(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ta(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ia(){return ia=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ia.apply(this,arguments)}var oa=function(t){var e=t.results,n=t.hits,r=t.bindEvent,i=t.sendEvent,o=t.cssClasses,u=t.templateProps;return 0===e.hits.length?Ei(Ou,ia({},u,{templateKey:"empty",rootProps:{className:Yi(o.root,o.emptyRoot)},data:e})):Ei("div",{className:o.root},Ei("ol",{className:o.list},n.map((function(t,e){return Ei(Ou,ia({},u,{templateKey:"item",rootTagName:"li",rootProps:{className:o.item},key:t.objectID,data:na(na({},t),{},{_:e}),bindEvent:r,sendEvent:i}))}))))},ua={empty:function(){return"No results"},item:function(t){return JSON.stringify(t,null,2)}};function aa(t){return aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aa(t)}function ca(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function sa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ca(Object(n),!0).forEach((function(e){fa(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ca(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function fa(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==aa(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==aa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===aa(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var la=function(t){var e=t.method,n=t.results,r=t.hits,i=t.objectIDs,o=n.index,u=function(t,e){return e.map((function(e){var n=function(t,e){for(var n,r=0;r<t.length;r++)if(e(n=t[r],r,t))return n}(t,(function(t){return t.objectID===e}));if(void 0===n)throw new Error('Could not find objectID "'.concat(e,'" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.'));return n}))}(r,i),a=function(t){var e=De(t.map((function(t){return t.h})));if(e.length>1)throw new Error("Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.");var n=e[0];if("string"!=typeof n)throw new Error("Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\n\nSee: https://alg.li/lNiZZ7");return n}(u);switch(e){case"clickedObjectIDsAfterSearch":var c=function(t){return t.map((function(t){return t.m}))}(u);return{index:o,queryID:a,objectIDs:i,positions:c};case"convertedObjectIDsAfterSearch":return{index:o,queryID:a,objectIDs:i};default:throw new Error('Unsupported method passed to insights: "'.concat(e,'".'))}};function ha(t){return function(e,n){return t((function(t,n){var r=t.results,i=t.hits,o=t.instantSearchInstance;if(r&&i&&o){var u=function(t,e,n){return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),u=1;u<i;u++)o[u-1]=arguments[u];var a=o[0];if("development"===process.env.NODE_ENV&&Ft(!1,"`insights` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\n\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/"),!t){var c=we({name:"instantsearch"});throw new Error(c("The `insightsClient` option has not been provided to `instantsearch`."))}if(!Array.isArray(a.objectIDs))throw new TypeError("Expected `objectIDs` to be an array.");var s=la({method:r,results:e,hits:n,objectIDs:a.objectIDs});t(r,sa(sa({},s),a))}}(o.insightsClient,r,i);return e(sa(sa({},t),{},{insights:u}),n)}return e(t,n)}),n)}}var va=function(t,e,n){for(var r=t;r&&!n(r);){if(r===e)return null;r=r.parentElement}return r},da=function(t){return function(e){return Ei("div",{onClick:function(t){if(e.sendEvent){var n=va(t.target,t.currentTarget,(function(t){return t.hasAttribute("data-insights-event")}));if(n)(function(t){var e=t.getAttribute("data-insights-event");if("string"!=typeof e)throw new Error("The insights middleware expects `data-insights-event` to be a base64-encoded JSON string.");try{return le(e)}catch(t){throw new Error("The insights middleware was unable to parse `data-insights-event`.")}})(n).forEach((function(t){return e.sendEvent(t)}))}var r=va(t.target,t.currentTarget,(function(t){return t.hasAttribute("data-insights-method")}));if(r){var i=function(t){var e=t.getAttribute("data-insights-method"),n=t.getAttribute("data-insights-payload");if("string"!=typeof n)throw new Error("The insights helper expects `data-insights-payload` to be a base64-encoded JSON string.");try{return{method:e,payload:le(n)}}catch(t){throw new Error("The insights helper was unable to parse `data-insights-payload`.")}}(r),o=i.method,u=i.payload;e.insights(o,u)}}},Ei(t,e))}};function ba(t){return ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ba(t)}function ma(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ma(Object(n),!0).forEach((function(e){ya(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ma(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ya(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==ba(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ba(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ba(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ga=we({name:"hits"}),ja=Fn("Hits"),wa=da(oa),Oa=function(t){var e=t||{},n=e.container,r=e.escapeHTML,i=e.transformItems,o=e.templates,u=void 0===o?{}:o,a=e.cssClasses,c=void 0===a?{}:a;if(!n)throw new Error(ga("The `container` option is required."));var s=Oe(n),f={root:Yi(ja(),c.root),emptyRoot:Yi(ja({modifierName:"empty"}),c.emptyRoot),list:Yi(ja({descendantName:"list"}),c.list),item:Yi(ja({descendantName:"item"}),c.item)},l=function(t){var e=t.renderState,n=t.cssClasses,r=t.containerNode,i=t.templates;return function(t,o){var u=t.hits,a=t.results,c=t.instantSearchInstance,s=t.insights,f=t.bindEvent;o?e.templateProps=no({defaultTemplates:ua,templatesConfig:c.templatesConfig,templates:i}):Ki(Ei(wa,{cssClasses:n,hits:u,results:a,templateProps:e.templateProps,insights:s,sendEvent:function(t){c.sendEventToInsights(t)},bindEvent:f}),r)}}({containerNode:s,cssClasses:f,renderState:{},templates:u});return pa(pa({},ha(Zu)(l,(function(){return Ki(null,s)}))({escapeHTML:r,transformItems:i})),{},{$$widgetType:"ais.hits"})};function Sa(t){function e(e){return function(n){(function(t){return 1===t.button||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey})(n)||(n.preventDefault(),t.setCurrentPage(e))}}return Ei("div",{className:Yi(t.cssClasses.root,t.nbPages<=1&&t.cssClasses.noRefinementRoot)},Ei("ul",{className:t.cssClasses.list},t.showFirst&&Ei(Ra,{ariaLabel:"First",className:t.cssClasses.firstPageItem,isDisabled:t.isFirstPage,label:t.templates.first,pageNumber:0,createURL:t.createURL,cssClasses:t.cssClasses,createClickHandler:e}),t.showPrevious&&Ei(Ra,{ariaLabel:"Previous",className:t.cssClasses.previousPageItem,isDisabled:t.isFirstPage,label:t.templates.previous,pageNumber:t.currentPage-1,createURL:t.createURL,cssClasses:t.cssClasses,createClickHandler:e}),t.pages.map((function(n){return Ei(Ra,{key:n,ariaLabel:"".concat(n+1),className:t.cssClasses.pageItem,isSelected:n===t.currentPage,label:"".concat(n+1),pageNumber:n,createURL:t.createURL,cssClasses:t.cssClasses,createClickHandler:e})})),t.showNext&&Ei(Ra,{ariaLabel:"Next",className:t.cssClasses.nextPageItem,isDisabled:t.isLastPage,label:t.templates.next,pageNumber:t.currentPage+1,createURL:t.createURL,cssClasses:t.cssClasses,createClickHandler:e}),t.showLast&&Ei(Ra,{ariaLabel:"Last",className:t.cssClasses.lastPageItem,isDisabled:t.isLastPage,label:t.templates.last,pageNumber:t.nbPages-1,createURL:t.createURL,cssClasses:t.cssClasses,createClickHandler:e})))}function Ra(t){var e=t.label,n=t.ariaLabel,r=t.pageNumber,i=t.className,o=t.isDisabled,u=void 0!==o&&o,a=t.isSelected,c=void 0!==a&&a,s=t.cssClasses,f=t.createURL,l=t.createClickHandler;return Ei("li",{className:Yi(s.item,i,u&&s.disabledItem,c&&s.selectedItem)},u?Ei("span",{className:s.link,dangerouslySetInnerHTML:{H:e}}):Ei("a",{className:s.link,"aria-label":n,href:f(r),onClick:l(r),dangerouslySetInnerHTML:{H:e}}))}function Na(t){return Na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Na(t)}function Ta(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ea(r.key),r)}}function Pa(t,e,n){return(e=Ea(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ea(t){var e=function(t,e){if("object"!==Na(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Na(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Na(e)?e:String(e)}var xa=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Pa(this,"currentPage",void 0),Pa(this,"total",void 0),Pa(this,"padding",void 0),this.currentPage=e.currentPage,this.total=e.total,this.padding=e.padding}var e,n,r;return e=t,(n=[{key:"pages",value:function(){var t=this.total,e=this.currentPage,n=this.padding;if(0===t)return[0];var r=this.nbPagesDisplayed(n,t);if(r===t)return an({end:t});var i=this.calculatePaddingLeft(e,n,t,r);return an({start:e-i,end:e+(r-i)})}},{key:"nbPagesDisplayed",value:function(t,e){return Math.min(2*t+1,e)}},{key:"calculatePaddingLeft",value:function(t,e,n,r){return t<=e?t:t>=n-e?r-(n-t):e}},{key:"isLastPage",value:function(){return this.currentPage===this.total-1||0===this.total}},{key:"isFirstPage",value:function(){return 0===this.currentPage}}])&&Ta(e.prototype,n),r&&Ta(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ka(t){return ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ka(t)}function Ia(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ca(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ia(Object(n),!0).forEach((function(e){Aa(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ia(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Aa(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==ka(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ka(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ka(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fa=we({name:"pagination",connector:!0}),Ha=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:It;return $t(t,Fa()),function(n){var r=n||{},i=r.totalPages,o=r.padding,u=new xa({currentPage:0,total:0,padding:void 0===o?3:o}),a={};return{$$type:"ais.pagination",init:function(e){var n=e.instantSearchInstance;t(Ca(Ca({},this.getWidgetRenderState(e)),{},{instantSearchInstance:n}),!0)},render:function(e){var n=e.instantSearchInstance;t(Ca(Ca({},this.getWidgetRenderState(e)),{},{instantSearchInstance:n}),!1)},dispose:function(t){var n=t.state;return e(),n.setQueryParameter("page",void 0)},getWidgetUiState:function(t,e){var n=e.searchParameters.page||0;return n?Ca(Ca({},t),{},{page:n+1}):t},getWidgetSearchParameters:function(t,e){var n=e.uiState,r=n.page?n.page-1:0;return t.setQueryParameter("page",r)},getWidgetRenderState:function(t){var e=t.results,r=t.helper,o=t.state,c=t.createURL;a.refine||(a.refine=function(t){r.setPage(t),r.search()}),a.createURL||(a.createURL=function(t){return function(e){return c(t.setPage(e))}});var s=o.page||0,f=function(t){var e=t.nbPages;return void 0!==i?Math.min(i,e):e}(e||{nbPages:0});return u.currentPage=s,u.total=f,{createURL:a.createURL(o),refine:a.refine,canRefine:f>1,currentRefinement:s,nbHits:(null==e?void 0:e.nbHits)||0,nbPages:f,pages:e?u.pages():[],isFirstPage:u.isFirstPage(),isLastPage:u.isLastPage(),widgetParams:n}},getRenderState:function(t,e){return Ca(Ca({},t),{},{pagination:this.getWidgetRenderState(e)})}}}};function _a(t){return _a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_a(t)}function qa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function La(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qa(Object(n),!0).forEach((function(e){Da(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qa(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Da(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==_a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==_a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===_a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ua=Fn("Pagination"),Ma=we({name:"pagination"}),$a={previous:"‹",next:"›",first:"«",last:"»"},Ba=function(t){var e=t||{},n=e.container,r=e.templates,i=void 0===r?{}:r,o=e.cssClasses,u=void 0===o?{}:o,a=e.totalPages,c=e.padding,s=e.showFirst,f=void 0===s||s,l=e.showLast,h=void 0===l||l,v=e.showPrevious,d=void 0===v||v,b=e.showNext,m=void 0===b||b,p=e.scrollTo,y=void 0===p?"body":p;if(!n)throw new Error(Ma("The `container` option is required."));var g=Oe(n),j=!0===y?"body":y,w=!1!==j&&Oe(j),O={root:Yi(Ua(),u.root),noRefinementRoot:Yi(Ua({modifierName:"noRefinement"}),u.noRefinementRoot),list:Yi(Ua({descendantName:"list"}),u.list),item:Yi(Ua({descendantName:"item"}),u.item),firstPageItem:Yi(Ua({descendantName:"item",modifierName:"firstPage"}),u.firstPageItem),lastPageItem:Yi(Ua({descendantName:"item",modifierName:"lastPage"}),u.lastPageItem),previousPageItem:Yi(Ua({descendantName:"item",modifierName:"previousPage"}),u.previousPageItem),nextPageItem:Yi(Ua({descendantName:"item",modifierName:"nextPage"}),u.nextPageItem),pageItem:Yi(Ua({descendantName:"item",modifierName:"page"}),u.pageItem),selectedItem:Yi(Ua({descendantName:"item",modifierName:"selected"}),u.selectedItem),disabledItem:Yi(Ua({descendantName:"item",modifierName:"disabled"}),u.disabledItem),link:Yi(Ua({descendantName:"link"}),u.link)},S=La(La({},$a),i),R=function(t){var e=t.containerNode,n=t.cssClasses,r=t.templates,i=t.showFirst,o=t.showLast,u=t.showPrevious,a=t.showNext,c=t.scrollToNode;return function(t,s){var f=t.createURL,l=t.currentRefinement,h=t.nbPages,v=t.pages,d=t.isFirstPage,b=t.isLastPage,m=t.refine;s||Ki(Ei(Sa,{createURL:f,cssClasses:n,currentPage:l,templates:r,nbPages:h,pages:v,isFirstPage:d,isLastPage:b,setCurrentPage:function(t){m(t),!1!==c&&c.scrollIntoView()},showFirst:i,showLast:o,showPrevious:u,showNext:a}),e)}}({containerNode:g,cssClasses:O,templates:S,showFirst:f,showLast:h,showPrevious:d,showNext:m,scrollToNode:w});return La(La({},Ha(R,(function(){return Ki(null,g)}))({totalPages:a,padding:c})),{},{$$widgetType:"ais.pagination"})},Wa=Ei("path",{d:"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"}),Ja=Ei("path",{d:"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"}),Qa=Ei("g",{fill:"none",fillRule:"evenodd"},Ei("g",{transform:"translate(1 1)",strokeWidth:"2"},Ei("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),Ei("path",{d:"M36 18c0-9.94-8.06-18-18-18"},Ei("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})))),Va={reset:function(t){return Ei("svg",{className:t.cssClasses.resetIcon,viewBox:"0 0 20 20",width:"10",height:"10"},Wa)},submit:function(t){return Ei("svg",{className:t.cssClasses.submitIcon,width:"10",height:"10",viewBox:"0 0 40 40"},Ja)},loadingIndicator:function(t){return Ei("svg",{className:t.cssClasses.loadingIcon,width:"16",height:"16",viewBox:"0 0 38 38",stroke:"#444"},Qa)}},za=Va;function Ka(t){return Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ka(t)}function Ya(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ga(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ya(Object(n),!0).forEach((function(e){Xa(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ya(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xa(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Ka(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ka(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ka(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Za=we({name:"search-box",connector:!0}),tc=function(t,e){return e(t)},ec=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:It;return $t(t,Za()),function(n){var r,i,o=(n||{}).queryHook,u=void 0===o?tc:o;return{$$type:"ais.searchBox",init:function(e){var n=e.instantSearchInstance;t(Ga(Ga({},this.getWidgetRenderState(e)),{},{instantSearchInstance:n}),!0)},render:function(e){var n=e.instantSearchInstance;t(Ga(Ga({},this.getWidgetRenderState(e)),{},{instantSearchInstance:n}),!1)},dispose:function(t){var n=t.state;return e(),n.setQueryParameter("query",void 0)},getRenderState:function(t,e){return Ga(Ga({},t),{},{searchBox:this.getWidgetRenderState(e)})},getWidgetRenderState:function(t){var e=t.helper,o=t.searchMetadata,a=t.state;return r||(r=function(t){u(t,(function(t){return e.setQuery(t).search()}))},i=function(){e.setQuery("").search()}),{query:a.query||"",refine:r,clear:i,widgetParams:n,isSearchStalled:o.isSearchStalled}},getWidgetUiState:function(t,e){var n=e.searchParameters.query||"";return""===n||t&&t.query===n?t:Ga(Ga({},t),{},{query:n})},getWidgetSearchParameters:function(t,e){var n=e.uiState;return t.setQueryParameter("query",n.query||"")}}}};function nc(t){return nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(t)}function rc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ic(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rc(Object(n),!0).forEach((function(e){oc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function oc(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==nc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==nc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===nc(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var uc=we({name:"search-box"}),ac=Fn("SearchBox"),cc=function(t){var e=t||{},n=e.container,r=e.placeholder,i=void 0===r?"":r,o=e.cssClasses,u=void 0===o?{}:o,a=e.autofocus,c=void 0!==a&&a,s=e.searchAsYouType,f=void 0===s||s,l=e.showReset,h=void 0===l||l,v=e.showSubmit,d=void 0===v||v,b=e.showLoadingIndicator,m=void 0===b||b,p=e.queryHook,y=e.templates,g=void 0===y?{}:y;if(!n)throw new Error(uc("The `container` option is required."));var j=Oe(n),w={root:Yi(ac(),u.root),form:Yi(ac({descendantName:"form"}),u.form),input:Yi(ac({descendantName:"input"}),u.input),submit:Yi(ac({descendantName:"submit"}),u.submit),submitIcon:Yi(ac({descendantName:"submitIcon"}),u.submitIcon),reset:Yi(ac({descendantName:"reset"}),u.reset),resetIcon:Yi(ac({descendantName:"resetIcon"}),u.resetIcon),loadingIndicator:Yi(ac({descendantName:"loadingIndicator"}),u.loadingIndicator),loadingIcon:Yi(ac({descendantName:"loadingIcon"}),u.loadingIcon)},O=ic(ic({},za),g),S=function(t){var e=t.containerNode,n=t.cssClasses,r=t.placeholder,i=t.templates,o=t.autofocus,u=t.searchAsYouType,a=t.showReset,c=t.showSubmit,s=t.showLoadingIndicator;return function(t){var f=t.refine,l=t.query,h=t.isSearchStalled;Ki(Ei(Vu,{query:l,placeholder:r,autofocus:o,refine:f,searchAsYouType:u,templates:i,showSubmit:c,showReset:a,showLoadingIndicator:s,isSearchStalled:h,cssClasses:n}),e)}}({containerNode:j,cssClasses:w,placeholder:i,templates:O,autofocus:c,searchAsYouType:f,showReset:h,showSubmit:d,showLoadingIndicator:m});return ic(ic({},ec(S,(function(){return Ki(null,j)}))({queryHook:p})),{},{$$widgetType:"ais.searchBox"})};const sc=".cv-navbar",fc=".cv-navbar",lc="padding-right",hc="margin-right";class vc{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,lc,(e=>e+t)),this._setElementAttributes(sc,lc,(e=>e+t)),this._setElementAttributes(fc,hc,(e=>e-t))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,lc),this._resetElementAttributes(sc,lc),this._resetElementAttributes(fc,hc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,n){const r=this.getWidth();this._applyManipulationCallback(t,(t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+r)return;this._saveInitialAttribute(t,e);const i=window.getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,`${n(Number.parseFloat(i))}px`)}))}_saveInitialAttribute(t,e){const n=t.style.getPropertyValue(e);n&&t.setAttribute(`data-cv-${e}`,n)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,(t=>{const n=t.getAttribute(`data-cv-${e}`);null!==n?(t.removeAttribute(`data-cv-${e}`),t.style.setProperty(e,n)):t.style.removeProperty(e)}))}_applyManipulationCallback(t,e){if("string"==typeof t)for(const n of this._element.querySelectorAll(t))e(n);else e(t)}}
/*! js-cookie v3.0.1 | MIT */function dc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var bc=function t(e,n){function r(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=dc({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var u in i)i[u]&&(o+="; "+u,!0!==i[u]&&(o+="="+i[u].split(";")[0]));return document.cookie=t+"="+e.write(r,t)+o}}return Object.create({set:r,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var o=n[i].split("="),u=o.slice(1).join("=");try{var a=decodeURIComponent(o[0]);if(r[a]=e.read(u,a),t===a)break}catch(t){}}return t?r[t]:r}},remove:function(t,e){r(t,"",dc({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,dc({},this.attributes,e))},withConverter:function(e){return t(dc({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),mc={version:"0.0.0",baseUrl:"https://corvee.bib.umontreal.ca",description:"Corvée: le site où trouver vos liens brisés.",algoliasearch:{applicationID:"AT9I76OQTC",apiKey:"1feac540f9fa7ed6b180dfbae4a11d82",indexName:"pages"},cookie:{name:"cv",options:{domain:"bib.umontreal.ca",sameSite:"strict"}},home:{title:"Corvée - Liens brisés par section"},actions:[{key:"to-be-fixed",long:"Ce lien est à corriger",short:"À corriger"},{key:"fixed",long:"Ce lien a été corrigé",short:"Corrigé"},{key:"no-error",long:"Ce lien fonctionne (faux positif)!",short:"Faux positif!"},{key:"ignore",long:"Ne pas tenir compte de ce lien",short:"Ignorer"}],defaultLinkType:"A",linkTypes:{A:"texte",IFRAME:"cadre <small>(iframe)</small>",IMG:"image",FORM:"formulaire",LINK:"feuille de style",SCRIPT:"script"}},pc={currentJob:"2022-12-20",harvestDate:"2022-12-20",harvestDateFormated:"20 décembre 2022",deadline:"2023-02-17",deadlineFormated:"17 février 2023",sections:[{sections:[{key:"tous",title:"Tous les liens <small>(attention: très longue page)</small>",urls:[""]}]},{title:"Portails disciplinaires",sections:[{key:"amenagement",title:"Aménagement",urls:["https://bib.umontreal.ca/amenagement"]},{key:"anthropologie-demographie-sociologie",title:"Anthropologie, démographie, sociologie",urls:["https://bib.umontreal.ca/anthropologie-demographie-sociologie"]},{key:"art-cinema-musique",title:"Art, cinéma, musique",urls:["https://bib.umontreal.ca/art-cinema-musique"]},{key:"communication-sciences-information",title:"Communication, sciences de l'information",urls:["https://bib.umontreal.ca/communication-sciences-information"]},{key:"criminologie-psychologie-travail-social",title:"Criminologie, psychologie, travail social",urls:["https://bib.umontreal.ca/criminologie-psychologie-travail-social"]},{key:"droit",title:"Droit",urls:["https://bib.umontreal.ca/droit"]},{key:"economie-politique-relations-industrielles",title:"Économie, politique, relations industrielles",urls:["https://bib.umontreal.ca/economie-politique-relations-industrielles"]},{key:"education-psychoeducation",title:"Éducation, psychoéducation",urls:["https://bib.umontreal.ca/education-psychoeducation"]},{key:"etudes-religieuses-histoire-philosophie",title:"Études religieuses, histoire, philosophie",urls:["https://bib.umontreal.ca/etudes-religieuses-histoire-philosophie"]},{key:"informatique-mathematique-sciences-nature",title:"Informatique, mathématiques, sciences de la nature",urls:["https://bib.umontreal.ca/informatique-mathematique-sciences-nature"]},{key:"langues-litteratures",title:"Langues et littératures",urls:["https://bib.umontreal.ca/langues-litteratures"]},{key:"sciences-sante",title:"Sciences de la santé",urls:["https://bib.umontreal.ca/sciences-sante"]},{key:"multidisciplinaire",title:"Multidisciplinaire",urls:["https://bib.umontreal.ca/multidisciplinaire"]}]},{title:"Autres sections du site",sections:[{key:"chercher",title:"Chercher de l'information",urls:["https://bib.umontreal.ca/chercher","https://bib.umontreal.ca/guides","https://bib.umontreal.ca/emprunter"]},{key:"utiliser",title:"Utiliser l'information",urls:["https://bib.umontreal.ca/citer","https://bib.umontreal.ca/evaluer-analyser-rediger","https://bib.umontreal.ca/gerer-diffuser","https://bib.umontreal.ca/formations"]},{key:"travailler",title:"Travailler en bibliothèque",urls:["https://bib.umontreal.ca/travailler"]},{key:"a-propos",title:"À propos",urls:["https://bib.umontreal.ca/les-bibliotheques-udem","https://bib.umontreal.ca/faire-un-don","https://bib.umontreal.ca/communications","https://bib.umontreal.ca/services","https://bib.umontreal.ca/collections","https://bib.umontreal.ca/sondage-et-enquetes"]},{key:"soutien-enseignement",title:"Soutien à l'enseignement",urls:["https://bib.umontreal.ca/soutien-enseignement"]},{key:"soutien-recherche",title:"Soutien à la recherche",urls:["https://bib.umontreal.ca/soutien-recherche","https://bib.umontreal.ca/recherche-documentaire-subventions-et-laboratoires"]},{key:"nous-joindre",title:"Nous joindre",urls:["https://bib.umontreal.ca/nous-joindre"]},{key:"www",title:"Pages sur www.bib.umontreal.ca",urls:["https://www.bib.umontreal.ca"]}]}]};class yc extends EventTarget{#t;constructor(t){super(),this.#t=window.parent===window?null:window.parent,Object.defineProperty(this,"host",{value:this.#t?"slave":"master",enumerable:!0}),this._cookieName=t.name,this._cookieAttributes=t.options;const e=new Date(pc.deadline);e>Date.now()&&(this._cookieAttributes.expires=e),this._cookie=bc.withAttributes(this._cookieAttributes),"slave"===this.host&&window.addEventListener("message",(t=>{if(t.data?.cv&&t.data.event?.endsWith(".user-config")){const e=t.data.event.split(".")[0],n=t.data;this.#e(e,n.data,!1)}}))}#e(t,e,n=!0){if(this.dispatchEvent(new CustomEvent(t,{detail:e})),"master"===this.host&&n)for(let n=0;n<window.frames.length;n++)window.frames[n].postMessage({cv:!0,event:`${t}.user-config`,data:e},"*")}set(t){const e=this.getAll(),n=Object.keys(t)[0],r=t[n];if(Reflect.has(e,n)&&e[n]===r)return;const i=Object.assign(e,t);this._cookie.set(this._cookieName,JSON.stringify(i)),this.#e("change",{prop:n,value:r})}get(t){const e=new URLSearchParams(location.search),n="currentJob"===t?"job":t;if(e.has(n))return e.get(n);try{return JSON.parse(this._cookie.get(this._cookieName))[t]}catch{return null}}getAll(){try{return JSON.parse(this._cookie.get(this._cookieName))}catch{return{}}}}const gc=new yc(mc.cookie);globalThis.corvee=globalThis.corvee||{},globalThis.corvee.userConfig=gc;var jc='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="1em" height="1em" class="cv-i cv-i-close" aria-hidden="true"><path fill="currentColor" d=\'M.293.293a1 1 0 0 1 1.414 0L8 6.586 14.293.293a1 1 0 1 1 1.414 1.414L9.414 8l6.293 6.293a1 1 0 0 1-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 0 1-1.414-1.414L6.586 8 .293 1.707a1 1 0 0 1 0-1.414z\'/></svg>',wc='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="1em" height="1em" class="cv-i cv-i-search" aria-hidden="true"><path fill="currentColor" d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" /></svg>',Oc='<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" class="cv-i cv-i-spinner-rolling" aria-hidden="true" role="img"><g stroke="currentColor"><circle cx="12" cy="12" r="9.5" fill="none" stroke-linecap="round" stroke-width="3"><animate attributeName="stroke-dasharray" calcMode="spline" dur="1.5s" keySplines="0.42,0,0.58,1;0.42,0,0.58,1;0.42,0,0.58,1" keyTimes="0;0.475;0.95;1" repeatCount="indefinite" values="0 150;42 150;42 150;42 150"/><animate attributeName="stroke-dashoffset" calcMode="spline" dur="1.5s" keySplines="0.42,0,0.58,1;0.42,0,0.58,1;0.42,0,0.58,1" keyTimes="0;0.475;0.95;1" repeatCount="indefinite" values="0;-16;-59;-59"/></circle><animateTransform attributeName="transform" dur="2s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"/></g></svg>',Sc='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="1em" height="1em" class="cv-i cv-i-arrow-left" aria-hidden="true"><path fill="currentColor" d="M24 10.48v3.04H5.82l8.33 8.33L12 24 0 12 12 0l2.15 2.15-8.33 8.33Z"/></svg>\n';const Rc="AT9I76OQTC",Nc="1feac540f9fa7ed6b180dfbae4a11d82",Tc="pages";function Pc(){!async function(){if(document.querySelector("#cv-search-input-btn")){const d=document.querySelector(".cv-search-dialog"),b=n(Rc,Nc),m=Tc,p=b.initIndex(m),y=gc.get("currentJob"),g=location.pathname.split("/").pop(),j=new vc;try{const{facetHits:w}=await p.searchForFacetValues("job",y),O=document.querySelector(".cv-search-input");function t(e){const n=e.target;n===O&&"fade-out"===e.animationName&&(n.classList.contains("hide-search-widget")&&(n.hidden=!0),n.classList.remove("show-search-widget","hide-search-widget"),n.removeEventListener("animationend",t))}if(O.addEventListener("animationend",t),O.classList.remove("loading"),w&&1!==w.length)return void O.classList.add("hide-search-widget");O.classList.add("show-search-widget");const S={indexName:m,searchClient:b,numberLocale:"fr",onStateChange({uiState:t,setUiState:e}){const n=new URL(location.href);t.pages.query?n.searchParams.set("q",t.pages.query):n.searchParams.delete("q"),history.replaceState(null,"",n.href),e(t)}};/q=./.test(location.search)&&(S.initialUiState={pages:{query:new URL(location).searchParams.get("q")}});const R=Oi(S);R.addWidgets([Fu({facetFilters:[`job:${y} `,`sections:${g} `]}),cc({container:"#cv-search-dialog-box",placeholder:"Cherchez un guide, une page",cssClasses:{root:"cv-search-dialog-box",form:"cv-search-dialog-form",input:"cv-search-dialog-input",submit:"cv-search-dialog-submit-btn",submitIcon:"cv-search-dialog-submit-icon",reset:"cv-search-dialog-reset-btn",resetIcon:"cv-search-dialog-reset-icon",loadingIndicator:"cv-search-dialog-loading-btn"},templates:{submit:({cssClasses:t},{html:e})=>e`${wc}`,reset:({cssClasses:t},{html:e})=>e`${jc}`,loadingIndicator:({cssClasses:t},{html:e})=>e`${Oc}`}}),Oa({container:"#cv-search-hits",cssClasses:{root:["cv-search-hits-root"],list:["cv-search-hits-list-group"],item:["cv-search-hits-item"]},templates:{item(t,{html:e,components:n}){const r=t.pages?e`<p class="cv-search-hits-item-pages">${t.pages.join(" | ")}</p>`:"",i=t.text?e`<p class="cv-search-hits-item-text"><small>${t.text}</small></p>`:"";return e`<div tabindex="0" data-cv-link-key-ref="${t.key}"><p class="cv-search-hits-item-title">${n.Highlight({hit:t,attribute:"title"})}</p>${r}<p class="cv-search-hits-item-url"><small><code>${n.Highlight({hit:t,attribute:"url"})}</code></small></p>${i}</div>`},empty:(t,{html:e})=>e`<div class="cv-search-hits-no-result">Aucun résultat pour <q>${t.query}</q></div>`}}),Ba({container:"#cv-search-pagination",cssClasses:{list:["cv-search-pagination-list","pagination"],item:["cv-search-pagination-item","page-item"],link:["cv-search-pagination-link","page-link"],selectedItem:["cv-search-pagination-active","active"],disabledItem:["cv-search-pagination-disabled","disabled"],pageItem:"cv-search-pagination-page-item"}})]),R.start();const N=document.querySelector(".cv-search-input-container"),T=document.querySelector(".cv-search-input-btn"),P=d.querySelector(".cv-search-dialog-form"),E=d.querySelector(".cv-search-dialog-input"),x=d.querySelector(".cv-search-dialog-submit-btn"),k=d.querySelector(".cv-search-dialog-reset-btn"),I=document.createElement("button"),C=d.querySelector(".cv-search-hits"),A=d.querySelector(".cv-search-pagination");function e(){j.hide(),d.addEventListener("animationend",(()=>{d.classList.remove("open")}),{once:!0}),d.classList.add("open"),d.showModal(),E.focus(),v()}function r(t=!1,e=(()=>{})){function n(){j.reset(),d.addEventListener("animationend",(()=>{d.close(),d.classList.remove("close"),e()}),{once:!0}),d.classList.add("close")}t?setTimeout(n,300):n()}function i(){d.querySelectorAll(".cv-search-hits-item.active").forEach((t=>t.classList.remove("active")))}function o(t){const e=t.target;e===N&&("cv-search-input-width"===t.animationName&&(e.classList.contains("expanding")?(e.classList.remove("expanding"),e.style.setProperty("--_cv-search-input-computed-max-width",getComputedStyle(e).width)):(e.classList.remove("contracting"),T.innerHTML=`<span class="cv-placeholder">${T.dataset.placeholder}</span>`,T.removeAttribute("tabindex"),e.classList.add("empty"),e.classList.remove("filled"),e.style.setProperty("--_cv-search-input-computed-max-width",getComputedStyle(e).getPropertyValue("--cv-search-input-max-width")))),e.removeEventListener("animationend",o))}function u(t){const e=t.querySelector(".cv-search-hits-item-title").innerText,n=t.dataset.cvLinkKeyRef;N.addEventListener("animationend",o),N.classList.remove("empty"),N.classList.add("filled","expanding"),T.innerHTML=`<span class="cv-chip"><button type="button" class="btn-close" aria-label="Supprimer" title="Supprimer"></button><span  tabindex="0" class="cv-chip-text" title="${e}">${e}</span></span>`,E.value=e,T.tabIndex=-1,E.dispatchEvent(new InputEvent("input")),i(),t.classList.add("active"),l(),c(n)}function a(){N.addEventListener("animationend",o),N.classList.add("contracting"),P.reset(),i(),s(),T.focus()}x.tabIndex=-1,I.setAttribute("aria-label","Fermer"),I.classList.add("cv-search-dialog-back-btn"),I.innerHTML=Sc,I.addEventListener("click",r),P.prepend(I),x.setAttribute("title","Chercher"),k.setAttribute("title","Effacer"),d.addEventListener("click",(t=>{t.stopPropagation(),t.target.closest(".cv-search-dialog-content")||r()}));const F=new CSSStyleSheet;function c(t){F.replace(`\n            [data-cv-link-key] {\n              display: none;\n            }\n            [data-cv-link-key="${t}"] {\n              display: block;\n            }\n          `)}function s(){F.replace("")}async function f(t){const e=(new TextEncoder).encode(t),n=await crypto.subtle.digest("SHA-1",e),r=Array.from(new Uint8Array(n)).map((t=>t.toString(16).padStart(2,"0"))).join("");return r.slice(0,10)}function l(){E.value.length>0?x.hidden=!0:x.hidden=!1}function h(){A.querySelectorAll(".cv-search-pagination-page-item").length<2?A.classList.add("cv-hide"):A.classList.remove("cv-hide")}function v(){if(!C.checkVisibility())return;const t=C.offsetWidth-C.scrollWidth;C.style.setProperty("--_actual-scrollbar-width",`${t}px`)}document.adoptedStyleSheets=[...document.adoptedStyleSheets,F],document.querySelectorAll(".rapport").forEach((async t=>{const e=new URL(t.querySelector(".rapport--heading-content a").href);e.hash="",e.searchParams.delete("tab");const n=await f(e.href);t.dataset.cvLinkKey=n})),T.addEventListener("click",(function(t){if(t.target.classList.contains("btn-close"))return t.stopPropagation(),void a();e()})),d.addEventListener("click",(function(t){const e=t.target;e.classList.contains("cv-search-hits-item")&&(u(e),r(!0))})),d.addEventListener("keydown",(function(t){27===t.keyCode&&(t.preventDefault(),r())})),d.addEventListener("keyup",(function(t){if(t.isComposing||229===t.keyCode)return;const e=t.target;"Enter"===t.key&&e.classList.contains("cv-search-hits-item")&&(u(e),r(!0,(()=>{T.querySelector(".btn-close").focus({focusVisible:!0})})))})),E.addEventListener("focus",l),k.addEventListener("click",(function(){a(),l()})),E.addEventListener("keyup",l),E.addEventListener("focus",(function(){P.classList.add("focus")})),E.addEventListener("blur",(function(){P.classList.remove("focus")})),d.addEventListener("click",(function(t){t.target.classList.contains("cv-search-pagination-link")&&C.scrollTo(0,0)}));new MutationObserver(h).observe(A,{attributes:!1,childList:!0,subtree:!0});new MutationObserver(v).observe(C,{attributes:!1,childList:!0,subtree:!0});const H=getComputedStyle(document.querySelector(".cv-navbar")).height;document.documentElement.style.setProperty("--cv-navbar-height",H),/q=./.test(location.search)&&(x.hidden=!0,e())}catch(_){}}}()}export{Pc as initSearchWidget};
