!function(){const t={NODE_ENV:"production"};try{if(process)return process.env=Object.assign({},process.env),void Object.assign(process.env,t)}catch(t){}globalThis.process={env:t}}();"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function t(t){return t&&t.u&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var e={exports:{}};e.exports=function(){function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function n(n){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?e(Object(i),!0).forEach((function(e){t(n,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))}))}return n}function r(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(t){var e,n="algoliasearch-client-js-".concat(t.key),r=function(){return void 0===e&&(e=t.localStorage||window.localStorage),e},o=function(){return JSON.parse(r().getItem(n)||"{}")};return{get:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then((function(){var n=JSON.stringify(t),r=o()[n];return Promise.all([r||e(),void 0!==r])})).then((function(t){var e=i(t,2),r=e[0],o=e[1];return Promise.all([r,o||n.miss(r)])})).then((function(t){return i(t,1)[0]}))},set:function(t,e){return Promise.resolve().then((function(){var i=o();return i[JSON.stringify(t)]=e,r().setItem(n,JSON.stringify(i)),e}))},delete:function(t){return Promise.resolve().then((function(){var e=o();delete e[JSON.stringify(t)],r().setItem(n,JSON.stringify(e))}))},clear:function(){return Promise.resolve().then((function(){r().removeItem(n)}))}}}function a(t){var e=o(t.caches),n=e.shift();return void 0===n?{get:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return e().then((function(t){return Promise.all([t,n.miss(t)])})).then((function(t){return i(t,1)[0]}))},set:function(t,e){return Promise.resolve(e)},delete:function(t){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return n.get(t,r,i).catch((function(){return a({caches:e}).get(t,r,i)}))},set:function(t,r){return n.set(t,r).catch((function(){return a({caches:e}).set(t,r)}))},delete:function(t){return n.delete(t).catch((function(){return a({caches:e}).delete(t)}))},clear:function(){return n.clear().catch((function(){return a({caches:e}).clear()}))}}}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},e={};return{get:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},o=JSON.stringify(n);if(o in e)return Promise.resolve(t.serializable?JSON.parse(e[o]):e[o]);var u=r(),a=i&&i.miss||function(){return Promise.resolve()};return u.then((function(t){return a(t)})).then((function(){return u}))},set:function(n,r){return e[JSON.stringify(n)]=t.serializable?JSON.stringify(r):r,Promise.resolve(r)},delete:function(t){return delete e[JSON.stringify(t)],Promise.resolve()},clear:function(){return e={},Promise.resolve()}}}function s(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}return t}function f(t,e){return e?(Object.keys(e).forEach((function(n){t[n]=e[n](t)})),t):t}function l(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0;return t.replace(/%s/g,(function(){return encodeURIComponent(n[i++])}))}var h={WithinQueryParameters:0,WithinHeaders:1};function v(t,e){var n=t||{},r=n.data||{};return Object.keys(n).forEach((function(t){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(t)&&(r[t]=n[t])})),{data:Object.entries(r).length>0?r:void 0,timeout:n.timeout||e,headers:n.headers||{},queryParameters:n.queryParameters||{},cacheable:n.cacheable}}var d={Read:1,Write:2,Any:3},b=1,m=2,p=3;function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b;return n(n({},t),{},{status:e,lastUpdate:Date.now()})}function g(t){return"string"==typeof t?{protocol:"https",url:t,accept:d.Any}:{protocol:t.protocol||"https",url:t.url,accept:t.accept||d.Any}}var j="GET",w="POST";function O(t,e){return Promise.all(e.map((function(e){return t.get(e,(function(){return Promise.resolve(y(e))}))}))).then((function(t){var n=t.filter((function(t){return function(t){return t.status===b||Date.now()-t.lastUpdate>12e4}(t)})),r=t.filter((function(t){return function(t){return t.status===p&&Date.now()-t.lastUpdate<=12e4}(t)})),i=[].concat(o(n),o(r));return{getTimeout:function(t,e){return(0===r.length&&0===t?1:r.length+3+t)*e},statelessHosts:i.length>0?i.map((function(t){return g(t)})):e}}))}function S(t,e,r,i){var u=[],a=function(t,e){if(t.method!==j&&(void 0!==t.data||void 0!==e.data)){var r=Array.isArray(t.data)?t.data:n(n({},t.data),e.data);return JSON.stringify(r)}}(r,i),c=function(t,e){var r=n(n({},t.headers),e.headers),i={};return Object.keys(r).forEach((function(t){var e=r[t];i[t.toLowerCase()]=e})),i}(t,i),s=r.method,f=r.method!==j?{}:n(n({},r.data),i.data),l=n(n(n({"x-algolia-agent":t.userAgent.value},t.queryParameters),f),i.queryParameters),h=0,v=function e(n,o){var f=n.pop();if(void 0===f)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:P(u)};var v={data:a,headers:c,method:s,url:R(f,r.path,l),connectTimeout:o(h,t.timeouts.connect),responseTimeout:o(h,i.timeout)},d=function(t){var e={request:v,response:t,host:f,triesLeft:n.length};return u.push(e),e},b={onSuccess:function(t){return function(t){try{return JSON.parse(t.content)}catch(e){throw function(t,e){return{name:"DeserializationError",message:t,response:e}}(e.message,t)}}(t)},onRetry:function(r){var i=d(r);return r.isTimedOut&&h++,Promise.all([t.logger.info("Retryable failure",E(i)),t.hostsCache.set(f,y(f,r.isTimedOut?p:m))]).then((function(){return e(n,o)}))},onFail:function(t){throw d(t),function(t,e){var n=t.content,r=t.status,i=n;try{i=JSON.parse(n).message}catch(t){}return function(t,e,n){return{name:"ApiError",message:t,status:e,transporterStackTrace:n}}(i,r,e)}(t,P(u))}};return t.requester.send(v).then((function(t){return function(t,e){return function(t){var e=t.status;return t.isTimedOut||function(t){var e=t.isTimedOut,n=t.status;return!e&&0==~~n}(t)||2!=~~(e/100)&&4!=~~(e/100)}(t)?e.onRetry(t):2==~~(t.status/100)?e.onSuccess(t):e.onFail(t)}(t,b)}))};return O(t.hostsCache,e).then((function(t){return v(o(t.statelessHosts).reverse(),t.getTimeout)}))}function T(t){var e={value:"Algolia for JavaScript (".concat(t,")"),add:function(t){var n="; ".concat(t.segment).concat(void 0!==t.version?" (".concat(t.version,")"):"");return-1===e.value.indexOf(n)&&(e.value="".concat(e.value).concat(n)),e}};return e}function R(t,e,n){var r=N(n),i="".concat(t.protocol,"://").concat(t.url,"/").concat("/"===e.charAt(0)?e.substr(1):e);return r.length&&(i+="?".concat(r)),i}function N(t){return Object.keys(t).map((function(e){return l("%s=%s",e,(n=t[e],"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?JSON.stringify(t[e]):t[e]));var n})).join("&")}function P(t){return t.map((function(t){return E(t)}))}function E(t){var e=t.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return n(n({},t),{},{request:n(n({},t.request),{},{headers:n(n({},t.request.headers),e)})})}var x=function(t){var e=t.appId,r=function(t,e,n){var r={"x-algolia-api-key":n,"x-algolia-application-id":e};return{headers:function(){return t===h.WithinHeaders?r:{}},queryParameters:function(){return t===h.WithinQueryParameters?r:{}}}}(void 0!==t.authMode?t.authMode:h.WithinHeaders,e,t.apiKey),o=function(t){var e=t.hostsCache,n=t.logger,r=t.requester,o=t.requestsCache,u=t.responsesCache,a=t.timeouts,c=t.userAgent,s=t.hosts,f=t.queryParameters,l={hostsCache:e,logger:n,requester:r,requestsCache:o,responsesCache:u,timeouts:a,userAgent:c,headers:t.headers,queryParameters:f,hosts:s.map((function(t){return g(t)})),read:function(t,e){var n=v(e,l.timeouts.read),r=function(){return S(l,l.hosts.filter((function(t){return 0!=(t.accept&d.Read)})),t,n)};if(!0!==(void 0!==n.cacheable?n.cacheable:t.cacheable))return r();var o={request:t,mappedRequestOptions:n,transporter:{queryParameters:l.queryParameters,headers:l.headers}};return l.responsesCache.get(o,(function(){return l.requestsCache.get(o,(function(){return l.requestsCache.set(o,r()).then((function(t){return Promise.all([l.requestsCache.delete(o),t])}),(function(t){return Promise.all([l.requestsCache.delete(o),Promise.reject(t)])})).then((function(t){var e=i(t,2);return e[0],e[1]}))}))}),{miss:function(t){return l.responsesCache.set(o,t)}})},write:function(t,e){return S(l,l.hosts.filter((function(t){return 0!=(t.accept&d.Write)})),t,v(e,l.timeouts.write))}};return l}(n(n({hosts:[{url:"".concat(e,"-dsn.algolia.net"),accept:d.Read},{url:"".concat(e,".algolia.net"),accept:d.Write}].concat(s([{url:"".concat(e,"-1.algolianet.com")},{url:"".concat(e,"-2.algolianet.com")},{url:"".concat(e,"-3.algolianet.com")}]))},t),{},{headers:n(n(n({},r.headers()),{"content-type":"application/x-www-form-urlencoded"}),t.headers),queryParameters:n(n({},r.queryParameters()),t.queryParameters)}));return f({transporter:o,appId:e,addAlgoliaAgent:function(t,e){o.userAgent.add({segment:t,version:e})},clearCache:function(){return Promise.all([o.requestsCache.clear(),o.responsesCache.clear()]).then((function(){}))}},t.methods)},k=function(t){return function(e,n){return e.method===j?t.transporter.read(e,n):t.transporter.write(e,n)}},I=function(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f({transporter:t.transporter,appId:t.appId,indexName:e},n.methods)}},A=function(t){return function(e,r){var i=e.map((function(t){return n(n({},t),{},{params:N(t.params||{})})}));return t.transporter.read({method:w,path:"1/indexes/*/queries",data:{requests:i},cacheable:!0},r)}},C=function(t){return function(e,i){return Promise.all(e.map((function(e){var o=e.params,u=o.facetName,a=o.facetQuery,c=r(o,["facetName","facetQuery"]);return I(t)(e.indexName,{methods:{searchForFacetValues:H}}).searchForFacetValues(u,a,n(n({},i),c))})))}},F=function(t){return function(e,n,r){return t.transporter.read({method:w,path:l("1/answers/%s/prediction",t.indexName),data:{query:e,queryLanguages:n},cacheable:!0},r)}},_=function(t){return function(e,n){return t.transporter.read({method:w,path:l("1/indexes/%s/query",t.indexName),data:{query:e},cacheable:!0},n)}},H=function(t){return function(e,n,r){return t.transporter.read({method:w,path:l("1/indexes/%s/facets/%s/query",t.indexName,e),data:{facetQuery:n},cacheable:!0},r)}};function q(t,e,r){var i={appId:t,apiKey:e,timeouts:{connect:1,read:2,write:30},requester:{send:function(t){return new Promise((function(e){var n=new XMLHttpRequest;n.open(t.method,t.url,!0),Object.keys(t.headers).forEach((function(e){return n.setRequestHeader(e,t.headers[e])}));var r,i=function(t,r){return setTimeout((function(){n.abort(),e({status:0,content:r,isTimedOut:!0})}),1e3*t)},o=i(t.connectTimeout,"Connection timeout");n.onreadystatechange=function(){n.readyState>n.OPENED&&void 0===r&&(clearTimeout(o),r=i(t.responseTimeout,"Socket timeout"))},n.onerror=function(){0===n.status&&(clearTimeout(o),clearTimeout(r),e({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=function(){clearTimeout(o),clearTimeout(r),e({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(t.data)}))}},logger:{debug:function(t,e){return Promise.resolve()},info:function(t,e){return Promise.resolve()},error:function(t,e){return Promise.resolve()}},responsesCache:c(),requestsCache:c({serializable:!1}),hostsCache:a({caches:[u({key:"".concat("4.14.3","-").concat(t)}),c()]}),userAgent:T("4.14.3").add({segment:"Browser",version:"lite"}),authMode:h.WithinQueryParameters};return x(n(n(n({},i),r),{},{methods:{search:A,searchForFacetValues:C,multipleQueries:A,multipleSearchForFacetValues:C,customRequest:k,initIndex:function(t){return function(e){return I(t)(e,{methods:{search:_,searchForFacetValues:H,findAnswers:F}})}}}}))}return q.version="4.14.3",q}();var n=t(e.exports),r=function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.descendantName,r=e.modifierName,i=n?"-".concat(n):"",o=r?"--".concat(r):"";return"".concat("ais","-").concat(t).concat(i).concat(o)}};function i(t){return t.toString().charAt(0).toUpperCase()+t.toString().slice(1)}function o(){}var u=function(t,e){return t},a=o,c=o;"development"===process.env.NODE_ENV&&(a=function(t){},u=function(t,e){var n=!1;return function(){return n||(n=!0,"development"===process.env.NODE_ENV&&a(e)),t.apply(void 0,arguments)}},(c=function(t,e){t||(c.cache[e]||(c.cache[e]=!0,"development"===process.env.NODE_ENV&&a(e)))}).cache={});var s=Object.keys;function f(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,u,a=[],c=!0,s=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){s=!0,i=t}finally{try{if(!c&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(s)throw i}}return a}}(t,e)||h(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){if(t){if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var d={query:{connectors:["connectSearchBox"],widgets:["ais.searchBox","ais.autocomplete","ais.voiceSearch"]},refinementList:{connectors:["connectRefinementList"],widgets:["ais.refinementList"]},menu:{connectors:["connectMenu"],widgets:["ais.menu"]},hierarchicalMenu:{connectors:["connectHierarchicalMenu"],widgets:["ais.hierarchicalMenu"]},numericMenu:{connectors:["connectNumericMenu"],widgets:["ais.numericMenu"]},ratingMenu:{connectors:["connectRatingMenu"],widgets:["ais.ratingMenu"]},range:{connectors:["connectRange"],widgets:["ais.rangeInput","ais.rangeSlider","ais.range"]},toggle:{connectors:["connectToggleRefinement"],widgets:["ais.toggleRefinement"]},geoSearch:{connectors:["connectGeoSearch"],widgets:["ais.geoSearch"]},sortBy:{connectors:["connectSortBy"],widgets:["ais.sortBy"]},page:{connectors:["connectPagination"],widgets:["ais.pagination","ais.infiniteHits"]},hitsPerPage:{connectors:["connectHitsPerPage"],widgets:["ais.hitsPerPage"]},configure:{connectors:["connectConfigure"],widgets:["ais.configure"]},places:{connectors:[],widgets:["ais.places"]}};function b(t){var e=t.index,n=t.indexUiState,r=e.getWidgets().map((function(t){return t.$$type})).filter(Boolean),o=s(n).reduce((function(t,e){var n=d[e];if(!n)return t;var i=n.widgets;return i&&!i.some((function(t){return r.includes(t)}))&&t.push([e,{connectors:n.connectors,widgets:n.widgets.map((function(t){return t.split("ais.")[1]}))}]),t}),[]);"development"===process.env.NODE_ENV&&c(0===o.length,'The UI state for the index "'.concat(e.getIndexId(),'" is not consistent with the widgets mounted.\n\nThis can happen when the UI state is specified via `initialUiState`, `routing` or `setUiState` but that the widgets responsible for this state were not added. This results in those query parameters not being sent to the API.\n\nTo fully reflect the state, some widgets need to be added to the index "').concat(e.getIndexId(),'":\n\n').concat(o.map((function(t){var e,n=l(t,2),r=n[0],i=n[1].widgets;return"- `".concat(r,"` needs one of these widgets: ").concat((e=[]).concat.apply(e,f(i.map((function(t){return function(t){switch(t){case"range":return[];case"menu":return["menu","menuSelect"];default:return[t]}}(t)})))).map((function(t){return'"'.concat(t,'"')})).join(", "))})).join("\n"),'\n\nIf you do not wish to display widgets but still want to support their search parameters, you can mount "virtual widgets" that don\'t render anything:\n\n```\n').concat(o.filter((function(t){var e=l(t,2);return e[0],e[1].connectors.length>0})).map((function(t){var e=l(t,2);e[0];var n=e[1],r=n.connectors,o=i(n.widgets[0]),u=r[0];return"const virtual".concat(o," = ").concat(u,"(() => null);")})).join("\n"),"\n\nsearch.addWidgets([\n  ").concat(o.filter((function(t){var e=l(t,2);return e[0],e[1].connectors.length>0})).map((function(t){var e=l(t,2);e[0];var n=i(e[1].widgets[0]);return"virtual".concat(n,"({ /* ... */ })")})).join(",\n  "),"\n]);\n```\n\nIf you're using custom widgets that do set these query parameters, we recommend using connectors instead.\n\nSee https://www.algolia.com/doc/guides/building-search-ui/widgets/customize-an-existing-widget/js/#customize-the-complete-ui-of-the-widgets"))}function m(t,e){if(void 0===t||"function"!=typeof t)throw new Error("The render function is not valid (received type ".concat((n=t,Object.prototype.toString.call(n).slice(8,-1)),").\n\n").concat(e));var n}var p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},y=/[&<>"']/g,g=RegExp(y.source);var j={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},w=/&(amp|quot|lt|gt|#39);/g,O=RegExp(w.source);function S(t){return t&&O.test(t)?t.replace(w,(function(t){return j[t]})):t}function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function R(t){if(!function(t){return"object"===T(t)&&null!==t}(t)||"[object Object]"!==function(t){return null===t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}(t))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function P(){return P=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P.apply(this,arguments)}function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){k(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function k(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==N(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===N(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var I={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},A="<mark>",C="</mark>";function F(t){return function(t){return t&&g.test(t)?t.replace(y,(function(t){return p[t]})):t}(t).replace(new RegExp(I.highlightPreTag,"g"),A).replace(new RegExp(I.highlightPostTag,"g"),C)}function _(t){return R(t)&&"string"!=typeof t.value?Object.keys(t).reduce((function(e,n){return x(x({},e),{},k({},n,_(t[n])))}),{}):Array.isArray(t)?t.map(_):x(x({},t),{},{value:F(t.value)})}function H(t){return void 0===t.h&&((t=t.map((function(t){var e=P({},(function(t){if(null==t)throw new TypeError("Cannot destructure "+t)}(t),t));return e._highlightResult&&(e._highlightResult=_(e._highlightResult)),e._snippetResult&&(e._snippetResult=_(e._snippetResult)),e}))).h=!0),t}function q(t){var e=A,n=C;return t.map((function(t){return t.isHighlighted?e+t.value+n:t.value})).join("")}function L(t){return btoa(encodeURIComponent(JSON.stringify(t)))}function U(t){return JSON.parse(decodeURIComponent(atob(t)))}function $(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,u,a=[],c=!0,s=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){s=!0,i=t}finally{try{if(!c&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(s)throw i}}return a}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return D(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function B(t){var e=t.index,n=t.widgetType,r=t.methodName,i=t.args,o=t.instantSearchInstance;if(1===i.length&&"object"===M(i[0]))return[i[0]];var u=$(i[0].split(":"),2),a=u[0],c=u[1],s=i[1],f=i[2];if(!s){if("development"===process.env.NODE_ENV)throw new Error("You need to pass hit or hits as the second argument like:\n  ".concat(r,"(eventType, hit);\n  "));return[]}if(("click"===a||"conversion"===a)&&!f){if("development"===process.env.NODE_ENV)throw new Error("You need to pass eventName as the third argument for 'click' or 'conversion' events like:\n  ".concat(r,"('click', hit, 'Product Purchased');\n\n  To learn more about event naming: https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/in-depth/clicks-conversions-best-practices/\n  "));return[]}var l=Array.isArray(s)?s:[s];if(0===l.length)return[];var h=l[0].m,v=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=[],r=0;r<Math.ceil(t.length/e);r++)n.push(t.slice(r*e,(r+1)*e));return n}(l),d=v.map((function(t){return t.map((function(t){return t.objectID}))})),b=v.map((function(t){return t.map((function(t){return t.p}))}));if("view"===a)return"idle"!==o.status?[]:v.map((function(t,r){return{insightsMethod:"viewedObjectIDs",widgetType:n,eventType:a,payload:{eventName:f||"Hits Viewed",index:e,objectIDs:d[r]},hits:t,eventModifier:c}}));if("click"===a)return v.map((function(t,r){return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:n,eventType:a,payload:{eventName:f||"Hit Clicked",index:e,queryID:h,objectIDs:d[r],positions:b[r]},hits:t,eventModifier:c}}));if("conversion"===a)return v.map((function(t,r){return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:n,eventType:a,payload:{eventName:f||"Hit Converted",index:e,queryID:h,objectIDs:d[r]},hits:t,eventModifier:c}}));if("development"===process.env.NODE_ENV)throw new Error('eventType("'.concat(a,'") is not supported.\n    If you want to send a custom payload, you can pass one object: ').concat(r,"(customPayload);\n    "));return[]}function W(t){var e=t.instantSearchInstance,n=t.index,r=t.widgetType,i={},o=void 0;return function(){for(var t=arguments.length,u=new Array(t),a=0;a<t;a++)u[a]=arguments[a];var c=B({widgetType:r,index:n,methodName:"sendEvent",args:u,instantSearchInstance:e});c.forEach((function(t){"click"===t.eventType&&"internal"===t.eventModifier&&i[t.eventType]||(i[t.eventType]=!0,e.sendEventToInsights(t))})),clearTimeout(o),o=setTimeout((function(){i={}}),0)}}function J(t){var e=t.index,n=t.widgetType,r=t.instantSearchInstance;return function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];var u=B({widgetType:n,index:e,methodName:"bindEvent",args:i,instantSearchInstance:r});return u.length?"data-insights-event=".concat(L(u)):""}}function Q(t){return"ais.index"===t.$$type}function V(t,e){var n=t[e.getIndexId()]||{};"development"===process.env.NODE_ENV&&b({index:e,indexUiState:n}),e.getHelper().setState(e.getWidgetSearchParameters(e.getHelper().state,{uiState:n})),e.getWidgets().filter(Q).forEach((function(e){return V(t,e)}))}var z=Promise.resolve();function K(t){var e=null,n=!1,r=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];null===e&&(e=z.then((function(){e=null,n?n=!1:t.apply(void 0,i)})))};return r.wait=function(){if(null===e)throw new Error("The deferred function should be called before calling `wait()`");return e},r.cancel=function(){null!==e&&(n=!0)},r}function Y(t){var e=t.name,n=t.connector;return["https://www.algolia.com/doc/api-reference/widgets/",e,"/js/",void 0!==n&&n?"#connector":""].join("")}function X(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.map((function(t){return Y(t)})).join(", ");return function(t){return[t,"See documentation: ".concat(r)].filter(Boolean).join("\n\n")}}function G(t,e){for(var n,r=0;r<t.length;r++)if(e(n=t[r],r,t))return n}function Z(t){if(t.transporter){var e=t.transporter,n=e.headers,r=e.queryParameters,i="x-algolia-application-id",o="x-algolia-api-key";return[n[i]||r[i],n[o]||r[o]]}return[t.applicationID,t.apiKey]}function tt(t){var e,n="string"==typeof t,r=n?document.querySelector(t):t;if(!((e=r)instanceof HTMLElement||Boolean(e)&&e.nodeType>0)){var i="Container must be `string` or `HTMLElement`.";throw n&&(i+=" Unable to find ".concat(t)),new Error(i)}return r}function et(t){var e=C,n=A,r=t.split(n),i=r.shift(),o=i?[{value:i,isHighlighted:!1}]:[];return r.forEach((function(t){var n=t.split(e);o.push({value:n[0],isHighlighted:!0}),""!==n[1]&&o.push({value:n[1],isHighlighted:!1})})),o}var nt=new RegExp(/\w/i);function rt(t,e){var n,r,i=t[e],o=(null===(n=t[e+1])||void 0===n?void 0:n.isHighlighted)||!0,u=(null===(r=t[e-1])||void 0===r?void 0:r.isHighlighted)||!0;return nt.test(S(i.value))||u!==o?i.isHighlighted:u}function it(t,e){return(Array.isArray(e)?e:e.split(".")).reduce((function(t,e){return t&&t[e]}),t)}function ot(t){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}function ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ut(Object(n),!0).forEach((function(e){ct(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ct(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==ot(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ot(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ot(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function st(t,e,n){return t.map((function(t,r){return at(at({},t),{},{p:n*e+r+1})}))}function ft(t){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(t)}function lt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lt(Object(n),!0).forEach((function(e){vt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==ft(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ft(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dt(t,e){return e?t.map((function(t){return ht(ht({},t),{},{m:e})})):t}function bt(t){return t!==Object(t)}function mt(t,e){if(t===e)return!0;if(bt(t)||bt(e)||"function"==typeof t||"function"==typeof e)return t===e;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];if(!(i in e))return!1;if(!mt(t[i],e[i]))return!1}return!0}function pt(t){return t.filter((function(t,e,n){return n.indexOf(t)===e}))}function yt(t){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yt(t)}var gt=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function jt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jt(Object(n),!0).forEach((function(e){Ot(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ot(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==yt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==yt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===yt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function St(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Tt=function(t,e){e.facets,e.disjunctiveFacets,e.facetsRefinements,e.facetsExcludes,e.disjunctiveFacetsRefinements,e.numericRefinements,e.tagRefinements,e.hierarchicalFacets,e.hierarchicalFacetsRefinements,e.ruleContexts;var n=St(e,gt);return t.setQueryParameters(n)},Rt=function(t,e){return e.facets.reduce((function(t,e){return t.addFacet(e)}),t)},Nt=function(t,e){return e.disjunctiveFacets.reduce((function(t,e){return t.addDisjunctiveFacet(e)}),t)},Pt=function(t,e){return t.setQueryParameters({hierarchicalFacets:e.hierarchicalFacets.reduce((function(t,e){var n=function(t,e){if(!Array.isArray(t))return-1;for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}(t,(function(t){return t.name===e.name}));if(-1===n)return t.concat(e);var r=t.slice();return r.splice(n,1,e),r}),t.hierarchicalFacets)})},Et=function(t,e){return e.tagRefinements.reduce((function(t,e){return t.addTagRefinement(e)}),t)},xt=function(t,e){return t.setQueryParameters({facetsRefinements:wt(wt({},t.facetsRefinements),e.facetsRefinements)})},kt=function(t,e){return t.setQueryParameters({facetsExcludes:wt(wt({},t.facetsExcludes),e.facetsExcludes)})},It=function(t,e){return t.setQueryParameters({disjunctiveFacetsRefinements:wt(wt({},t.disjunctiveFacetsRefinements),e.disjunctiveFacetsRefinements)})},At=function(t,e){return t.setQueryParameters({numericRefinements:wt(wt({},t.numericRefinements),e.numericRefinements)})},Ct=function(t,e){return t.setQueryParameters({hierarchicalFacetsRefinements:wt(wt({},t.hierarchicalFacetsRefinements),e.hierarchicalFacetsRefinements)})},Ft=function(t,e){var n=pt([].concat(t.ruleContexts).concat(e.ruleContexts).filter(Boolean));return n.length>0?t.setQueryParameters({ruleContexts:n}):t},_t=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((function(t,e){var n=Ct(t,e),r=Pt(n,e),i=Et(r,e),o=At(i,e),u=It(o,e),a=kt(u,e),c=xt(a,e),s=Nt(c,e),f=Ft(s,e),l=Rt(f,e);return Tt(l,e)}))};function Ht(t){return function(t){if(Array.isArray(t))return qt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return qt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lt(t){var e=t.start,n=void 0===e?0:e,r=t.end,i=t.step,o=void 0===i?1:i,u=0===o?1:o,a=Math.round((r-n)/u);return Ht(Array(a)).map((function(t,e){return n+e*u}))}function Ut(t,e,n){var r=e.getHelper();return{uiState:n,helper:r,parent:e,instantSearchInstance:t,state:r.state,renderState:t.renderState,templatesConfig:t.templatesConfig,createURL:e.createURL,scopedResults:[],searchMetadata:{isSearchStalled:"stalled"===t.status},status:t.status,error:t.error}}function $t(t,e){var n=e.getResults();return{helper:e.getHelper(),parent:e,instantSearchInstance:t,results:n,scopedResults:e.getScopedResults(),state:n._state,renderState:t.renderState,templatesConfig:t.templatesConfig,createURL:e.createURL,searchMetadata:{isSearchStalled:"stalled"===t.status},status:t.status,error:t.error}}function Dt(t){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dt(t)}function Mt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mt(Object(n),!0).forEach((function(e){Wt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Wt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Dt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Dt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jt(t){return t.some((function(t){return t.isHighlighted}))?t.map((function(e,n){return Bt(Bt({},e),{},{isHighlighted:!rt(t,n)})})):t.map((function(t){return Bt(Bt({},t),{},{isHighlighted:!1})}))}function Qt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fallback:function(){}},n=e.fallback;return"undefined"==typeof window?n():t({window})}function Vt(t){return Array.isArray(t)?t:[t]}var zt=r("Highlight");function Kt(t){var e=t.attribute,n=t.highlightedTagName,r=void 0===n?"mark":n,i=t.hit,o=t.cssClasses,u=void 0===o?{}:o;"development"===process.env.NODE_ENV&&c(!1,"`instantsearch.highlight` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `Highlight` component.\n\nFor more information, visit https://www.algolia.com/doc/guides/building-search-ui/upgrade-guides/js/?client=html+tagged+templates#upgrade-templates");var a=it(i._highlightResult,e);"development"===process.env.NODE_ENV&&c(a,'Could not enable highlight for "'.concat(e,'", will display an empty string.\nPlease check whether this attribute exists and is either searchable or specified in `attributesToHighlight`.\n\nSee: https://alg.li/highlighting\n'));var s=(a||{}).value,f=void 0===s?"":s,l=zt({descendantName:"highlighted"})+(u.highlighted?" ".concat(u.highlighted):"");return f.replace(new RegExp(A,"g"),"<".concat(r,' class="').concat(l,'">')).replace(new RegExp(C,"g"),"</".concat(r,">"))}var Yt=r("ReverseHighlight");function Xt(t){var e=t.attribute,n=t.highlightedTagName,r=void 0===n?"mark":n,i=t.hit,o=t.cssClasses,u=void 0===o?{}:o;"development"===process.env.NODE_ENV&&c(!1,"`instantsearch.reverseHighlight` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `ReverseHighlight` component.\n\nFor more information, visit https://www.algolia.com/doc/guides/building-search-ui/upgrade-guides/js/?client=html+tagged+templates#upgrade-templates");var a=it(i._highlightResult,e);"development"===process.env.NODE_ENV&&c(a,'Could not enable reverse highlight for "'.concat(e,'", will display an empty string.\nPlease check whether this attribute exists and is either searchable or specified in `attributesToHighlight`.\n\nSee: https://alg.li/highlighting\n'));var s=(a||{}).value,f=void 0===s?"":s,l=Yt({descendantName:"highlighted"})+(u.highlighted?" ".concat(u.highlighted):"");return q(Jt(et(f))).replace(new RegExp(A,"g"),"<".concat(r,' class="').concat(l,'">')).replace(new RegExp(C,"g"),"</".concat(r,">"))}var Gt=r("Snippet");function Zt(t){var e=t.attribute,n=t.highlightedTagName,r=void 0===n?"mark":n,i=t.hit,o=t.cssClasses,u=void 0===o?{}:o;"development"===process.env.NODE_ENV&&c(!1,"`instantsearch.snippet` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `Snippet` component.\n\nFor more information, visit https://www.algolia.com/doc/guides/building-search-ui/upgrade-guides/js/?client=html+tagged+templates#upgrade-templates");var a=it(i._snippetResult,e);"development"===process.env.NODE_ENV&&c(a,'Could not enable snippet for "'.concat(e,'", will display an empty string.\nPlease check whether this attribute exists and is specified in `attributesToSnippet`.\n\nSee: https://alg.li/highlighting\n'));var s=(a||{}).value,f=void 0===s?"":s,l=Gt({descendantName:"highlighted"})+(u.highlighted?" ".concat(u.highlighted):"");return f.replace(new RegExp(A,"g"),"<".concat(r,' class="').concat(l,'">')).replace(new RegExp(C,"g"),"</".concat(r,">"))}var te=r("ReverseSnippet");function ee(t){var e=t.attribute,n=t.highlightedTagName,r=void 0===n?"mark":n,i=t.hit,o=t.cssClasses,u=void 0===o?{}:o;"development"===process.env.NODE_ENV&&c(!1,"`instantsearch.reverseSnippet` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `ReverseSnippet` component.\n\nFor more information, visit https://www.algolia.com/doc/guides/building-search-ui/upgrade-guides/js/?client=html+tagged+templates#upgrade-templates");var a=it(i._snippetResult,e);"development"===process.env.NODE_ENV&&c(a,'Could not enable reverse snippet for "'.concat(e,'", will display an empty string.\nPlease check whether this attribute exists and is specified in `attributesToSnippet`.\n\nSee: https://alg.li/highlighting\n'));var s=(a||{}).value,f=void 0===s?"":s,l=te({descendantName:"highlighted"})+(u.highlighted?" ".concat(u.highlighted):"");return q(Jt(et(f))).replace(new RegExp(A,"g"),"<".concat(r,' class="').concat(l,'">')).replace(new RegExp(C,"g"),"</".concat(r,">"))}function ne(t){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ne(t)}function re(t,e){return"development"===process.env.NODE_ENV&&c(!1,"`insights` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\n\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/"),function(t){var e,n=t.method,r=t.payload;if("object"!==ne(r))throw new Error("The insights helper expects the payload to be an object.");try{e=L(r)}catch(t){throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(n,'" data-insights-payload="').concat(e,'"')}({method:t,payload:e})}function ie(t){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ie(t)}function oe(){return function(t){if("object"===("undefined"==typeof document?"undefined":ie(document))&&"string"==typeof document.cookie)for(var e="".concat(t,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(e))return i.substring(e.length,i.length)}}("_ALGOLIA")}var ue=["page"];function ae(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ce(t){var e=t||{};return e.page,ae(e,ue)}var se="ais.infiniteHits";function fe(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var le=fe;function he(t){return"function"==typeof t}function ve(t){return"object"==typeof t&&null!==t}function de(t){return void 0===t}fe.prototype._events=void 0,fe.prototype._maxListeners=void 0,fe.defaultMaxListeners=10,fe.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},fe.prototype.emit=function(t){var e,n,r,i,o,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||ve(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var a=new Error('Uncaught, unspecified "error" event. ('+e+")");throw a.context=e,a}if(de(n=this._events[t]))return!1;if(he(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(ve(n))for(i=Array.prototype.slice.call(arguments,1),r=(u=n.slice()).length,o=0;o<r;o++)u[o].apply(this,i);return!0},fe.prototype.addListener=function(t,e){var n;if(!he(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,he(e.listener)?e.listener:e),this._events[t]?ve(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,ve(this._events[t])&&!this._events[t].warned&&(n=de(this._maxListeners)?fe.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0),this},fe.prototype.on=fe.prototype.addListener,fe.prototype.once=function(t,e){if(!he(e))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this},fe.prototype.removeListener=function(t,e){var n,r,i,o;if(!he(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=(n=this._events[t]).length,r=-1,n===e||he(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(ve(n)){for(o=i;o-- >0;)if(n[o]===e||n[o].listener&&n[o].listener===e){r=o;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},fe.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(he(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},fe.prototype.listeners=function(t){return this._events&&this._events[t]?he(this._events[t])?[this._events[t]]:this._events[t].slice():[]},fe.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(he(e))return 1;if(e)return e.length}return 0},fe.listenerCount=function(t,e){return t.listenerCount(e)};var be=t(le);function me(t){return"function"==typeof t||Array.isArray(t)||"[object Object]"===Object.prototype.toString.call(t)}function pe(t,e){if(t===e)return t;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&"__proto__"!==n&&"constructor"!==n){var r=e[n],i=t[n];void 0!==i&&void 0===r||(me(i)&&me(r)?t[n]=pe(i,r):t[n]="object"==typeof(o=r)&&null!==o?pe(Array.isArray(o)?[]:{},o):o)}var o;return t}var ye=function(t){me(t)||(t={});for(var e=1,n=arguments.length;e<n;e++){var r=arguments[e];me(r)&&pe(t,r)}return t},ge=function(){var t=Array.prototype.slice.call(arguments);return t.reduceRight((function(t,e){return Object.keys(Object(e)).forEach((function(n){void 0!==e[n]&&(void 0!==t[n]&&delete t[n],t[n]=e[n])})),t}),{})};var je=function(t,e){return t.filter((function(n,r){return e.indexOf(n)>-1&&t.indexOf(n)===r}))},we=function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)if(e(t[n]))return t[n]};var Oe=function t(e){if("number"==typeof e)return e;if("string"==typeof e)return parseFloat(e);if(Array.isArray(e))return e.map(t);throw new Error("The value should be a number, a parsable string or an array of those.")};var Se=function(t,e){if(null===t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i};var Te=function(t){return t&&Object.keys(t).length>0},Re=ge,Ne=Se,Pe=Te,Ee={addRefinement:function(t,e,n){if(Ee.isRefined(t,e,n))return t;var r=""+n,i=t[e]?t[e].concat(r):[r],o={};return o[e]=i,Re({},o,t)},removeRefinement:function(t,e,n){if(void 0===n)return Ee.clearRefinement(t,(function(t,n){return e===n}));var r=""+n;return Ee.clearRefinement(t,(function(t,n){return e===n&&r===t}))},toggleRefinement:function(t,e,n){if(void 0===n)throw new Error("toggleRefinement should be used with a value");return Ee.isRefined(t,e,n)?Ee.removeRefinement(t,e,n):Ee.addRefinement(t,e,n)},clearRefinement:function(t,e,n){if(void 0===e)return Pe(t)?{}:t;if("string"==typeof e)return Ne(t,[e]);if("function"==typeof e){var r=!1,i=Object.keys(t).reduce((function(i,o){var u=t[o]||[],a=u.filter((function(t){return!e(t,o,n)}));return a.length!==u.length&&(r=!0),i[o]=a,i}),{});return r?i:t}},isRefined:function(t,e,n){var r=!!t[e]&&t[e].length>0;if(void 0===n||!r)return r;var i=""+n;return-1!==t[e].indexOf(i)}},xe=ye,ke=ge,Ie=je,Ae=we,Ce=Oe,Fe=Se,_e=Te,He=function(t){return null!==t&&/^[a-zA-Z0-9_-]{1,64}$/.test(t)},qe=Ee;function Le(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length===e.length&&t.every((function(t,n){return Le(e[n],t)})):t===e}function Ue(t){var e=t?Ue._parseNumbers(t):{};void 0!==e.userToken&&He(e.userToken),this.facets=e.facets||[],this.disjunctiveFacets=e.disjunctiveFacets||[],this.hierarchicalFacets=e.hierarchicalFacets||[],this.facetsRefinements=e.facetsRefinements||{},this.facetsExcludes=e.facetsExcludes||{},this.disjunctiveFacetsRefinements=e.disjunctiveFacetsRefinements||{},this.numericRefinements=e.numericRefinements||{},this.tagRefinements=e.tagRefinements||[],this.hierarchicalFacetsRefinements=e.hierarchicalFacetsRefinements||{};var n=this;Object.keys(e).forEach((function(t){var r=-1!==Ue.PARAMETERS.indexOf(t),i=void 0!==e[t];!r&&i&&(n[t]=e[t])}))}Ue.PARAMETERS=Object.keys(new Ue),Ue._parseNumbers=function(t){if(t instanceof Ue)return t;var e={};if(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach((function(n){var r=t[n];if("string"==typeof r){var i=parseFloat(r);e[n]=isNaN(i)?r:i}})),Array.isArray(t.insideBoundingBox)&&(e.insideBoundingBox=t.insideBoundingBox.map((function(t){return Array.isArray(t)?t.map((function(t){return parseFloat(t)})):t}))),t.numericRefinements){var n={};Object.keys(t.numericRefinements).forEach((function(e){var r=t.numericRefinements[e]||{};n[e]={},Object.keys(r).forEach((function(t){var i=r[t].map((function(t){return Array.isArray(t)?t.map((function(t){return"string"==typeof t?parseFloat(t):t})):"string"==typeof t?parseFloat(t):t}));n[e][t]=i}))})),e.numericRefinements=n}return xe({},t,e)},Ue.make=function(t){var e=new Ue(t);return(t.hierarchicalFacets||[]).forEach((function(t){if(t.rootPath){var n=e.getHierarchicalRefinement(t.name);n.length>0&&0!==n[0].indexOf(t.rootPath)&&(e=e.clearRefinements(t.name)),0===(n=e.getHierarchicalRefinement(t.name)).length&&(e=e.toggleHierarchicalFacetRefinement(t.name,t.rootPath))}})),e},Ue.validate=function(t,e){var n=e||{};return t.tagFilters&&n.tagRefinements&&n.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):t.tagRefinements.length>0&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):t.numericFilters&&n.numericRefinements&&_e(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):_e(t.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},Ue.prototype={constructor:Ue,clearRefinements:function(t){var e={numericRefinements:this._clearNumericRefinements(t),facetsRefinements:qe.clearRefinement(this.facetsRefinements,t,"conjunctiveFacet"),facetsExcludes:qe.clearRefinement(this.facetsExcludes,t,"exclude"),disjunctiveFacetsRefinements:qe.clearRefinement(this.disjunctiveFacetsRefinements,t,"disjunctiveFacet"),hierarchicalFacetsRefinements:qe.clearRefinement(this.hierarchicalFacetsRefinements,t,"hierarchicalFacet")};return e.numericRefinements===this.numericRefinements&&e.facetsRefinements===this.facetsRefinements&&e.facetsExcludes===this.facetsExcludes&&e.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&e.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(e)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(t){return t===this.index?this:this.setQueryParameters({index:t})},setQuery:function(t){return t===this.query?this:this.setQueryParameters({query:t})},setPage:function(t){return t===this.page?this:this.setQueryParameters({page:t})},setFacets:function(t){return this.setQueryParameters({facets:t})},setDisjunctiveFacets:function(t){return this.setQueryParameters({disjunctiveFacets:t})},setHitsPerPage:function(t){return this.hitsPerPage===t?this:this.setQueryParameters({hitsPerPage:t})},setTypoTolerance:function(t){return this.typoTolerance===t?this:this.setQueryParameters({typoTolerance:t})},addNumericRefinement:function(t,e,n){var r=Ce(n);if(this.isNumericRefined(t,e,r))return this;var i=xe({},this.numericRefinements);return i[t]=xe({},i[t]),i[t][e]?(i[t][e]=i[t][e].slice(),i[t][e].push(r)):i[t][e]=[r],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(t){return this.isConjunctiveFacet(t)&&this.facetsRefinements[t]||[]},getDisjunctiveRefinements:function(t){return this.isDisjunctiveFacet(t)&&this.disjunctiveFacetsRefinements[t]||[]},getHierarchicalRefinement:function(t){return this.hierarchicalFacetsRefinements[t]||[]},getExcludeRefinements:function(t){return this.isConjunctiveFacet(t)&&this.facetsExcludes[t]||[]},removeNumericRefinement:function(t,e,n){return void 0!==n?this.isNumericRefined(t,e,n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(r,i){return i===t&&r.op===e&&Le(r.val,Ce(n))}))}):this:void 0!==e?this.isNumericRefined(t,e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(n,r){return r===t&&n.op===e}))}):this:this.isNumericRefined(t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(e,n){return n===t}))}):this},getNumericRefinements:function(t){return this.numericRefinements[t]||{}},getNumericRefinement:function(t,e){return this.numericRefinements[t]&&this.numericRefinements[t][e]},_clearNumericRefinements:function(t){if(void 0===t)return _e(this.numericRefinements)?{}:this.numericRefinements;if("string"==typeof t)return Fe(this.numericRefinements,[t]);if("function"==typeof t){var e=!1,n=this.numericRefinements,r=Object.keys(n).reduce((function(r,i){var o=n[i],u={};return o=o||{},Object.keys(o).forEach((function(n){var r=o[n]||[],a=[];r.forEach((function(e){t({val:e,op:n},i,"numeric")||a.push(e)})),a.length!==r.length&&(e=!0),u[n]=a})),r[i]=u,r}),{});return e?r:this.numericRefinements}},addFacet:function(t){return this.isConjunctiveFacet(t)?this:this.setQueryParameters({facets:this.facets.concat([t])})},addDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([t])})},addHierarchicalFacet:function(t){if(this.isHierarchicalFacet(t.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+t.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([t])})},addFacetRefinement:function(t,e){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return qe.isRefined(this.facetsRefinements,t,e)?this:this.setQueryParameters({facetsRefinements:qe.addRefinement(this.facetsRefinements,t,e)})},addExcludeRefinement:function(t,e){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return qe.isRefined(this.facetsExcludes,t,e)?this:this.setQueryParameters({facetsExcludes:qe.addRefinement(this.facetsExcludes,t,e)})},addDisjunctiveFacetRefinement:function(t,e){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return qe.isRefined(this.disjunctiveFacetsRefinements,t,e)?this:this.setQueryParameters({disjunctiveFacetsRefinements:qe.addRefinement(this.disjunctiveFacetsRefinements,t,e)})},addTagRefinement:function(t){if(this.isTagRefined(t))return this;var e={tagRefinements:this.tagRefinements.concat(t)};return this.setQueryParameters(e)},removeFacet:function(t){return this.isConjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({facets:this.facets.filter((function(e){return e!==t}))}):this},removeDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter((function(e){return e!==t}))}):this},removeHierarchicalFacet:function(t){return this.isHierarchicalFacet(t)?this.clearRefinements(t).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter((function(e){return e.name!==t}))}):this},removeFacetRefinement:function(t,e){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return qe.isRefined(this.facetsRefinements,t,e)?this.setQueryParameters({facetsRefinements:qe.removeRefinement(this.facetsRefinements,t,e)}):this},removeExcludeRefinement:function(t,e){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return qe.isRefined(this.facetsExcludes,t,e)?this.setQueryParameters({facetsExcludes:qe.removeRefinement(this.facetsExcludes,t,e)}):this},removeDisjunctiveFacetRefinement:function(t,e){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return qe.isRefined(this.disjunctiveFacetsRefinements,t,e)?this.setQueryParameters({disjunctiveFacetsRefinements:qe.removeRefinement(this.disjunctiveFacetsRefinements,t,e)}):this},removeTagRefinement:function(t){if(!this.isTagRefined(t))return this;var e={tagRefinements:this.tagRefinements.filter((function(e){return e!==t}))};return this.setQueryParameters(e)},toggleRefinement:function(t,e){return this.toggleFacetRefinement(t,e)},toggleFacetRefinement:function(t,e){if(this.isHierarchicalFacet(t))return this.toggleHierarchicalFacetRefinement(t,e);if(this.isConjunctiveFacet(t))return this.toggleConjunctiveFacetRefinement(t,e);if(this.isDisjunctiveFacet(t))return this.toggleDisjunctiveFacetRefinement(t,e);throw new Error("Cannot refine the undeclared facet "+t+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(t,e){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:qe.toggleRefinement(this.facetsRefinements,t,e)})},toggleExcludeFacetRefinement:function(t,e){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:qe.toggleRefinement(this.facetsExcludes,t,e)})},toggleDisjunctiveFacetRefinement:function(t,e){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:qe.toggleRefinement(this.disjunctiveFacetsRefinements,t,e)})},toggleHierarchicalFacetRefinement:function(t,e){if(!this.isHierarchicalFacet(t))throw new Error(t+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(t)),r={};return void 0!==this.hierarchicalFacetsRefinements[t]&&this.hierarchicalFacetsRefinements[t].length>0&&(this.hierarchicalFacetsRefinements[t][0]===e||0===this.hierarchicalFacetsRefinements[t][0].indexOf(e+n))?-1===e.indexOf(n)?r[t]=[]:r[t]=[e.slice(0,e.lastIndexOf(n))]:r[t]=[e],this.setQueryParameters({hierarchicalFacetsRefinements:ke({},r,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(t,e){if(this.isHierarchicalFacetRefined(t))throw new Error(t+" is already refined.");if(!this.isHierarchicalFacet(t))throw new Error(t+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var n={};return n[t]=[e],this.setQueryParameters({hierarchicalFacetsRefinements:ke({},n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(t){if(!this.isHierarchicalFacetRefined(t))return this;var e={};return e[t]=[],this.setQueryParameters({hierarchicalFacetsRefinements:ke({},e,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(t){return this.isTagRefined(t)?this.removeTagRefinement(t):this.addTagRefinement(t)},isDisjunctiveFacet:function(t){return this.disjunctiveFacets.indexOf(t)>-1},isHierarchicalFacet:function(t){return void 0!==this.getHierarchicalFacetByName(t)},isConjunctiveFacet:function(t){return this.facets.indexOf(t)>-1},isFacetRefined:function(t,e){return!!this.isConjunctiveFacet(t)&&qe.isRefined(this.facetsRefinements,t,e)},isExcludeRefined:function(t,e){return!!this.isConjunctiveFacet(t)&&qe.isRefined(this.facetsExcludes,t,e)},isDisjunctiveFacetRefined:function(t,e){return!!this.isDisjunctiveFacet(t)&&qe.isRefined(this.disjunctiveFacetsRefinements,t,e)},isHierarchicalFacetRefined:function(t,e){if(!this.isHierarchicalFacet(t))return!1;var n=this.getHierarchicalRefinement(t);return e?-1!==n.indexOf(e):n.length>0},isNumericRefined:function(t,e,n){if(void 0===n&&void 0===e)return!!this.numericRefinements[t];var r=this.numericRefinements[t]&&void 0!==this.numericRefinements[t][e];if(void 0===n||!r)return r;var i,o,u=Ce(n),a=void 0!==(i=this.numericRefinements[t][e],o=u,Ae(i,(function(t){return Le(t,o)})));return r&&a},isTagRefined:function(t){return-1!==this.tagRefinements.indexOf(t)},getRefinedDisjunctiveFacets:function(){var t=this,e=Ie(Object.keys(this.numericRefinements).filter((function(e){return Object.keys(t.numericRefinements[e]).length>0})),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter((function(e){return t.disjunctiveFacetsRefinements[e].length>0})).concat(e).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){var t=this;return Ie(this.hierarchicalFacets.map((function(t){return t.name})),Object.keys(this.hierarchicalFacetsRefinements).filter((function(e){return t.hierarchicalFacetsRefinements[e].length>0})))},getUnrefinedDisjunctiveFacets:function(){var t=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter((function(e){return-1===t.indexOf(e)}))},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var t=this.managedParameters,e={},n=this;return Object.keys(this).forEach((function(r){var i=n[r];-1===t.indexOf(r)&&void 0!==i&&(e[r]=i)})),e},setQueryParameter:function(t,e){if(this[t]===e)return this;var n={};return n[t]=e,this.setQueryParameters(n)},setQueryParameters:function(t){if(!t)return this;var e=Ue.validate(this,t);if(e)throw e;var n=this,r=Ue._parseNumbers(t),i=Object.keys(this).reduce((function(t,e){return t[e]=n[e],t}),{}),o=Object.keys(r).reduce((function(t,e){var n=void 0!==t[e],i=void 0!==r[e];return n&&!i?Fe(t,[e]):(i&&(t[e]=r[e]),t)}),i);return new this.constructor(o)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(t){return t.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(t){return t.separator||" > "},_getHierarchicalRootPath:function(t){return t.rootPath||null},_getHierarchicalShowParentLevel:function(t){return"boolean"!=typeof t.showParentLevel||t.showParentLevel},getHierarchicalFacetByName:function(t){return Ae(this.hierarchicalFacets,(function(e){return e.name===t}))},getHierarchicalFacetBreadcrumb:function(t){if(!this.isHierarchicalFacet(t))return[];var e=this.getHierarchicalRefinement(t)[0];if(!e)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(t));return e.split(n).map((function(t){return t.trim()}))},toString:function(){return JSON.stringify(this,null,2)}};var $e=Ue;function De(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=void 0!==e,o=null===e;if(!o&&t>e||r&&i||!n)return 1;if(!r&&t<e||o&&n||!i)return-1}return 0}var Me=function(t,e,n){if(!Array.isArray(t))return[];Array.isArray(n)||(n=[]);var r=t.map((function(t,n){return{criteria:e.map((function(e){return t[e]})),index:n,value:t}}));return r.sort((function(t,e){for(var r=-1;++r<t.criteria.length;){var i=De(t.criteria[r],e.criteria[r]);if(i)return r>=n.length?i:"desc"===n[r]?-i:i}return t.index-e.index})),r.map((function(t){return t.value}))},Be=we,We=function(t,e){var n=(e||[]).map((function(t){return t.split(":")}));return t.reduce((function(t,e){var r=e.split(":"),i=Be(n,(function(t){return t[0]===r[0]}));return r.length>1||!i?(t[0].push(r[0]),t[1].push(r[1]),t):(t[0].push(i[0]),t[1].push(i[1]),t)}),[[],[]])};var Je={escapeFacetValue:function(t){return"string"!=typeof t?t:String(t).replace(/^-/,"\\-")},unescapeFacetValue:function(t){return"string"!=typeof t?t:t.replace(/^\\-/,"-")}},Qe=function(t){return function(e,n){var r=t.hierarchicalFacets[n],i=t.hierarchicalFacetsRefinements[r.name]&&t.hierarchicalFacetsRefinements[r.name][0]||"",o=t._getHierarchicalFacetSeparator(r),u=t._getHierarchicalRootPath(r),a=t._getHierarchicalShowParentLevel(r),c=Ke(t._getHierarchicalFacetSortBy(r)),s=e.every((function(t){return t.exhaustive})),f=function(t,e,n,r,i){return function(o,u,a){var c=o;if(a>0){var s=0;for(c=o;s<a;){var f=c&&Array.isArray(c.data)?c.data:[];c=ze(f,(function(t){return t.isRefined})),s++}}if(c){var l=Object.keys(u.data).map((function(t){return[t,u.data[t]]})).filter((function(t){return function(t,e,n,r,i,o){if(i&&(0!==t.indexOf(i)||i===t))return!1;return!i&&-1===t.indexOf(r)||i&&t.split(r).length-i.split(r).length==1||-1===t.indexOf(r)&&-1===n.indexOf(r)||0===n.indexOf(t)||0===t.indexOf(e+r)&&(o||0===t.indexOf(n))}(t[0],c.path||n,i,e,n,r)}));c.data=Ve(l.map((function(t){var n=t[0];return function(t,e,n,r,i){var o=e.split(n);return{name:o[o.length-1].trim(),path:e,escapedValue:Ye(e),count:t,isRefined:r===e||0===r.indexOf(e+n),exhaustive:i,data:null}}(t[1],n,e,Xe(i),u.exhaustive)})),t[0],t[1])}return o}}(c,o,u,a,i),l=e;return u&&(l=e.slice(u.split(o).length)),l.reduce(f,{name:t.hierarchicalFacets[n].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:s,data:null})}},Ve=Me,ze=we,Ke=We,Ye=Je.escapeFacetValue,Xe=Je.unescapeFacetValue;var Ge=ye,Ze=ge,tn=Me,en=function(t){return Array.isArray(t)?t.filter(Boolean):[]},nn=we,rn=function(t,e){if(!Array.isArray(t))return-1;for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1},on=We,un=Je.escapeFacetValue,an=Je.unescapeFacetValue,cn=Qe;function sn(t){var e={};return t.forEach((function(t,n){e[t]=n})),e}function fn(t,e,n){e&&e[n]&&(t.stats=e[n])}function ln(t,e,n){var r=e[0];this._rawResults=e;var i=this;Object.keys(r).forEach((function(t){i[t]=r[t]})),Object.keys(n||{}).forEach((function(t){i[t]=n[t]})),this.processingTimeMS=e.reduce((function(t,e){return void 0===e.processingTimeMS?t:t+e.processingTimeMS}),0),this.disjunctiveFacets=[],this.hierarchicalFacets=t.hierarchicalFacets.map((function(){return[]})),this.facets=[];var o=t.getRefinedDisjunctiveFacets(),u=sn(t.facets),a=sn(t.disjunctiveFacets),c=1,s=r.facets||{};Object.keys(s).forEach((function(e){var n,o,c=s[e],f=(n=t.hierarchicalFacets,o=e,nn(n,(function(t){return(t.attributes||[]).indexOf(o)>-1})));if(f){var l=f.attributes.indexOf(e),h=rn(t.hierarchicalFacets,(function(t){return t.name===f.name}));i.hierarchicalFacets[h][l]={attribute:e,data:c,exhaustive:r.exhaustiveFacetsCount}}else{var v,d=-1!==t.disjunctiveFacets.indexOf(e),b=-1!==t.facets.indexOf(e);d&&(v=a[e],i.disjunctiveFacets[v]={name:e,data:c,exhaustive:r.exhaustiveFacetsCount},fn(i.disjunctiveFacets[v],r.facets_stats,e)),b&&(v=u[e],i.facets[v]={name:e,data:c,exhaustive:r.exhaustiveFacetsCount},fn(i.facets[v],r.facets_stats,e))}})),this.hierarchicalFacets=en(this.hierarchicalFacets),o.forEach((function(n){var o=e[c],u=o&&o.facets?o.facets:{},s=t.getHierarchicalFacetByName(n);Object.keys(u).forEach((function(e){var n,c=u[e];if(s){n=rn(t.hierarchicalFacets,(function(t){return t.name===s.name}));var f=rn(i.hierarchicalFacets[n],(function(t){return t.attribute===e}));if(-1===f)return;i.hierarchicalFacets[n][f].data=Ge({},i.hierarchicalFacets[n][f].data,c)}else{n=a[e];var l=r.facets&&r.facets[e]||{};i.disjunctiveFacets[n]={name:e,data:Ze({},c,l),exhaustive:o.exhaustiveFacetsCount},fn(i.disjunctiveFacets[n],o.facets_stats,e),t.disjunctiveFacetsRefinements[e]&&t.disjunctiveFacetsRefinements[e].forEach((function(r){!i.disjunctiveFacets[n].data[r]&&t.disjunctiveFacetsRefinements[e].indexOf(an(r))>-1&&(i.disjunctiveFacets[n].data[r]=0)}))}})),c++})),t.getRefinedHierarchicalFacets().forEach((function(n){var r=t.getHierarchicalFacetByName(n),o=t._getHierarchicalFacetSeparator(r),u=t.getHierarchicalRefinement(n);0===u.length||u[0].split(o).length<2||e.slice(c).forEach((function(e){var n=e&&e.facets?e.facets:{};Object.keys(n).forEach((function(e){var a=n[e],c=rn(t.hierarchicalFacets,(function(t){return t.name===r.name})),s=rn(i.hierarchicalFacets[c],(function(t){return t.attribute===e}));if(-1!==s){var f={};if(u.length>0){var l=u[0].split(o)[0];f[l]=i.hierarchicalFacets[c][s].data[l]}i.hierarchicalFacets[c][s].data=Ze(f,a,i.hierarchicalFacets[c][s].data)}})),c++}))})),Object.keys(t.facetsExcludes).forEach((function(e){var n=t.facetsExcludes[e],o=u[e];i.facets[o]={name:e,data:r.facets[e],exhaustive:r.exhaustiveFacetsCount},n.forEach((function(t){i.facets[o]=i.facets[o]||{name:e},i.facets[o].data=i.facets[o].data||{},i.facets[o].data[t]=0}))})),this.hierarchicalFacets=this.hierarchicalFacets.map(cn(t)),this.facets=en(this.facets),this.disjunctiveFacets=en(this.disjunctiveFacets),this._state=t}function hn(t,e){function n(t){return t.name===e}if(t._state.isConjunctiveFacet(e)){var r=nn(t.facets,n);return r?Object.keys(r.data).map((function(n){var i=un(n);return{name:n,escapedValue:i,count:r.data[n],isRefined:t._state.isFacetRefined(e,i),isExcluded:t._state.isExcludeRefined(e,n)}})):[]}if(t._state.isDisjunctiveFacet(e)){var i=nn(t.disjunctiveFacets,n);return i?Object.keys(i.data).map((function(n){var r=un(n);return{name:n,escapedValue:r,count:i.data[n],isRefined:t._state.isDisjunctiveFacetRefined(e,r)}})):[]}if(t._state.isHierarchicalFacet(e)){var o=nn(t.hierarchicalFacets,n);if(!o)return o;var u=t._state.getHierarchicalFacetByName(e),a=an(t._state.getHierarchicalRefinement(e)[0]||"").split(t._state._getHierarchicalFacetSeparator(u));return a.unshift(e),vn(o,a,0),o}}function vn(t,e,n){t.isRefined=t.name===e[n],t.data&&t.data.forEach((function(t){vn(t,e,n+1)}))}function dn(t,e,n,r){if(r=r||0,Array.isArray(e))return t(e,n[r]);if(!e.data||0===e.data.length)return e;var i=e.data.map((function(e){return dn(t,e,n,r+1)})),o=t(i,n[r]);return Ze({data:o},e)}function bn(t,e){var n=nn(t,(function(t){return t.name===e}));return n&&n.stats}function mn(t,e,n,r,i){var o=nn(i,(function(t){return t.name===n})),u=o&&o.data&&o.data[r]?o.data[r]:0,a=o&&o.exhaustive||!1;return{type:e,attributeName:n,name:r,count:u,exhaustive:a}}ln.prototype.getFacetByName=function(t){function e(e){return e.name===t}return nn(this.facets,e)||nn(this.disjunctiveFacets,e)||nn(this.hierarchicalFacets,e)},ln.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],ln.prototype.getFacetValues=function(t,e){var n=hn(this,t);if(n){var r,i=Ze({},e,{sortBy:ln.DEFAULT_SORT,facetOrdering:!(e&&e.sortBy)}),o=this;if(Array.isArray(n))r=[t];else r=o._state.getHierarchicalFacetByName(n.name).attributes;return dn((function(t,e){if(i.facetOrdering){var n=function(t,e){return t.renderingContent&&t.renderingContent.facetOrdering&&t.renderingContent.facetOrdering.values&&t.renderingContent.facetOrdering.values[e]}(o,e);if(Boolean(n))return function(t,e){var n=[],r=[],i=(e.order||[]).reduce((function(t,e,n){return t[e]=n,t}),{});t.forEach((function(t){var e=t.path||t.name;void 0!==i[e]?n[i[e]]=t:r.push(t)})),n=n.filter((function(t){return t}));var o,u=e.sortRemainingBy;return"hidden"===u?n:(o="alpha"===u?[["path","name"],["asc","asc"]]:[["count"],["desc"]],n.concat(tn(r,o[0],o[1])))}(t,n)}if(Array.isArray(i.sortBy)){var r=on(i.sortBy,ln.DEFAULT_SORT);return tn(t,r[0],r[1])}if("function"==typeof i.sortBy)return function(t,e){return e.sort(t)}(i.sortBy,t);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")}),n,r)}},ln.prototype.getFacetStats=function(t){return this._state.isConjunctiveFacet(t)?bn(this.facets,t):this._state.isDisjunctiveFacet(t)?bn(this.disjunctiveFacets,t):void 0},ln.prototype.getRefinements=function(){var t=this._state,e=this,n=[];return Object.keys(t.facetsRefinements).forEach((function(r){t.facetsRefinements[r].forEach((function(i){n.push(mn(t,"facet",r,i,e.facets))}))})),Object.keys(t.facetsExcludes).forEach((function(r){t.facetsExcludes[r].forEach((function(i){n.push(mn(t,"exclude",r,i,e.facets))}))})),Object.keys(t.disjunctiveFacetsRefinements).forEach((function(r){t.disjunctiveFacetsRefinements[r].forEach((function(i){n.push(mn(t,"disjunctive",r,i,e.disjunctiveFacets))}))})),Object.keys(t.hierarchicalFacetsRefinements).forEach((function(r){t.hierarchicalFacetsRefinements[r].forEach((function(i){n.push(function(t,e,n,r){var i=t.getHierarchicalFacetByName(e),o=t._getHierarchicalFacetSeparator(i),u=n.split(o),a=nn(r,(function(t){return t.name===e})),c=u.reduce((function(t,e){var n=t&&nn(t.data,(function(t){return t.name===e}));return void 0!==n?n:t}),a),s=c&&c.count||0,f=c&&c.exhaustive||!1,l=c&&c.path||"";return{type:"hierarchical",attributeName:e,name:l,count:s,exhaustive:f}}(t,r,i,e.hierarchicalFacets))}))})),Object.keys(t.numericRefinements).forEach((function(e){var r=t.numericRefinements[e];Object.keys(r).forEach((function(t){r[t].forEach((function(r){n.push({type:"numeric",attributeName:e,name:r,numericValue:r,operator:t})}))}))})),t.tagRefinements.forEach((function(t){n.push({type:"tag",attributeName:"_tags",name:t})})),n};var pn=ln;var yn=function(t,e){t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})};function gn(t,e){this.main=t,this.fn=e,this.lastResults=null}yn(gn,le),gn.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},gn.prototype.getModifiedState=function(t){return this.fn(t)};var jn=ye;function wn(t){return Object.keys(t).sort((function(t,e){return t.localeCompare(e)})).reduce((function(e,n){return e[n]=t[n],e}),{})}var On={_getQueries:function(t,e){var n=[];return n.push({indexName:t,params:On._getHitsSearchParams(e)}),e.getRefinedDisjunctiveFacets().forEach((function(r){n.push({indexName:t,params:On._getDisjunctiveFacetSearchParams(e,r)})})),e.getRefinedHierarchicalFacets().forEach((function(r){var i=e.getHierarchicalFacetByName(r),o=e.getHierarchicalRefinement(r),u=e._getHierarchicalFacetSeparator(i);if(o.length>0&&o[0].split(u).length>1){var a=o[0].split(u).slice(0,-1).reduce((function(t,e,n){return t.concat({attribute:i.attributes[n],value:0===n?e:[t[t.length-1].value,e].join(u)})}),[]);a.forEach((function(r,o){var u=On._getDisjunctiveFacetSearchParams(e,r.attribute,0===o);function c(t){return i.attributes.some((function(e){return e===t.split(":")[0]}))}var s=(u.facetFilters||[]).reduce((function(t,e){if(Array.isArray(e)){var n=e.filter((function(t){return!c(t)}));n.length>0&&t.push(n)}return"string"!=typeof e||c(e)||t.push(e),t}),[]),f=a[o-1];u.facetFilters=o>0?s.concat(f.attribute+":"+f.value):s.length>0?s:void 0,n.push({indexName:t,params:u})}))}})),n},_getHitsSearchParams:function(t){var e=t.facets.concat(t.disjunctiveFacets).concat(On._getHitsHierarchicalFacetsAttributes(t)),n=On._getFacetFilters(t),r=On._getNumericFilters(t),i=On._getTagFilters(t),o={facets:e.indexOf("*")>-1?["*"]:e,tagFilters:i};return n.length>0&&(o.facetFilters=n),r.length>0&&(o.numericFilters=r),wn(jn({},t.getQueryParams(),o))},_getDisjunctiveFacetSearchParams:function(t,e,n){var r=On._getFacetFilters(t,e,n),i=On._getNumericFilters(t,e),o=On._getTagFilters(t),u={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};o.length>0&&(u.tagFilters=o);var a=t.getHierarchicalFacetByName(e);return u.facets=a?On._getDisjunctiveHierarchicalFacetAttribute(t,a,n):e,i.length>0&&(u.numericFilters=i),r.length>0&&(u.facetFilters=r),wn(jn({},t.getQueryParams(),u))},_getNumericFilters:function(t,e){if(t.numericFilters)return t.numericFilters;var n=[];return Object.keys(t.numericRefinements).forEach((function(r){var i=t.numericRefinements[r]||{};Object.keys(i).forEach((function(t){var o=i[t]||[];e!==r&&o.forEach((function(e){if(Array.isArray(e)){var i=e.map((function(e){return r+t+e}));n.push(i)}else n.push(r+t+e)}))}))})),n},_getTagFilters:function(t){return t.tagFilters?t.tagFilters:t.tagRefinements.join(",")},_getFacetFilters:function(t,e,n){var r=[],i=t.facetsRefinements||{};Object.keys(i).forEach((function(t){(i[t]||[]).forEach((function(e){r.push(t+":"+e)}))}));var o=t.facetsExcludes||{};Object.keys(o).forEach((function(t){(o[t]||[]).forEach((function(e){r.push(t+":-"+e)}))}));var u=t.disjunctiveFacetsRefinements||{};Object.keys(u).forEach((function(t){var n=u[t]||[];if(t!==e&&n&&0!==n.length){var i=[];n.forEach((function(e){i.push(t+":"+e)})),r.push(i)}}));var a=t.hierarchicalFacetsRefinements||{};return Object.keys(a).forEach((function(i){var o=(a[i]||[])[0];if(void 0!==o){var u,c,s=t.getHierarchicalFacetByName(i),f=t._getHierarchicalFacetSeparator(s),l=t._getHierarchicalRootPath(s);if(e===i){if(-1===o.indexOf(f)||!l&&!0===n||l&&l.split(f).length===o.split(f).length)return;l?(c=l.split(f).length-1,o=l):(c=o.split(f).length-2,o=o.slice(0,o.lastIndexOf(f))),u=s.attributes[c]}else c=o.split(f).length-1,u=s.attributes[c];u&&r.push([u+":"+o])}})),r},_getHitsHierarchicalFacetsAttributes:function(t){return t.hierarchicalFacets.reduce((function(e,n){var r=t.getHierarchicalRefinement(n.name)[0];if(!r)return e.push(n.attributes[0]),e;var i=t._getHierarchicalFacetSeparator(n),o=r.split(i).length,u=n.attributes.slice(0,o+1);return e.concat(u)}),[])},_getDisjunctiveHierarchicalFacetAttribute:function(t,e,n){var r=t._getHierarchicalFacetSeparator(e);if(!0===n){var i=t._getHierarchicalRootPath(e),o=0;return i&&(o=i.split(r).length),[e.attributes[o]]}var u=(t.getHierarchicalRefinement(e.name)[0]||"").split(r).length-1;return e.attributes.slice(0,u+1)},getSearchForFacetQuery:function(t,e,n,r){var i=r.isDisjunctiveFacet(t)?r.clearRefinements(t):r,o={facetQuery:e,facetName:t};return"number"==typeof n&&(o.maxFacetHits=n),wn(jn({},On._getHitsSearchParams(i),o))}},Sn="3.12.0",Tn=$e,Rn=pn,Nn=gn,Pn=On,En=Te,xn=Se,kn=ye,In=Sn,An=Je.escapeFacetValue;function Cn(t,e,n){"function"==typeof t.addAlgoliaAgent&&t.addAlgoliaAgent("JS Helper ("+In+")"),this.setClient(t);var r=n||{};r.index=e,this.state=Tn.make(r),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}function Fn(t){if(t<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(t),isPageReset:!1}),this}function _n(){return this.state.page}yn(Cn,le),Cn.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},Cn.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},Cn.prototype.getQuery=function(){var t=this.state;return Pn._getHitsSearchParams(t)},Cn.prototype.searchOnce=function(t,e){var n=t?this.state.setQueryParameters(t):this.state,r=Pn._getQueries(n.index,n),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:n}),!e)return this.client.search(r).then((function(t){return i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),{content:new Rn(n,t.results),state:n,_originalResponse:t}}),(function(t){throw i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t}));this.client.search(r).then((function(t){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),e(null,new Rn(n,t.results),n)})).catch((function(t){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),e(t,null,n)}))},Cn.prototype.findAnswers=function(t){var e=this.state,n=this.derivedHelpers[0];if(!n)return Promise.resolve([]);var r=n.getModifiedState(e),i=kn({attributesForPrediction:t.attributesForPrediction,nbHits:t.nbHits},{params:xn(Pn._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),o="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if("function"!=typeof this.client.initIndex)throw new Error(o);var u=this.client.initIndex(r.index);if("function"!=typeof u.findAnswers)throw new Error(o);return u.findAnswers(r.query,t.queryLanguages,i)},Cn.prototype.searchForFacetValues=function(t,e,n,r){var i="function"==typeof this.client.searchForFacetValues,o="function"==typeof this.client.initIndex;if(!i&&!o&&"function"!=typeof this.client.search)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var u=this.state.setQueryParameters(r||{}),a=u.isDisjunctiveFacet(t),c=Pn.getSearchForFacetQuery(t,e,n,u);this._currentNbQueries++;var s,f=this;return i?s=this.client.searchForFacetValues([{indexName:u.index,params:c}]):o?s=this.client.initIndex(u.index).searchForFacetValues(c):(delete c.facetName,s=this.client.search([{type:"facet",facet:t,indexName:u.index,params:c}]).then((function(t){return t.results[0]}))),this.emit("searchForFacetValues",{state:u,facet:t,query:e}),s.then((function(e){return f._currentNbQueries--,0===f._currentNbQueries&&f.emit("searchQueueEmpty"),(e=Array.isArray(e)?e[0]:e).facetHits.forEach((function(e){e.escapedValue=An(e.value),e.isRefined=a?u.isDisjunctiveFacetRefined(t,e.escapedValue):u.isFacetRefined(t,e.escapedValue)})),e}),(function(t){throw f._currentNbQueries--,0===f._currentNbQueries&&f.emit("searchQueueEmpty"),t}))},Cn.prototype.setQuery=function(t){return this._change({state:this.state.resetPage().setQuery(t),isPageReset:!0}),this},Cn.prototype.clearRefinements=function(t){return this._change({state:this.state.resetPage().clearRefinements(t),isPageReset:!0}),this},Cn.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},Cn.prototype.addDisjunctiveFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(t,e),isPageReset:!0}),this},Cn.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},Cn.prototype.addHierarchicalFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(t,e),isPageReset:!0}),this},Cn.prototype.addNumericRefinement=function(t,e,n){return this._change({state:this.state.resetPage().addNumericRefinement(t,e,n),isPageReset:!0}),this},Cn.prototype.addFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().addFacetRefinement(t,e),isPageReset:!0}),this},Cn.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},Cn.prototype.addFacetExclusion=function(t,e){return this._change({state:this.state.resetPage().addExcludeRefinement(t,e),isPageReset:!0}),this},Cn.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},Cn.prototype.addTag=function(t){return this._change({state:this.state.resetPage().addTagRefinement(t),isPageReset:!0}),this},Cn.prototype.removeNumericRefinement=function(t,e,n){return this._change({state:this.state.resetPage().removeNumericRefinement(t,e,n),isPageReset:!0}),this},Cn.prototype.removeDisjunctiveFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(t,e),isPageReset:!0}),this},Cn.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},Cn.prototype.removeHierarchicalFacetRefinement=function(t){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(t),isPageReset:!0}),this},Cn.prototype.removeFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().removeFacetRefinement(t,e),isPageReset:!0}),this},Cn.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},Cn.prototype.removeFacetExclusion=function(t,e){return this._change({state:this.state.resetPage().removeExcludeRefinement(t,e),isPageReset:!0}),this},Cn.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},Cn.prototype.removeTag=function(t){return this._change({state:this.state.resetPage().removeTagRefinement(t),isPageReset:!0}),this},Cn.prototype.toggleFacetExclusion=function(t,e){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(t,e),isPageReset:!0}),this},Cn.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},Cn.prototype.toggleRefinement=function(t,e){return this.toggleFacetRefinement(t,e)},Cn.prototype.toggleFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().toggleFacetRefinement(t,e),isPageReset:!0}),this},Cn.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},Cn.prototype.toggleTag=function(t){return this._change({state:this.state.resetPage().toggleTagRefinement(t),isPageReset:!0}),this},Cn.prototype.nextPage=function(){var t=this.state.page||0;return this.setPage(t+1)},Cn.prototype.previousPage=function(){var t=this.state.page||0;return this.setPage(t-1)},Cn.prototype.setCurrentPage=Fn,Cn.prototype.setPage=Fn,Cn.prototype.setIndex=function(t){return this._change({state:this.state.resetPage().setIndex(t),isPageReset:!0}),this},Cn.prototype.setQueryParameter=function(t,e){return this._change({state:this.state.resetPage().setQueryParameter(t,e),isPageReset:!0}),this},Cn.prototype.setState=function(t){return this._change({state:Tn.make(t),isPageReset:!1}),this},Cn.prototype.overrideStateWithoutTriggeringChangeEvent=function(t){return this.state=new Tn(t),this},Cn.prototype.hasRefinements=function(t){return!!En(this.state.getNumericRefinements(t))||(this.state.isConjunctiveFacet(t)?this.state.isFacetRefined(t):this.state.isDisjunctiveFacet(t)?this.state.isDisjunctiveFacetRefined(t):!!this.state.isHierarchicalFacet(t)&&this.state.isHierarchicalFacetRefined(t))},Cn.prototype.isExcluded=function(t,e){return this.state.isExcludeRefined(t,e)},Cn.prototype.isDisjunctiveRefined=function(t,e){return this.state.isDisjunctiveFacetRefined(t,e)},Cn.prototype.hasTag=function(t){return this.state.isTagRefined(t)},Cn.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},Cn.prototype.getIndex=function(){return this.state.index},Cn.prototype.getCurrentPage=_n,Cn.prototype.getPage=_n,Cn.prototype.getTags=function(){return this.state.tagRefinements},Cn.prototype.getRefinements=function(t){var e=[];if(this.state.isConjunctiveFacet(t))this.state.getConjunctiveRefinements(t).forEach((function(t){e.push({value:t,type:"conjunctive"})})),this.state.getExcludeRefinements(t).forEach((function(t){e.push({value:t,type:"exclude"})}));else if(this.state.isDisjunctiveFacet(t)){this.state.getDisjunctiveRefinements(t).forEach((function(t){e.push({value:t,type:"disjunctive"})}))}var n=this.state.getNumericRefinements(t);return Object.keys(n).forEach((function(t){var r=n[t];e.push({value:r,operator:t,type:"numeric"})})),e},Cn.prototype.getNumericRefinement=function(t,e){return this.state.getNumericRefinement(t,e)},Cn.prototype.getHierarchicalFacetBreadcrumb=function(t){return this.state.getHierarchicalFacetBreadcrumb(t)},Cn.prototype._search=function(t){var e=this.state,n=[],r=[];t.onlyWithDerivedHelpers||(r=Pn._getQueries(e.index,e),n.push({state:e,queriesCount:r.length,helper:this}),this.emit("search",{state:e,results:this.lastResults}));var i=this.derivedHelpers.map((function(t){var r=t.getModifiedState(e),i=Pn._getQueries(r.index,r);return n.push({state:r,queriesCount:i.length,helper:t}),t.emit("search",{state:r,results:t.lastResults}),i})),o=Array.prototype.concat.apply(r,i),u=this._queryId++;this._currentNbQueries++;try{this.client.search(o).then(this._dispatchAlgoliaResponse.bind(this,n,u)).catch(this._dispatchAlgoliaError.bind(this,u))}catch(t){this.emit("error",{error:t})}},Cn.prototype._dispatchAlgoliaResponse=function(t,e,n){if(!(e<this._lastQueryIdReceived)){this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var r=n.results.slice();t.forEach((function(t){var e=t.state,n=t.queriesCount,i=t.helper,o=r.splice(0,n),u=i.lastResults=new Rn(e,o);i.emit("result",{results:u,state:e})}))}},Cn.prototype._dispatchAlgoliaError=function(t,e){t<this._lastQueryIdReceived||(this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,this.emit("error",{error:e}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},Cn.prototype.containsRefinement=function(t,e,n,r){return t||0!==e.length||0!==n.length||0!==r.length},Cn.prototype._hasDisjunctiveRefinements=function(t){return this.state.disjunctiveRefinements[t]&&this.state.disjunctiveRefinements[t].length>0},Cn.prototype._change=function(t){var e=t.state,n=t.isPageReset;e!==this.state&&(this.state=e,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:n}))},Cn.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},Cn.prototype.setClient=function(t){return this.client===t||("function"==typeof t.addAlgoliaAgent&&t.addAlgoliaAgent("JS Helper ("+In+")"),this.client=t),this},Cn.prototype.getClient=function(){return this.client},Cn.prototype.derive=function(t){var e=new Nn(this,t);return this.derivedHelpers.push(e),e},Cn.prototype.detachDerivedHelper=function(t){var e=this.derivedHelpers.indexOf(t);if(-1===e)throw new Error("Derived helper already detached");this.derivedHelpers.splice(e,1)},Cn.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};var Hn=Cn,qn=$e,Ln=pn;function Un(t,e,n){return new Hn(t,e,n)}Un.version=Sn,Un.AlgoliaSearchHelper=Hn,Un.SearchParameters=qn,Un.SearchResults=Ln;var $n=t(Un);function Dn(t){return Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dn(t)}function Mn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mn(Object(n),!0).forEach((function(e){Wn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Wn(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Dn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Dn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Dn(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,u,a=[],c=!0,s=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){s=!0,i=t}finally{try{if(!c&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(s)throw i}}return a}}(t,e)||Vn(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qn(t){return function(t){if(Array.isArray(t))return zn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Vn(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vn(t,e){if(t){if("string"==typeof t)return zn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zn(t,e):void 0}}function zn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Kn="2.6.0",Yn="https://cdn.jsdelivr.net/npm/search-insights@".concat(Kn,"/dist/search-insights.min.js");function Xn(t){var e=Jn((t.version||"").split(".").map(Number),2),n=e[0],r=e[1];return n>=3||2===n&&r>=6||1===n&&r>=10}function Gn(t,e,n){var r=Ut(e,e.mainIndex,e._initialUiState);t.forEach((function(t){var i={};if(t.getWidgetRenderState){var o=t.getWidgetRenderState(r);o&&o.widgetParams&&(i=o.widgetParams)}var u=Object.keys(i).filter((function(t){return void 0!==i[t]}));n.widgets.push({type:t.$$type,widgetType:t.$$widgetType,params:u}),"ais.index"===t.$$type&&Gn(t.getWidgets(),e,n)}))}var Zn=String.prototype.replace,tr=/%20/g,er="RFC3986",nr={default:er,formatters:{RFC1738:function(t){return Zn.call(t,tr,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:er},rr=nr,ir=Object.prototype.hasOwnProperty,or=Array.isArray,ur=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),ar=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n},cr={arrayToObject:ar,assign:function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],r=0;r<e.length;++r)for(var i=e[r],o=i.obj[i.prop],u=Object.keys(o),a=0;a<u.length;++a){var c=u[a],s=o[c];"object"==typeof s&&null!==s&&-1===n.indexOf(s)&&(e.push({obj:o,prop:c}),n.push(s))}return function(t){for(;t.length>1;){var e=t.pop(),n=e.obj[e.prop];if(or(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);e.obj[e.prop]=r}}}(e),t},decode:function(t,e,n){var r=t.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(t){return r}},encode:function(t,e,n,r,i){if(0===t.length)return t;var o=t;if("symbol"==typeof t?o=Symbol.prototype.toString.call(t):"string"!=typeof t&&(o=String(t)),"iso-8859-1"===n)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var u="",a=0;a<o.length;++a){var c=o.charCodeAt(a);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||i===rr.RFC1738&&(40===c||41===c)?u+=o.charAt(a):c<128?u+=ur[c]:c<2048?u+=ur[192|c>>6]+ur[128|63&c]:c<55296||c>=57344?u+=ur[224|c>>12]+ur[128|c>>6&63]+ur[128|63&c]:(a+=1,c=65536+((1023&c)<<10|1023&o.charCodeAt(a)),u+=ur[240|c>>18]+ur[128|c>>12&63]+ur[128|c>>6&63]+ur[128|63&c])}return u},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(or(t)){for(var n=[],r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)},merge:function t(e,n,r){if(!n)return e;if("object"!=typeof n){if(or(e))e.push(n);else{if(!e||"object"!=typeof e)return[e,n];(r&&(r.plainObjects||r.allowPrototypes)||!ir.call(Object.prototype,n))&&(e[n]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(n);var i=e;return or(e)&&!or(n)&&(i=ar(e,r)),or(e)&&or(n)?(n.forEach((function(n,i){if(ir.call(e,i)){var o=e[i];o&&"object"==typeof o&&n&&"object"==typeof n?e[i]=t(o,n,r):e.push(n)}else e[i]=n})),e):Object.keys(n).reduce((function(e,i){var o=n[i];return ir.call(e,i)?e[i]=t(e[i],o,r):e[i]=o,e}),i)}},sr=cr,fr=nr,lr=Object.prototype.hasOwnProperty,hr={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},vr=Array.isArray,dr=String.prototype.split,br=Array.prototype.push,mr=function(t,e){br.apply(t,vr(e)?e:[e])},pr=Date.prototype.toISOString,yr=fr.default,gr={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:sr.encode,encodeValuesOnly:!1,format:yr,formatter:fr.formatters[yr],indices:!1,serializeDate:function(t){return pr.call(t)},skipNulls:!1,strictNullHandling:!1},jr=function t(e,n,r,i,o,u,a,c,s,f,l,h,v,d){var b=e;if("function"==typeof a?b=a(n,b):b instanceof Date?b=f(b):"comma"===r&&vr(b)&&(b=sr.maybeMap(b,(function(t){return t instanceof Date?f(t):t}))),null===b){if(i)return u&&!v?u(n,gr.encoder,d,"key",l):n;b=""}if(function(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t||"symbol"==typeof t||"bigint"==typeof t}(b)||sr.isBuffer(b)){if(u){var m=v?n:u(n,gr.encoder,d,"key",l);if("comma"===r&&v){for(var p=dr.call(String(b),","),y="",g=0;g<p.length;++g)y+=(0===g?"":",")+h(u(p[g],gr.encoder,d,"value",l));return[h(m)+"="+y]}return[h(m)+"="+h(u(b,gr.encoder,d,"value",l))]}return[h(n)+"="+h(String(b))]}var j,w=[];if(void 0===b)return w;if("comma"===r&&vr(b))j=[{value:b.length>0?b.join(",")||null:void 0}];else if(vr(a))j=a;else{var O=Object.keys(b);j=c?O.sort(c):O}for(var S=0;S<j.length;++S){var T=j[S],R="object"==typeof T&&void 0!==T.value?T.value:b[T];if(!o||null!==R){var N=vr(b)?"function"==typeof r?r(n,T):n:n+(s?"."+T:"["+T+"]");mr(w,t(R,N,r,i,o,u,a,c,s,f,l,h,v,d))}}return w},wr=cr,Or=Object.prototype.hasOwnProperty,Sr=Array.isArray,Tr={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:wr.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Rr=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},Nr=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Pr=function(t,e,n,r){if(t){var i=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/g,u=n.depth>0&&/(\[[^[\]]*])/.exec(i),a=u?i.slice(0,u.index):i,c=[];if(a){if(!n.plainObjects&&Or.call(Object.prototype,a)&&!n.allowPrototypes)return;c.push(a)}for(var s=0;n.depth>0&&null!==(u=o.exec(i))&&s<n.depth;){if(s+=1,!n.plainObjects&&Or.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(u[1])}return u&&c.push("["+i.slice(u.index)+"]"),function(t,e,n,r){for(var i=r?e:Nr(e,n),o=t.length-1;o>=0;--o){var u,a=t[o];if("[]"===a&&n.parseArrays)u=[].concat(i);else{u=n.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,s=parseInt(c,10);n.parseArrays||""!==c?!isNaN(s)&&a!==c&&String(s)===c&&s>=0&&n.parseArrays&&s<=n.arrayLimit?(u=[])[s]=i:"__proto__"!==c&&(u[c]=i):u={0:i}}i=u}return i}(c,e,n,r)}},Er=function(t,e){var n,r=t,i=function(t){if(!t)return gr;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||gr.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=fr.default;if(void 0!==t.format){if(!lr.call(fr.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var r=fr.formatters[n],i=gr.filter;return("function"==typeof t.filter||vr(t.filter))&&(i=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:gr.addQueryPrefix,allowDots:void 0===t.allowDots?gr.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:gr.charsetSentinel,delimiter:void 0===t.delimiter?gr.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:gr.encode,encoder:"function"==typeof t.encoder?t.encoder:gr.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:gr.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:gr.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:gr.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:gr.strictNullHandling}}(e);"function"==typeof i.filter?r=(0,i.filter)("",r):vr(i.filter)&&(n=i.filter);var o,u=[];if("object"!=typeof r||null===r)return"";o=e&&e.arrayFormat in hr?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var a=hr[o];n||(n=Object.keys(r)),i.sort&&n.sort(i.sort);for(var c=0;c<n.length;++c){var s=n[c];i.skipNulls&&null===r[s]||mr(u,jr(r[s],s,a,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset))}var f=u.join(i.delimiter),l=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&("iso-8859-1"===i.charset?l+="utf8=%26%2310003%3B&":l+="utf8=%E2%9C%93&"),f.length>0?l+f:""},xr=function(t,e){var n=function(t){if(!t)return Tr;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?Tr.charset:t.charset;return{allowDots:void 0===t.allowDots?Tr.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:Tr.allowPrototypes,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:Tr.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:Tr.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:Tr.comma,decoder:"function"==typeof t.decoder?t.decoder:Tr.decoder,delimiter:"string"==typeof t.delimiter||wr.isRegExp(t.delimiter)?t.delimiter:Tr.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:Tr.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:Tr.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:Tr.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:Tr.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:Tr.strictNullHandling}}(e);if(""===t||null==t)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof t?function(t,e){var n,r={},i=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,o=e.parameterLimit===1/0?void 0:e.parameterLimit,u=i.split(e.delimiter,o),a=-1,c=e.charset;if(e.charsetSentinel)for(n=0;n<u.length;++n)0===u[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===u[n]?c="utf-8":"utf8=%26%2310003%3B"===u[n]&&(c="iso-8859-1"),a=n,n=u.length);for(n=0;n<u.length;++n)if(n!==a){var s,f,l=u[n],h=l.indexOf("]="),v=-1===h?l.indexOf("="):h+1;-1===v?(s=e.decoder(l,Tr.decoder,c,"key"),f=e.strictNullHandling?null:""):(s=e.decoder(l.slice(0,v),Tr.decoder,c,"key"),f=wr.maybeMap(Nr(l.slice(v+1),e),(function(t){return e.decoder(t,Tr.decoder,c,"value")}))),f&&e.interpretNumericEntities&&"iso-8859-1"===c&&(f=Rr(f)),l.indexOf("[]=")>-1&&(f=Sr(f)?[f]:f),Or.call(r,s)?r[s]=wr.combine(r[s],f):r[s]=f}return r}(t,n):t,i=n.plainObjects?Object.create(null):{},o=Object.keys(r),u=0;u<o.length;++u){var a=o[u],c=Pr(a,r[a],n,"string"==typeof t);i=wr.merge(i,c,n)}return wr.compact(i)},kr=t({formats:nr,parse:xr,stringify:Er});function Ir(t){return Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ir(t)}function Ar(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fr(r.key),r)}}function Cr(t,e,n){return(e=Fr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fr(t){var e=function(t,e){if("object"!==Ir(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ir(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ir(e)?e:String(e)}var _r=function(t){t&&(window.document.title=t)},Hr=function(){function t(e){var n=this,r=e.windowTitle,i=e.writeDelay,o=void 0===i?400:i,u=e.createURL,a=e.parseURL,c=e.getLocation,s=e.start,f=e.dispose,l=e.push;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Cr(this,"$$type","ais.browser"),Cr(this,"windowTitle",void 0),Cr(this,"writeDelay",void 0),Cr(this,"_createURL",void 0),Cr(this,"parseURL",void 0),Cr(this,"getLocation",void 0),Cr(this,"writeTimer",void 0),Cr(this,"inPopState",!1),Cr(this,"isDisposed",!1),Cr(this,"latestAcknowledgedHistory",0),Cr(this,"_start",void 0),Cr(this,"_dispose",void 0),Cr(this,"_push",void 0),this.windowTitle=r,this.writeTimer=void 0,this.writeDelay=o,this._createURL=u,this.parseURL=a,this.getLocation=c,this._start=s,this._dispose=f,this._push=l,Qt((function(t){var e=t.window,r=n.windowTitle&&n.windowTitle(n.read());_r(r),n.latestAcknowledgedHistory=e.history.length}))}var e,n,r;return e=t,n=[{key:"read",value:function(){return this.parseURL({qsModule:kr,location:this.getLocation()})}},{key:"write",value:function(t){var e=this;Qt((function(n){var r=n.window,i=e.createURL(t),o=e.windowTitle&&e.windowTitle(t);e.writeTimer&&clearTimeout(e.writeTimer),e.writeTimer=setTimeout((function(){_r(o),e.shouldWrite(i)&&(e._push?e._push(i):r.history.pushState(t,o||"",i),e.latestAcknowledgedHistory=r.history.length),e.inPopState=!1,e.writeTimer=void 0}),e.writeDelay)}))}},{key:"onUpdate",value:function(t){var e=this;this._start&&this._start((function(){t(e.read())})),this._onPopState=function(){e.writeTimer&&(clearTimeout(e.writeTimer),e.writeTimer=void 0),e.inPopState=!0,t(e.read())},Qt((function(t){t.window.addEventListener("popstate",e._onPopState)}))}},{key:"createURL",value:function(t){return this._createURL({qsModule:kr,routeState:t,location:this.getLocation()})}},{key:"dispose",value:function(){var t=this;this._dispose&&this._dispose(),this.isDisposed=!0,Qt((function(e){var n=e.window;t._onPopState&&n.removeEventListener("popstate",t._onPopState)})),this.writeTimer&&clearTimeout(this.writeTimer),this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(t){var e=this;return Qt((function(n){var r=n.window,i=!(e.isDisposed&&e.latestAcknowledgedHistory!==r.history.length);return!e.inPopState&&i&&t!==r.location.href}))}}],n&&Ar(e.prototype,n),r&&Ar(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function qr(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.createURL,n=void 0===e?function(t){var e=t.qsModule,n=t.routeState,r=t.location,i=r.protocol,o=r.hostname,u=r.port,a=void 0===u?"":u,c=r.pathname,s=r.hash,f=e.stringify(n),l=""===a?"":":".concat(a);return f?"".concat(i,"//").concat(o).concat(l).concat(c,"?").concat(f).concat(s):"".concat(i,"//").concat(o).concat(l).concat(c).concat(s)}:e,r=t.parseURL,i=void 0===r?function(t){var e=t.qsModule,n=t.location;return e.parse(n.search.slice(1),{arrayLimit:99})}:r,o=t.writeDelay,u=void 0===o?400:o,a=t.windowTitle,c=t.getLocation,s=void 0===c?function(){return Qt((function(t){return t.window.location}),{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:c,f=t.start,l=t.dispose,h=t.push;return new Hr({createURL:n,parseURL:i,writeDelay:u,windowTitle:a,getLocation:s,start:f,dispose:l,push:h})}function Lr(t){return Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lr(t)}var Ur=["configure"];function $r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$r(Object(n),!0).forEach((function(e){Mr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Mr(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Lr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Lr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Lr(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Br(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wr(t){return t.configure,Br(t,Ur)}function Jr(){return{$$type:"ais.simple",stateToRoute:function(t){return Object.keys(t).reduce((function(e,n){return Dr(Dr({},e),{},Mr({},n,Wr(t[n])))}),{})},routeToState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).reduce((function(e,n){return Dr(Dr({},e),{},Mr({},n,Wr(t[n])))}),{})}}}function Qr(t){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qr(t)}function Vr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vr(Object(n),!0).forEach((function(e){Kr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Kr(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Qr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Qr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Qr(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yr(t){return Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yr(t)}var Xr=["initialSearchParameters"];function Gr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gr(Object(n),!0).forEach((function(e){ti(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ti(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Yr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Yr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Yr(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ei(t){return function(t){if(Array.isArray(t))return ni(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return ni(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ni(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ni(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ri(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var ii=X({name:"index-widget"});function oi(t,e){var n=e.state,r=e.isPageReset,i=e._uiState;n!==t.state&&(t.state=n,t.emit("change",{state:t.state,results:t.lastResults,isPageReset:r,_uiState:i}))}function ui(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.reduce((function(t,n){return Q(n)?t:n.getWidgetUiState||n.getWidgetState?n.getWidgetUiState?n.getWidgetUiState(t,e):n.getWidgetState(t,e):t}),n)}function ai(t,e){var n=e.initialSearchParameters,r=ri(e,Xr);return t.filter((function(t){return!Q(t)})).reduce((function(t,e){return e.getWidgetSearchParameters?e.getWidgetSearchParameters(t,r):t}),n)}function ci(t){var e=t.filter(Q);0!==e.length&&e.forEach((function(t){var e=t.getHelper();oi(e,{state:e.state.resetPage(),isPageReset:!0}),ci(t.getWidgets())}))}function si(t){return t.filter(Q).reduce((function(t,e){return t.concat.apply(t,[{indexId:e.getIndexId(),results:e.getResults(),helper:e.getHelper()}].concat(ei(si(e.getWidgets()))))}),[])}var fi=function(t){if(void 0===t||void 0===t.indexName)throw new Error(ii("The `indexName` option is required."));var e=t.indexName,n=t.indexId,r=void 0===n?e:n,i=[],o={},u=null,a=null,s=null,f=null,l=null;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return e},getIndexId:function(){return r},getHelper:function(){return s},getResults:function(){var t;return null!==(t=f)&&void 0!==t&&t.lastResults?(f.lastResults._state=s.state,f.lastResults):null},getPreviousState:function(){return l},getScopedResults:function(){var t=this.getParent();return si(t?t.getWidgets():[this])},getParent:function(){return a},createURL:function(t){return u._createURL(ti({},r,ui(i,{searchParameters:t,helper:s})))},getWidgets:function(){return i},addWidgets:function(t){var e=this;if(!Array.isArray(t))throw new Error(ii("The `addWidgets` method expects an array of widgets."));if(t.some((function(t){return"function"!=typeof t.init&&"function"!=typeof t.render})))throw new Error(ii("The widget definition expects a `render` and/or an `init` method."));return i=i.concat(t),u&&Boolean(t.length)&&(oi(s,{state:ai(i,{uiState:o,initialSearchParameters:s.state}),_uiState:o}),t.forEach((function(t){t.getRenderState&&li({renderState:t.getRenderState(u.renderState[e.getIndexId()]||{},Ut(u,e,u._initialUiState)),instantSearchInstance:u,parent:e})})),t.forEach((function(t){t.init&&t.init(Ut(u,e,u._initialUiState))})),u.scheduleSearch()),this},removeWidgets:function(t){var e=this;if(!Array.isArray(t))throw new Error(ii("The `removeWidgets` method expects an array of widgets."));if(t.some((function(t){return"function"!=typeof t.dispose})))throw new Error(ii("The widget definition expects a `dispose` method."));if(i=i.filter((function(e){return-1===t.indexOf(e)})),u&&Boolean(t.length)){var n=t.reduce((function(t,n){return n.dispose({helper:s,state:t,parent:e})||t}),s.state);o=ui(i,{searchParameters:n,helper:s}),s.setState(ai(i,{uiState:o,initialSearchParameters:n})),i.length&&u.scheduleSearch()}return this},init:function(t){var n,h=this,v=t.instantSearchInstance,d=t.parent,m=t.uiState;if(null===s){u=v,a=d,o=m[r]||{};var p=v.mainHelper,y=ai(i,{uiState:o,initialSearchParameters:new $n.SearchParameters({index:e})});(s=$n({},y.index,y)).search=function(){return v.onStateChange?(v.onStateChange({uiState:v.mainIndex.getWidgetUiState({}),setUiState:function(t){return v.setUiState(t,!1)}}),p):p.search()},s.searchWithoutTriggeringOnStateChange=function(){return p.search()},s.searchForFacetValues=function(t,e,n,r){var i=s.state.setQueryParameters(r);return p.searchForFacetValues(t,e,n,i)},f=p.derive((function(){return _t.apply(void 0,ei(function(t){for(var e=t.getParent(),n=[t.getHelper().state];null!==e;)n=[e.getHelper().state].concat(n),e=e.getParent();return n}(h)))}));var g=null===(n=v._initialResults)||void 0===n?void 0:n[this.getIndexId()];if(g){var j=new $n.SearchResults(new $n.SearchParameters(g.state),g.results);f.lastResults=j,s.lastResults=j}s.on("change",(function(t){t.isPageReset&&ci(i)})),f.on("search",(function(){v.scheduleStalledRender(),"development"===process.env.NODE_ENV&&b({index:h,indexUiState:o})})),f.on("result",(function(t){var e=t.results;v.scheduleRender(),s.lastResults=e,l=e._state})),i.forEach((function(t){t.getRenderState&&li({renderState:t.getRenderState(v.renderState[h.getIndexId()]||{},Ut(v,h,m)),instantSearchInstance:v,parent:h})})),i.forEach((function(t){"development"===process.env.NODE_ENV&&c(!t.getWidgetState||Boolean(t.getWidgetUiState),"The `getWidgetState` method is renamed `getWidgetUiState` and will no longer exist under that name in InstantSearch.js 5.x. Please use `getWidgetUiState` instead."),t.init&&t.init(Ut(v,h,m))})),s.on("change",(function(t){var e=t.state,n=t._uiState;o=ui(i,{searchParameters:e,helper:s},n||{}),v.onStateChange||v.onInternalStateChange()})),g&&v.scheduleRender()}},render:function(t){var e=this,n=t.instantSearchInstance;this.getResults()&&("error"!==n.status||n.mainHelper.hasPendingRequests()||s.setState(l),i.forEach((function(t){t.getRenderState&&li({renderState:t.getRenderState(n.renderState[e.getIndexId()]||{},$t(n,e)),instantSearchInstance:n,parent:e})})),i.forEach((function(t){t.render&&t.render($t(n,e))})))},dispose:function(){var t,e,n=this;i.forEach((function(t){t.dispose&&t.dispose({helper:s,state:s.state,parent:n})})),u=null,a=null,null===(t=s)||void 0===t||t.removeAllListeners(),s=null,null===(e=f)||void 0===e||e.detach(),f=null},getWidgetUiState:function(t){return i.filter(Q).reduce((function(t,e){return e.getWidgetUiState(t)}),Zr(Zr({},t),{},ti({},r,Zr(Zr({},t[r]),o))))},getWidgetState:function(t){return"development"===process.env.NODE_ENV&&c(!1,"The `getWidgetState` method is renamed `getWidgetUiState` and will no longer exist under that name in InstantSearch.js 5.x. Please use `getWidgetUiState` instead."),this.getWidgetUiState(t)},getWidgetSearchParameters:function(t,e){var n=e.uiState;return ai(i,{uiState:n,initialSearchParameters:t})},refreshUiState:function(){o=ui(i,{searchParameters:this.getHelper().state,helper:this.getHelper()},o)},setIndexUiState:function(t){var e="function"==typeof t?t(o):t;u.setUiState((function(t){return Zr(Zr({},t),{},ti({},r,e))}))}}};function li(t){var e=t.renderState,n=t.instantSearchInstance,r=t.parent,i=r?r.getIndexId():n.mainIndex.getIndexId();n.renderState=Zr(Zr({},n.renderState),{},ti({},i,Zr(Zr({},n.renderState[i]),e)))}function hi(t){return hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hi(t)}function vi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function di(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vi(Object(n),!0).forEach((function(e){bi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bi(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==hi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==hi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===hi(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mi(t){var e=t.numberLocale;return{formatNumber:function(t,n){return function(t,e){return t.toLocaleString(e)}(Number(n(t)),e)},highlight:function(t,e){try{return e(Kt(di(di({},JSON.parse(t)),{},{hit:this})))}catch(t){throw new Error('\nThe highlight helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseHighlight:function(t,e){try{return e(Xt(di(di({},JSON.parse(t)),{},{hit:this})))}catch(t){throw new Error('\n  The reverseHighlight helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},snippet:function(t,e){try{return e(Zt(di(di({},JSON.parse(t)),{},{hit:this})))}catch(t){throw new Error('\nThe snippet helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseSnippet:function(t,e){try{return e(ee(di(di({},JSON.parse(t)),{},{hit:this})))}catch(t){throw new Error('\n  The reverseSnippet helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},insights:function(t,e){try{var n=JSON.parse(t),r=n.method,i=n.payload;return e(re(r,di({objectIDs:[this.objectID]},i)))}catch(t){throw new Error('\nThe insights helper expects a JSON object of the format:\n{ "method": "method-name", "payload": { "eventName": "name of the event" } }')}}}}var pi="4.55.0";function yi(t){return yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yi(t)}function gi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ji(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gi(Object(n),!0).forEach((function(e){Pi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ei(r.key),r)}}function Oi(t,e){return Oi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Oi(t,e)}function Si(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ni(t);if(e){var i=Ni(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ti(this,n)}}function Ti(t,e){if(e&&("object"===yi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ri(t)}function Ri(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ni(t){return Ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ni(t)}function Pi(t,e,n){return(e=Ei(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ei(t){var e=function(t,e){if("object"!==yi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==yi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===yi(e)?e:String(e)}var xi=X({name:"instantsearch"});function ki(){return"#"}var Ii=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oi(t,e)}(u,be);var e,n,r,i=Si(u);function u(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),Pi(Ri(e=i.call(this)),"client",void 0),Pi(Ri(e),"indexName",void 0),Pi(Ri(e),"insightsClient",void 0),Pi(Ri(e),"onStateChange",null),Pi(Ri(e),"helper",void 0),Pi(Ri(e),"mainHelper",void 0),Pi(Ri(e),"mainIndex",void 0),Pi(Ri(e),"started",void 0),Pi(Ri(e),"templatesConfig",void 0),Pi(Ri(e),"renderState",{}),Pi(Ri(e),"_stalledSearchDelay",void 0),Pi(Ri(e),"_searchStalledTimer",void 0),Pi(Ri(e),"_initialUiState",void 0),Pi(Ri(e),"_initialResults",void 0),Pi(Ri(e),"_createURL",void 0),Pi(Ri(e),"_searchFunction",void 0),Pi(Ri(e),"_mainHelperSearch",void 0),Pi(Ri(e),"middleware",[]),Pi(Ri(e),"sendEventToInsights",void 0),Pi(Ri(e),"status","idle"),Pi(Ri(e),"error",void 0),Pi(Ri(e),"scheduleSearch",K((function(){e.started&&e.mainHelper.search()}))),Pi(Ri(e),"scheduleRender",K((function(){var t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];null!==(t=e.mainHelper)&&void 0!==t&&t.hasPendingRequests()||(clearTimeout(e._searchStalledTimer),e._searchStalledTimer=null,n&&(e.status="idle",e.error=void 0)),e.mainIndex.render({instantSearchInstance:Ri(e)}),e.emit("render")}))),Pi(Ri(e),"onInternalStateChange",K((function(){var t=e.mainIndex.getWidgetUiState({});e.middleware.forEach((function(e){e.instance.onStateChange({uiState:t})}))}))),e.setMaxListeners(100);var n=t.indexName,r=void 0===n?null:n,a=t.numberLocale,s=t.initialUiState,f=void 0===s?{}:s,l=t.routing,h=void 0===l?null:l,v=t.insights,d=void 0!==v&&v,b=t.searchFunction,m=t.stalledSearchDelay,p=void 0===m?200:m,y=t.searchClient,g=void 0===y?null:y,j=t.insightsClient,w=void 0===j?null:j,O=t.onStateChange,S=void 0===O?null:O;if(null===r)throw new Error(xi("The `indexName` option is required."));if(null===g)throw new Error(xi("The `searchClient` option is required."));if("function"!=typeof g.search)throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if("function"==typeof g.addAlgoliaAgent&&g.addAlgoliaAgent("instantsearch.js (".concat(pi,")")),"development"===process.env.NODE_ENV&&c(null===w,"`insightsClient` property has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\n\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/"),w&&"function"!=typeof w)throw new Error(xi("The `insightsClient` option should be a function."));if("development"===process.env.NODE_ENV&&c(!t.searchParameters,"The `searchParameters` option is deprecated and will not be supported in InstantSearch.js 4.x.\n\nYou can replace it with the `configure` widget:\n\n```\nsearch.addWidgets([\n  configure(".concat(JSON.stringify(t.searchParameters,null,2),")\n]);\n```\n\nSee ").concat(Y({name:"configure"}))),e.client=g,e.insightsClient=w,e.indexName=r,e.helper=null,e.mainHelper=null,e.mainIndex=fi({indexName:r}),e.onStateChange=S,e.started=!1,e.templatesConfig={helpers:mi({numberLocale:a}),compileOptions:{}},e._stalledSearchDelay=p,e._searchStalledTimer=null,e._createURL=ki,e._initialUiState=f,e._initialResults=null,b&&("development"===process.env.NODE_ENV&&c(!1,"The `searchFunction` option is deprecated. Use `onStateChange` instead."),e._searchFunction=b),e.sendEventToInsights=o,h){var T="boolean"==typeof h?{}:h;T.$$internal=!0,e.use(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.router,n=void 0===e?qr():e,r=t.stateMapping,i=void 0===r?Jr():r,o=t.$$internal,u=void 0!==o&&o;return function(t){var e=t.instantSearchInstance;e._createURL=function(t){var r=Object.keys(t).reduce((function(e,n){return zr(zr({},e),{},Kr({},n,t[n]))}),e.mainIndex.getWidgetUiState({})),o=i.stateToRoute(r);return n.createURL(o)};var r=void 0,o=e._initialUiState;return{$$type:"ais.router({router:".concat(n.$$type||"__unknown__",", stateMapping:").concat(i.$$type||"__unknown__","})"),$$internal:u,onStateChange:function(t){var e=t.uiState,o=i.stateToRoute(e);void 0!==r&&mt(r,o)||(n.write(o),r=o)},subscribe:function(){e._initialUiState=zr(zr({},o),i.routeToState(n.read())),n.onUpdate((function(t){e.setUiState(i.routeToState(t))}))},started:function(){var t;null===(t=n.start)||void 0===t||t.call(n)},unsubscribe:function(){n.dispose()}}}}(T))}if(d){var R="boolean"==typeof d?{}:d;R.$$internal=!0,e.use(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.insightsClient,n=t.insightsInitParams,r=t.onEvent,i=t.$$internal,u=void 0!==i&&i,a=e;e||null===e||Qt((function(t){var e=t.window,n=e.AlgoliaAnalyticsObject||"aa";"string"==typeof n&&(a=e[n]),a||(e.AlgoliaAnalyticsObject=n,e[n]||(e[n]=function(){e[n].queue||(e[n].queue=[]);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];e[n].queue.push(r)},e[n].version=Kn,e[n].shouldAddScript=!0),a=e[n])}));var s=a||o;return function(t){var e=t.instantSearchInstance,i=e.middleware.filter((function(t){return"ais.insights"===t.instance.$$type&&t.instance.$$internal})).map((function(t){return t.creator}));e.unuse.apply(e,Qn(i));var a=Jn(Z(e.client),2),f=a[0],l=a[1];"development"===process.env.NODE_ENV&&c(Boolean(f&&l),"could not extract Algolia credentials from searchClient in insights middleware.");var h,v,d=void 0,b=void 0;if(Array.isArray(s.queue)){var m=G(s.queue.slice().reverse(),(function(t){return"setUserToken"===Jn(t,1)[0]}))||[],p=Jn(m,2);d=p[1]}return s("getUserToken",null,(function(t,e){b=e})),!n&&Xn(s)||s("init",Bn({appId:f,apiKey:l,partial:!0},n)),{$$type:"ais.insights",$$internal:u,onStateChange:function(){},subscribe:function(){if(s.shouldAddScript){var t="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var n=document.createElement("script");n.async=!0,n.src=Yn,n.onerror=function(){e.emit("error",new Error(t))},document.body.appendChild(n),s.shouldAddScript=!1}catch(n){s.shouldAddScript=!1,e.emit("error",new Error(t))}}},started:function(){s("addAlgoliaAgent","insights-middleware"),v=e.helper,h={userToken:v.state.userToken,clickAnalytics:v.state.clickAnalytics},v.overrideStateWithoutTriggeringChangeEvent(Bn(Bn({},v.state),{},{clickAnalytics:!0})),u||e.scheduleSearch();var t=function(t){if(t){var n=v.state.userToken;v.overrideStateWithoutTriggeringChangeEvent(Bn(Bn({},v.state),{},{userToken:t})),n&&n!==t&&e.scheduleSearch()}},n=oe();n&&t(n),b?(t(b),s("setUserToken",b)):d&&(t(d),s("setUserToken",d)),s("onUserTokenChange",t,{immediate:!0});var i=s;Xn(s)&&(i=function(t,e){return s(t,e,{headers:{"X-Algolia-Application-Id":f,"X-Algolia-API-Key":l}})}),e.sendEventToInsights=function(t){r?r(t,i):t.insightsMethod?(t.payload.algoliaSource=["instantsearch"],"internal"===t.eventModifier&&t.payload.algoliaSource.push("instantsearch-internal"),i(t.insightsMethod,t.payload),"development"===process.env.NODE_ENV&&c(Boolean(v.state.userToken),"\nCannot send event to Algolia Insights because `userToken` is not set.\n\nSee documentation: https://www.algolia.com/doc/guides/building-search-ui/going-further/send-insights-events/js/#setting-the-usertoken\n")):"development"===process.env.NODE_ENV&&c(!1,"Cannot send event to Algolia Insights because `insightsMethod` option is missing.")}},unsubscribe:function(){s("onUserTokenChange",void 0),e.sendEventToInsights=o,v&&h&&(v.overrideStateWithoutTriggeringChangeEvent(Bn(Bn({},v.state),h)),e.scheduleSearch())}}}}(R))}return Qt((function(t){var e,n;return(null===(e=t.window.navigator)||void 0===e||null===(n=e.userAgent)||void 0===n?void 0:n.indexOf("Algolia Crawler"))>-1}),{fallback:function(){return!1}})&&e.use(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.$$internal,n=void 0!==e&&e;return function(t){var e=t.instantSearchInstance,r={widgets:[]},i=document.createElement("meta"),o=document.querySelector("head");return i.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:n,onStateChange:function(){},subscribe:function(){setTimeout((function(){var t=e.client;r.ua=t.transporter&&t.transporter.userAgent?t.transporter.userAgent.value:t._ua,Gn(e.mainIndex.getWidgets(),e,r),e.middleware.forEach((function(t){return r.widgets.push({middleware:!0,type:t.instance.$$type,internal:t.instance.$$internal})})),i.content=JSON.stringify(r),o.appendChild(i)}),0)},started:function(){},unsubscribe:function(){i.remove()}}}}({$$internal:!0})),e}return e=u,n=[{key:"_isSearchStalled",get:function(){return"development"===process.env.NODE_ENV&&c(!1,'`InstantSearch._isSearchStalled` is deprecated and will be removed in InstantSearch.js 5.0.\n\nUse `InstantSearch.status === "stalled"` instead.'),"stalled"===this.status}},{key:"use",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.map((function(e){var n=ji({$$type:"__unknown__",$$internal:!1,subscribe:o,started:o,unsubscribe:o,onStateChange:o},e({instantSearchInstance:t}));return t.middleware.push({creator:e,instance:n}),n}));return this.started&&i.forEach((function(t){t.subscribe(),t.started()})),this}},{key:"unuse",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.middleware.filter((function(t){return e.includes(t.creator)})).forEach((function(t){return t.instance.unsubscribe()})),this.middleware=this.middleware.filter((function(t){return!e.includes(t.creator)})),this}},{key:"EXPERIMENTAL_use",value:function(){return"development"===process.env.NODE_ENV&&c(!1,"The middleware API is now considered stable, so we recommend replacing `EXPERIMENTAL_use` with `use` before upgrading to the next major version."),this.use.apply(this,arguments)}},{key:"addWidget",value:function(t){return"development"===process.env.NODE_ENV&&c(!1,"addWidget will still be supported in 4.x releases, but not further. It is replaced by `addWidgets([widget])`"),this.addWidgets([t])}},{key:"addWidgets",value:function(t){if(!Array.isArray(t))throw new Error(xi("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(t.some((function(t){return"function"!=typeof t.init&&"function"!=typeof t.render})))throw new Error(xi("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(t),this}},{key:"removeWidget",value:function(t){return"development"===process.env.NODE_ENV&&c(!1,"removeWidget will still be supported in 4.x releases, but not further. It is replaced by `removeWidgets([widget])`"),this.removeWidgets([t])}},{key:"removeWidgets",value:function(t){if(!Array.isArray(t))throw new Error(xi("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(t.some((function(t){return"function"!=typeof t.dispose})))throw new Error(xi("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(t),this}},{key:"start",value:function(){var t=this;if(this.started)throw new Error(xi("The `start` method has already been called once."));var e=this.mainHelper||$n(this.client,this.indexName);if(e.search=function(){return t.status="loading",t.scheduleRender(!1),e.searchOnlyWithDerivedHelpers()},this._searchFunction){var n={search:function(){return new Promise(o)}};this._mainHelperSearch=e.search.bind(e),e.search=function(){var r=t.mainIndex.getHelper(),i=$n(n,r.state.index,r.state);return i.once("search",(function(e){var n=e.state;r.overrideStateWithoutTriggeringChangeEvent(n),t._mainHelperSearch()})),i.on("change",(function(t){var e=t.state;r.setState(e)})),t._searchFunction(i),e}}if(e.on("error",(function(e){var n=e.error;if(!(n instanceof Error)){var r=n;n=Object.keys(r).reduce((function(t,e){return t[e]=r[e],t}),new Error(r.message))}n.error=n,t.error=n,t.status="error",t.scheduleRender(!1),t.emit("error",n)})),this.mainHelper=e,this.middleware.forEach((function(t){t.instance.subscribe()})),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){var r=this.scheduleSearch;this.scheduleSearch=K(o),K((function(){t.scheduleSearch=r}))()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach((function(t){t.instance.started()}))}},{key:"dispose",value:function(){var t;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),null===(t=this.mainHelper)||void 0===t||t.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach((function(t){t.instance.unsubscribe()}))}},{key:"scheduleStalledRender",value:function(){var t=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout((function(){t.status="stalled",t.scheduleRender()}),this._stalledSearchDelay))}},{key:"setUiState",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.mainHelper)throw new Error(xi("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var r="function"==typeof t?t(this.mainIndex.getWidgetUiState({})):t;this.onStateChange&&n?this.onStateChange({uiState:r,setUiState:function(t){V("function"==typeof t?t(r):t,e.mainIndex),e.scheduleSearch(),e.onInternalStateChange()}}):(V(r,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.started)throw new Error(xi("The `start` method needs to be called before `createURL`."));return this._createURL(t)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(xi("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}],n&&wi(e.prototype,n),r&&wi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(),Ai=Ii,Ci=function(t){return new Ai(t)};Ci.version=pi,Ci.createInfiniteHitsSessionStorageCache=u((function(){return{read:function(t){var e=t.state,n=Qt((function(t){return t.window.sessionStorage}));if(!n)return null;try{var r=JSON.parse(n.getItem(se));return r&&mt(r.state,ce(e))?r.hits:null}catch(t){if(t instanceof SyntaxError)try{n.removeItem(se)}catch(t){}return null}},write:function(t){var e=t.state,n=t.hits,r=Qt((function(t){return t.window.sessionStorage}));if(r)try{r.setItem(se,JSON.stringify({state:ce(e),hits:n}))}catch(t){}}}}),"import { createInfiniteHitsSessionStorageCache } from 'instantsearch.js/es/lib/infiniteHitsCache'"),Ci.highlight=u(Kt,"import { highlight } from 'instantsearch.js/es/helpers'"),Ci.reverseHighlight=u(Xt,"import { reverseHighlight } from 'instantsearch.js/es/helpers'"),Ci.snippet=u(Zt,"import { snippet } from 'instantsearch.js/es/helpers'"),Ci.reverseSnippet=u(ee,"import { reverseSnippet } from 'instantsearch.js/es/helpers'"),Ci.insights=re,Ci.getInsightsAnonymousUserToken=function(){return"development"===process.env.NODE_ENV&&c(!1,"`getInsightsAnonymousUserToken` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\n\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/"),oe()},Object.defineProperty(Ci,"widgets",{get:function(){throw new ReferenceError("\"instantsearch.widgets\" are not available from the ES build.\n\nTo import the widgets:\n\nimport { searchBox } from 'instantsearch.js/es/widgets'")}}),Object.defineProperty(Ci,"connectors",{get:function(){throw new ReferenceError("\"instantsearch.connectors\" are not available from the ES build.\n\nTo import the connectors:\n\nimport { connectSearchBox } from 'instantsearch.js/es/connectors'")}});var Fi=Ci;function _i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((function(t,e){return Array.isArray(e)?t.concat(e):t.concat([e])}),[]).filter(Boolean).join(" ")}var Hi,qi,Li,Ui,$i,Di={},Mi=[],Bi=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Wi(t,e){for(var n in e)t[n]=e[n];return t}function Ji(t){var e=t.parentNode;e&&e.removeChild(t)}function Qi(t,e,n){var r,i,o,u={};for(o in e)"key"==o?r=e[o]:"ref"==o?i=e[o]:u[o]=e[o];if(arguments.length>2&&(u.children=arguments.length>3?Hi.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(o in t.defaultProps)void 0===u[o]&&(u[o]=t.defaultProps[o]);return Vi(t,u,r,i,null)}function Vi(t,e,n,r,i){var o={type:t,props:e,key:n,ref:r,g:null,j:null,O:0,S:null,T:void 0,R:null,N:null,constructor:void 0,P:i??++Li};return null==i&&null!=qi.vnode&&qi.vnode(o),o}function zi(t){return t.children}function Ki(t,e){this.props=t,this.context=e}function Yi(t,e){if(null==e)return t.j?Yi(t.j,t.j.g.indexOf(t)+1):null;for(var n;e<t.g.length;e++)if(null!=(n=t.g[e])&&null!=n.S)return n.S;return"function"==typeof t.type?Yi(t):null}function Xi(t){var e,n;if(null!=(t=t.j)&&null!=t.R){for(t.S=t.R.base=null,e=0;e<t.g.length;e++)if(null!=(n=t.g[e])&&null!=n.S){t.S=t.R.base=n.S;break}return Xi(t)}}function Gi(t){(!t.T&&(t.T=!0)&&Ui.push(t)&&!Zi.k++||$i!==qi.debounceRendering)&&(($i=qi.debounceRendering)||setTimeout)(Zi)}function Zi(){for(var t;Zi.k=Ui.length;)t=Ui.sort((function(t,e){return t.P.O-e.P.O})),Ui=[],t.some((function(t){var e,n,r,i,o,u;t.T&&(o=(i=(e=t).P).S,(u=e.I)&&(n=[],(r=Wi({},i)).P=i.P+1,ao(u,i,r,e.C,void 0!==u.ownerSVGElement,null!=i.N?[o]:null,n,o??Yi(i),i.N),co(n,i),i.S!=o&&Xi(i)))}))}function to(t,e,n,r,i,o,u,a,c,s){var f,l,h,v,d,b,m,p=r&&r.g||Mi,y=p.length;for(n.g=[],f=0;f<e.length;f++)if(null!=(v=n.g[f]=null==(v=e[f])||"boolean"==typeof v?null:"string"==typeof v||"number"==typeof v||"bigint"==typeof v?Vi(null,v,null,null,v):Array.isArray(v)?Vi(zi,{children:v},null,null,null):v.O>0?Vi(v.type,v.props,v.key,v.ref?v.ref:null,v.P):v)){if(v.j=n,v.O=n.O+1,null===(h=p[f])||h&&v.key==h.key&&v.type===h.type)p[f]=void 0;else for(l=0;l<y;l++){if((h=p[l])&&v.key==h.key&&v.type===h.type){p[l]=void 0;break}h=null}ao(t,v,h=h||Di,i,o,u,a,c,s),d=v.S,(l=v.ref)&&h.ref!=l&&(m||(m=[]),h.ref&&m.push(h.ref,null,v),m.push(l,v.R||d,v)),null!=d?(null==b&&(b=d),"function"==typeof v.type&&v.g===h.g?v.T=c=eo(v,c,t):c=no(t,v,h,p,d,c),"function"==typeof n.type&&(n.T=c)):c&&h.S==c&&c.parentNode!=t&&(c=Yi(h))}for(n.S=b,f=y;f--;)null!=p[f]&&lo(p[f],p[f]);if(m)for(f=0;f<m.length;f++)fo(m[f],m[++f],m[++f])}function eo(t,e,n){for(var r,i=t.g,o=0;i&&o<i.length;o++)(r=i[o])&&(r.j=t,e="function"==typeof r.type?eo(r,e,n):no(n,r,r,i,r.S,e));return e}function no(t,e,n,r,i,o){var u,a,c;if(void 0!==e.T)u=e.T,e.T=void 0;else if(null==n||i!=o||null==i.parentNode)t:if(null==o||o.parentNode!==t)t.appendChild(i),u=null;else{for(a=o,c=0;(a=a.nextSibling)&&c<r.length;c+=1)if(a==i)break t;t.insertBefore(i,o),u=o}return void 0!==u?u:i.nextSibling}function ro(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]=null==n?"":"number"!=typeof n||Bi.test(e)?n:n+"px"}function io(t,e,n,r,i){var o;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||ro(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||ro(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r||t.addEventListener(e,o?uo:oo,o):t.removeEventListener(e,o?uo:oo,o);else if("dangerouslySetInnerHTML"!==e){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=n??"";break t}catch(t){}"function"==typeof n||(null==n||!1===n&&-1==e.indexOf("-")?t.removeAttribute(e):t.setAttribute(e,n))}}function oo(t){this.l[t.type+!1](qi.event?qi.event(t):t)}function uo(t){this.l[t.type+!0](qi.event?qi.event(t):t)}function ao(t,e,n,r,i,o,u,a,c){var s,f,l,h,v,d,b,m,p,y,g,j,w,O,S,T=e.type;if(void 0!==e.constructor)return null;null!=n.N&&(c=n.N,a=e.S=n.S,e.N=null,o=[a]),(s=qi.O)&&s(e);try{t:if("function"==typeof T){if(m=e.props,p=(s=T.contextType)&&r[s.R],y=s?p?p.props.value:s.j:r,n.R?b=(f=e.R=n.R).j=f.F:("prototype"in T&&T.prototype.render?e.R=f=new T(m,y):(e.R=f=new Ki(m,y),f.constructor=T,f.render=ho),p&&p.sub(f),f.props=m,f.state||(f.state={}),f.context=y,f.C=r,l=f.T=!0,f.N=[],f._sb=[]),null==f._&&(f._=f.state),null!=T.getDerivedStateFromProps&&(f._==f.state&&(f._=Wi({},f._)),Wi(f._,T.getDerivedStateFromProps(m,f._))),h=f.props,v=f.state,l)null==T.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.N.push(f.componentDidMount);else{if(null==T.getDerivedStateFromProps&&m!==h&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(m,y),!f.S&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(m,f._,y)||e.P===n.P){for(f.props=m,f.state=f._,e.P!==n.P&&(f.T=!1),f.P=e,e.S=n.S,e.g=n.g,e.g.forEach((function(t){t&&(t.j=e)})),g=0;g<f._sb.length;g++)f.N.push(f._sb[g]);f._sb=[],f.N.length&&u.push(f);break t}null!=f.componentWillUpdate&&f.componentWillUpdate(m,f._,y),null!=f.componentDidUpdate&&f.N.push((function(){f.componentDidUpdate(h,v,d)}))}if(f.context=y,f.props=m,f.P=e,f.I=t,j=qi.k,w=0,"prototype"in T&&T.prototype.render){for(f.state=f._,f.T=!1,j&&j(e),s=f.render(f.props,f.state,f.context),O=0;O<f._sb.length;O++)f.N.push(f._sb[O]);f._sb=[]}else do{f.T=!1,j&&j(e),s=f.render(f.props,f.state,f.context),f.state=f._}while(f.T&&++w<25);f.state=f._,null!=f.getChildContext&&(r=Wi(Wi({},r),f.getChildContext())),l||null==f.getSnapshotBeforeUpdate||(d=f.getSnapshotBeforeUpdate(h,v)),S=null!=s&&s.type===zi&&null==s.key?s.props.children:s,to(t,Array.isArray(S)?S:[S],e,n,r,i,o,u,a,c),f.base=e.S,e.N=null,f.N.length&&u.push(f),b&&(f.F=f.j=null),f.S=!1}else null==o&&e.P===n.P?(e.g=n.g,e.S=n.S):e.S=so(n.S,e,n,r,i,o,u,c);(s=qi.diffed)&&s(e)}catch(t){e.P=null,(c||null!=o)&&(e.S=a,e.N=!!c,o[o.indexOf(a)]=null),qi.S(t,e,n)}}function co(t,e){qi.R&&qi.R(e,t),t.some((function(e){try{t=e.N,e.N=[],t.some((function(t){t.call(e)}))}catch(t){qi.S(t,e.P)}}))}function so(t,e,n,r,i,o,u,a){var c,s,f,l=n.props,h=e.props,v=e.type,d=0;if("svg"===v&&(i=!0),null!=o)for(;d<o.length;d++)if((c=o[d])&&"setAttribute"in c==!!v&&(v?c.localName===v:3===c.nodeType)){t=c,o[d]=null;break}if(null==t){if(null===v)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,h.is&&h),o=null,a=!1}if(null===v)l===h||a&&t.data===h||(t.data=h);else{if(o=o&&Hi.call(t.childNodes),s=(l=n.props||Di).dangerouslySetInnerHTML,f=h.dangerouslySetInnerHTML,!a){if(null!=o)for(l={},d=0;d<t.attributes.length;d++)l[t.attributes[d].name]=t.attributes[d].value;(f||s)&&(f&&(s&&f.H==s.H||f.H===t.innerHTML)||(t.innerHTML=f&&f.H||""))}if(function(t,e,n,r,i){var o;for(o in n)"children"===o||"key"===o||o in e||io(t,o,null,n[o],r);for(o in e)i&&"function"!=typeof e[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===e[o]||io(t,o,e[o],n[o],r)}(t,h,l,i,a),f)e.g=[];else if(d=e.props.children,to(t,Array.isArray(d)?d:[d],e,n,r,i&&"foreignObject"!==v,o,u,o?o[0]:n.g&&Yi(n,0),a),null!=o)for(d=o.length;d--;)null!=o[d]&&Ji(o[d]);a||("value"in h&&void 0!==(d=h.value)&&(d!==t.value||"progress"===v&&!d||"option"===v&&d!==l.value)&&io(t,"value",d,l.value,!1),"checked"in h&&void 0!==(d=h.checked)&&d!==t.checked&&io(t,"checked",d,l.checked,!1))}return t}function fo(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){qi.S(t,n)}}function lo(t,e,n){var r,i;if(qi.unmount&&qi.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.S||fo(r,null,e)),null!=(r=t.R)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){qi.S(t,e)}r.base=r.I=null,t.R=void 0}if(r=t.g)for(i=0;i<r.length;i++)r[i]&&lo(r[i],e,n||"function"!=typeof t.type);n||null==t.S||Ji(t.S),t.j=t.S=t.T=void 0}function ho(t,e,n){return this.constructor(t,n)}function vo(t,e,n){var r,i,o;qi.j&&qi.j(t,e),i=(r="function"==typeof n)?null:n&&n.g||e.g,o=[],ao(e,t=(!r&&n||e).g=Qi(zi,null,[t]),i||Di,Di,void 0!==e.ownerSVGElement,!r&&n?[n]:i?null:e.firstChild?Hi.call(e.childNodes):null,o,!r&&n?n:i?i.S:e.firstChild,r),co(o,t)}function bo(t){return bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(t)}function mo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function po(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==bo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==bo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===bo(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yo(t){return function(t){if(Array.isArray(t))return go(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return go(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return go(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function go(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jo(t){var e=t.defaultTemplates,n=t.templates,r=t.templatesConfig,i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=pt([].concat(yo(Object.keys(t||{})),yo(Object.keys(e))));return n.reduce((function(n,r){var i=t?t[r]:void 0,o=e[r],u=void 0!==o&&o!==i;return n.templates[r]=u?o:i,n.useCustomCompileOptions[r]=u,n}),{templates:{},useCustomCompileOptions:{}})}(e,n);return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mo(Object(n),!0).forEach((function(e){po(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({templatesConfig:r},i)}Hi=Mi.slice,qi={S:function(t,e,n,r){for(var i,o,u;e=e.j;)if((i=e.R)&&!i.j)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(t)),u=i.T),null!=i.componentDidCatch&&(i.componentDidCatch(t,r||{}),u=i.T),u)return i.F=i}catch(e){t=e}throw t}},Li=0,Ki.prototype.setState=function(t,e){var n;n=null!=this._&&this._!==this.state?this._:this._=Wi({},this.state),"function"==typeof t&&(t=t(Wi({},n),this.props)),t&&Wi(n,t),null!=t&&this.P&&(e&&this._sb.push(e),Gi(this))},Ki.prototype.forceUpdate=function(t){this.P&&(this.S=!0,t&&this.N.push(t),Gi(this))},Ki.prototype.render=zi,Ui=[],Zi.k=0;var wo={};!function(t){var e=/\S/,n=/\"/g,r=/\n/g,i=/\r/g,o=/\\/g,u=/\u2028/,a=/\u2029/;function c(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function s(t,e,n){if(e.charAt(n)!=t.charAt(0))return!1;for(var r=1,i=t.length;r<i;r++)if(e.charAt(n+r)!=t.charAt(r))return!1;return!0}t.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},t.scan=function(n,r){var i,o=n.length,u=0,a=null,f=null,l="",h=[],v=!1,d=0,b=0,m="{{",p="}}";function y(){l.length>0&&(h.push({tag:"_t",text:new String(l)}),l="")}function g(n,r){if(y(),n&&function(){for(var n=!0,r=b;r<h.length;r++)if(!(n=t.tags[h[r].tag]<t.tags._v||"_t"==h[r].tag&&null===h[r].text.match(e)))return!1;return n}())for(var i,o=b;o<h.length;o++)h[o].text&&((i=h[o+1])&&">"==i.tag&&(i.indent=h[o].text.toString()),h.splice(o,1));else r||h.push({tag:"\n"});v=!1,b=h.length}function j(t,e){var n="="+p,r=t.indexOf(n,e),i=c(t.substring(t.indexOf("=",e)+1,r)).split(" ");return m=i[0],p=i[i.length-1],r+n.length-1}for(r&&(r=r.split(" "),m=r[0],p=r[1]),d=0;d<o;d++)0==u?s(m,n,d)?(--d,y(),u=1):"\n"==n.charAt(d)?g(v):l+=n.charAt(d):1==u?(d+=m.length-1,"="==(a=(f=t.tags[n.charAt(d+1)])?n.charAt(d+1):"_v")?(d=j(n,d),u=0):(f&&d++,u=2),v=d):s(p,n,d)?(h.push({tag:a,n:c(l),otag:m,ctag:p,i:"/"==a?v-m.length:d+p.length}),l="",d+=p.length-1,u=0,"{"==a&&("}}"==p?d++:"}"===(i=h[h.length-1]).n.substr(i.n.length-1)&&(i.n=i.n.substring(0,i.n.length-1)))):l+=n.charAt(d);return g(v,!0),h};var f={_t:!0,"\n":!0,$:!0,"/":!0};function l(e,n,r,i){var o,u=[],a=null,c=null;for(o=r[r.length-1];e.length>0;){if(c=e.shift(),o&&"<"==o.tag&&!(c.tag in f))throw new Error("Illegal content in < super tag.");if(t.tags[c.tag]<=t.tags.$||h(c,i))r.push(c),c.nodes=l(e,c.tag,r,i);else{if("/"==c.tag){if(0===r.length)throw new Error("Closing tag without opener: /"+c.n);if(a=r.pop(),c.n!=a.n&&!v(c.n,a.n,i))throw new Error("Nesting error: "+a.n+" vs. "+c.n);return a.end=c.i,u}"\n"==c.tag&&(c.last=0==e.length||"\n"==e[0].tag)}u.push(c)}if(r.length>0)throw new Error("missing closing tag: "+r.pop().n);return u}function h(t,e){for(var n=0,r=e.length;n<r;n++)if(e[n].o==t.n)return t.tag="#",!0}function v(t,e,n){for(var r=0,i=n.length;r<i;r++)if(n[r].c==t&&n[r].o==e)return!0}function d(t){var e=[];for(var n in t.partials)e.push('"'+m(n)+'":{name:"'+m(t.partials[n].name)+'", '+d(t.partials[n])+"}");return"partials: {"+e.join(",")+"}, subs: "+function(t){var e=[];for(var n in t)e.push('"'+m(n)+'": function(c,p,t,i) {'+t[n]+"}");return"{ "+e.join(",")+" }"}(t.subs)}t.stringify=function(e,n,r){return"{code: function (c,p,i) { "+t.wrapMain(e.code)+" },"+d(e)+"}"};var b=0;function m(t){return t.replace(o,"\\\\").replace(n,'\\"').replace(r,"\\n").replace(i,"\\r").replace(u,"\\u2028").replace(a,"\\u2029")}function p(t){return~t.indexOf(".")?"d":"f"}function y(t,e){var n="<"+(e.prefix||"")+t.n+b++;return e.partials[n]={name:t.n,partials:{}},e.code+='t.b(t.rp("'+m(n)+'",c,p,"'+(t.indent||"")+'"));',n}function g(t,e){e.code+="t.b(t.t(t."+p(t.n)+'("'+m(t.n)+'",c,p,0)));'}function j(t){return"t.b("+t+");"}t.generate=function(e,n,r){b=0;var i={code:"",subs:{},partials:{}};return t.walk(e,i),r.asString?this.stringify(i,n,r):this.makeTemplate(i,n,r)},t.wrapMain=function(t){return'var t=this;t.b(i=i||"");'+t+"return t.fl();"},t.template=t.Template,t.makeTemplate=function(t,e,n){var r=this.makePartials(t);return r.code=new Function("c","p","i",this.wrapMain(t.code)),new this.template(r,e,this,n)},t.makePartials=function(t){var e,n={subs:{},partials:t.partials,name:t.name};for(e in n.partials)n.partials[e]=this.makePartials(n.partials[e]);for(e in t.subs)n.subs[e]=new Function("c","p","t","i",t.subs[e]);return n},t.codegen={"#":function(e,n){n.code+="if(t.s(t."+p(e.n)+'("'+m(e.n)+'",c,p,1),c,p,0,'+e.i+","+e.end+',"'+e.otag+" "+e.ctag+'")){t.rs(c,p,function(c,p,t){',t.walk(e.nodes,n),n.code+="});c.pop();}"},"^":function(e,n){n.code+="if(!t.s(t."+p(e.n)+'("'+m(e.n)+'",c,p,1),c,p,1,0,0,"")){',t.walk(e.nodes,n),n.code+="};"},">":y,"<":function(e,n){var r={partials:{},code:"",subs:{},inPartial:!0};t.walk(e.nodes,r);var i=n.partials[y(e,n)];i.subs=r.subs,i.partials=r.partials},$:function(e,n){var r={subs:{},code:"",partials:n.partials,prefix:e.n};t.walk(e.nodes,r),n.subs[e.n]=r.code,n.inPartial||(n.code+='t.sub("'+m(e.n)+'",c,p,i);')},"\n":function(t,e){e.code+=j('"\\n"'+(t.last?"":" + i"))},_v:function(t,e){e.code+="t.b(t.v(t."+p(t.n)+'("'+m(t.n)+'",c,p,0)));'},_t:function(t,e){e.code+=j('"'+m(t.text)+'"')},"{":g,"&":g},t.walk=function(e,n){for(var r,i=0,o=e.length;i<o;i++)(r=t.codegen[e[i].tag])&&r(e[i],n);return n},t.parse=function(t,e,n){return l(t,0,[],(n=n||{}).sectionTags||[])},t.cache={},t.cacheKey=function(t,e){return[t,!!e.asString,!!e.disableLambda,e.delimiters,!!e.modelGet].join("||")},t.compile=function(e,n){n=n||{};var r=t.cacheKey(e,n),i=this.cache[r];if(i){var o=i.partials;for(var u in o)delete o[u].instance;return i}return i=this.generate(this.parse(this.scan(e,n.delimiters),e,n),e,n),this.cache[r]=i}}(wo);var Oo={};!function(t){function e(t,e,n){var r;return e&&"object"==typeof e&&(void 0!==e[t]?r=e[t]:n&&e.get&&"function"==typeof e.get&&(r=e.get(t))),r}t.Template=function(t,e,n,r){t=t||{},this.r=t.code||this.r,this.c=n,this.options=r||{},this.text=e||"",this.partials=t.partials||{},this.subs=t.subs||{},this.buf=""},t.Template.prototype={r:function(t,e,n){return""},v:function(t){return t=c(t),a.test(t)?t.replace(n,"&amp;").replace(r,"&lt;").replace(i,"&gt;").replace(o,"&#39;").replace(u,"&quot;"):t},t:c,render:function(t,e,n){return this.ri([t],e||{},n)},ri:function(t,e,n){return this.r(t,e,n)},ep:function(t,e){var n=this.partials[t],r=e[n.name];if(n.instance&&n.base==r)return n.instance;if("string"==typeof r){if(!this.c)throw new Error("No compiler available.");r=this.c.compile(r,this.options)}if(!r)return null;if(this.partials[t].base=r,n.subs){for(key in e.stackText||(e.stackText={}),n.subs)e.stackText[key]||(e.stackText[key]=void 0!==this.activeSub&&e.stackText[this.activeSub]?e.stackText[this.activeSub]:this.text);r=function(t,e,n,r,i,o){function u(){}function a(){}var c;u.prototype=t,a.prototype=t.subs;var s=new u;for(c in s.subs=new a,s.subsText={},s.buf="",r=r||{},s.stackSubs=r,s.subsText=o,e)r[c]||(r[c]=e[c]);for(c in r)s.subs[c]=r[c];for(c in i=i||{},s.stackPartials=i,n)i[c]||(i[c]=n[c]);for(c in i)s.partials[c]=i[c];return s}(r,n.subs,n.partials,this.stackSubs,this.stackPartials,e.stackText)}return this.partials[t].instance=r,r},rp:function(t,e,n,r){var i=this.ep(t,n);return i?i.ri(e,n,r):""},rs:function(t,e,n){var r=t[t.length-1];if(s(r))for(var i=0;i<r.length;i++)t.push(r[i]),n(t,e,this),t.pop();else n(t,e,this)},s:function(t,e,n,r,i,o,u){var a;return(!s(t)||0!==t.length)&&("function"==typeof t&&(t=this.ms(t,e,n,r,i,o,u)),a=!!t,!r&&a&&e&&e.push("object"==typeof t?t:e[e.length-1]),a)},d:function(t,n,r,i){var o,u=t.split("."),a=this.f(u[0],n,r,i),c=this.options.modelGet,f=null;if("."===t&&s(n[n.length-2]))a=n[n.length-1];else for(var l=1;l<u.length;l++)void 0!==(o=e(u[l],a,c))?(f=a,a=o):a="";return!(i&&!a)&&(i||"function"!=typeof a||(n.push(f),a=this.mv(a,n,r),n.pop()),a)},f:function(t,n,r,i){for(var o=!1,u=!1,a=this.options.modelGet,c=n.length-1;c>=0;c--)if(void 0!==(o=e(t,n[c],a))){u=!0;break}return u?(i||"function"!=typeof o||(o=this.mv(o,n,r)),o):!i&&""},ls:function(t,e,n,r,i){var o=this.options.delimiters;return this.options.delimiters=i,this.b(this.ct(c(t.call(e,r)),e,n)),this.options.delimiters=o,!1},ct:function(t,e,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(t,this.options).render(e,n)},b:function(t){this.buf+=t},fl:function(){var t=this.buf;return this.buf="",t},ms:function(t,e,n,r,i,o,u){var a,c=e[e.length-1],s=t.call(c);return"function"==typeof s?!!r||(a=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(s,c,n,a.substring(i,o),u)):s},mv:function(t,e,n){var r=e[e.length-1],i=t.call(r);return"function"==typeof i?this.ct(c(i.call(r)),r,n):i},sub:function(t,e,n,r){var i=this.subs[t];i&&(this.activeSub=t,i(e,n,this,r),this.activeSub=!1)}};var n=/&/g,r=/</g,i=/>/g,o=/\'/g,u=/\"/g,a=/[&<>\"\']/;function c(t){return String(t??"")}var s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}(Oo);var So=wo;So.Template=Oo.Template,So.template=So.Template;var To=t(So),Ro=function(t,e,n,r){var i;e[0]=0;for(var o=1;o<e.length;o++){var u=e[o++],a=e[o]?(e[0]|=u?1:2,n[e[o++]]):e[++o];3===u?r[0]=a:4===u?r[1]=Object.assign(r[1]||{},a):5===u?(r[1]=r[1]||{})[e[++o]]=a:6===u?r[1][e[++o]]+=a+"":u?(i=t.apply(a,Ro(t,a,n,["",null])),r.push(i),a[0]?e[0]|=2:(e[o-2]=0,e[o]=i)):r.push(a)}return r},No=new Map;var Po=function(t){var e=No.get(this);return e||(e=new Map,No.set(this,e)),(e=Ro(this,e.get(t)||(e.set(t,e=function(t){for(var e,n,r=1,i="",o="",u=[0],a=function(t){1===r&&(t||(i=i.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?u.push(0,t,i):3===r&&(t||i)?(u.push(3,t,i),r=2):2===r&&"..."===i&&t?u.push(4,t,0):2===r&&i&&!t?u.push(5,0,!0,i):r>=5&&((i||!t&&5===r)&&(u.push(r,0,i,n),r=6),t&&(u.push(r,t,0,n),r=6)),i=""},c=0;c<t.length;c++){c&&(1===r&&a(),a(c));for(var s=0;s<t[c].length;s++)e=t[c][s],1===r?"<"===e?(a(),u=[u],r=3):i+=e:4===r?"--"===i&&">"===e?(r=1,i=""):i=e+i[0]:o?e===o?o="":i+=e:'"'===e||"'"===e?o=e:">"===e?(a(),r=1):r&&("="===e?(r=5,n=i,i=""):"/"===e&&(r<5||">"===t[c][s+1])?(a(),3===r&&(u=u[0]),r=u,(u=u[0]).push(2,0,r),r=0):" "===e||"\t"===e||"\n"===e||"\r"===e?(a(),r=2):i+=e),3===r&&"!--"===i&&(r=4,u=u[0])}return a(),u}(t)),e),arguments,[])).length>1?e:e[0]}.bind(Qi);function Eo(){return Eo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eo.apply(this,arguments)}function xo(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var ko=["parts","highlightedTagName","nonHighlightedTagName","separator","className","classNames"];var Io,Ao,Co,Fo,_o=(Ao=(Io={createElement:Qi,Fragment:zi}).createElement,Co=Io.Fragment,Fo=function(t){var e=t.createElement;return function(t){var n=t.classNames,r=t.children,i=t.highlightedTagName,o=t.isHighlighted,u=t.nonHighlightedTagName;return e(o?i:u,{className:o?n.highlighted:n.nonHighlighted},r)}}({createElement:Ao,Fragment:Co}),function(t){var e=t.parts,n=t.highlightedTagName,r=void 0===n?"mark":n,i=t.nonHighlightedTagName,o=void 0===i?"span":i,u=t.separator,a=void 0===u?", ":u,c=t.className,s=t.classNames,f=void 0===s?{}:s,l=xo(t,ko);return Ao("span",Eo({},l,{className:_i(f.root,c)}),e.map((function(t,n){var i=n===e.length-1;return Ao(Co,{key:n},t.map((function(t,e){return Ao(Fo,{key:e,classNames:f,highlightedTagName:r,nonHighlightedTagName:o,isHighlighted:t.isHighlighted},t.value)})),!i&&Ao("span",{className:f.separator},a))})))}),Ho=["classNames"];function qo(){return qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qo.apply(this,arguments)}function Lo(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Uo(t){var e=t.classNames,n=void 0===e?{}:e,r=Lo(t,Ho);return Qi(_o,qo({classNames:{root:_i("ais-Highlight",n.root),highlighted:_i("ais-Highlight-highlighted",n.highlighted),nonHighlighted:_i("ais-Highlight-nonHighlighted",n.nonHighlighted),separator:_i("ais-Highlight-separator",n.separator)}},r))}var $o=["hit","attribute","cssClasses"];function Do(){return Do=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Do.apply(this,arguments)}function Mo(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bo(t){var e=t.hit,n=t.attribute,r=t.cssClasses,i=Mo(t,$o),o=Vt(it(e._highlightResult,n)||[]);"development"===process.env.NODE_ENV&&c(Boolean(o.length),'Could not enable highlight for "'.concat(n.toString(),'", will display an empty string.\nPlease check whether this attribute exists and is either searchable or specified in `attributesToHighlight`.\n\nSee: https://alg.li/highlighting\n'));var u=o.map((function(t){return et(S(t.value||""))}));return Qi(Uo,Do({},i,{parts:u,classNames:r}))}var Wo=["classNames"];function Jo(){return Jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jo.apply(this,arguments)}function Qo(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vo(t){var e=t.classNames,n=void 0===e?{}:e,r=Qo(t,Wo);return Qi(_o,Jo({classNames:{root:_i("ais-ReverseHighlight",n.root),highlighted:_i("ais-ReverseHighlight-highlighted",n.highlighted),nonHighlighted:_i("ais-ReverseHighlight-nonHighlighted",n.nonHighlighted),separator:_i("ais-ReverseHighlight-separator",n.separator)}},r))}function zo(t){return zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zo(t)}var Ko=["hit","attribute","cssClasses"],Yo=["isHighlighted"];function Xo(){return Xo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xo.apply(this,arguments)}function Go(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Go(Object(n),!0).forEach((function(e){tu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Go(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function tu(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==zo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==zo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===zo(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eu(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nu(t){var e=t.hit,n=t.attribute,r=t.cssClasses,i=eu(t,Ko),o=Vt(it(e._highlightResult,n)||[]);"development"===process.env.NODE_ENV&&c(Boolean(o.length),'Could not enable highlight for "'.concat(n.toString(),'", will display an empty string.\nPlease check whether this attribute exists and is either searchable or specified in `attributesToHighlight`.\n\nSee: https://alg.li/highlighting\n'));var u=o.map((function(t){return et(S(t.value||"")).map((function(t){var e=t.isHighlighted;return Zo(Zo({},eu(t,Yo)),{},{isHighlighted:!e})}))}));return Qi(Vo,Xo({},i,{parts:u,classNames:r}))}var ru=["classNames"];function iu(){return iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iu.apply(this,arguments)}function ou(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uu(t){var e=t.classNames,n=void 0===e?{}:e,r=ou(t,ru);return Qi(_o,iu({classNames:{root:_i("ais-ReverseSnippet",n.root),highlighted:_i("ais-ReverseSnippet-highlighted",n.highlighted),nonHighlighted:_i("ais-ReverseSnippet-nonHighlighted",n.nonHighlighted),separator:_i("ais-ReverseSnippet-separator",n.separator)}},r))}function au(t){return au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(t)}var cu=["hit","attribute","cssClasses"],su=["isHighlighted"];function fu(){return fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fu.apply(this,arguments)}function lu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lu(Object(n),!0).forEach((function(e){vu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vu(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==au(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==au(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===au(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function du(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bu(t){var e=t.hit,n=t.attribute,r=t.cssClasses,i=du(t,cu),o=Vt(it(e._snippetResult,n)||[]);"development"===process.env.NODE_ENV&&c(Boolean(o.length),'Could not enable snippet for "'.concat(n.toString(),'", will display an empty string.\nPlease check whether this attribute exists and is specified in `attributesToSnippet`.\n\nSee: https://alg.li/highlighting\n'));var u=o.map((function(t){return et(S(t.value||"")).map((function(t){var e=t.isHighlighted;return hu(hu({},du(t,su)),{},{isHighlighted:!e})}))}));return Qi(uu,fu({},i,{parts:u,classNames:r}))}var mu=["classNames"];function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pu.apply(this,arguments)}function yu(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gu(t){var e=t.classNames,n=void 0===e?{}:e,r=yu(t,mu);return Qi(_o,pu({classNames:{root:_i("ais-Snippet",n.root),highlighted:_i("ais-Snippet-highlighted",n.highlighted),nonHighlighted:_i("ais-Snippet-nonHighlighted",n.nonHighlighted),separator:_i("ais-Snippet-separator",n.separator)}},r))}var ju=["hit","attribute","cssClasses"];function wu(){return wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wu.apply(this,arguments)}function Ou(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Su(t){var e=t.hit,n=t.attribute,r=t.cssClasses,i=Ou(t,ju),o=Vt(it(e._snippetResult,n)||[]);"development"===process.env.NODE_ENV&&c(Boolean(o.length),'Could not enable snippet for "'.concat(n.toString(),'", will display an empty string.\nPlease check whether this attribute exists and is specified in `attributesToSnippet`.\n\nSee: https://alg.li/highlighting\n'));var u=o.map((function(t){return et(S(t.value||""))}));return Qi(gu,wu({},i,{parts:u,classNames:r}))}function Tu(t){return Tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(t)}function Ru(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ru(Object(n),!0).forEach((function(e){Pu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ru(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Pu(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Tu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Tu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Tu(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eu(t){var e=t.templates,n=t.templateKey,r=t.compileOptions,i=t.helpers,o=t.data,u=t.bindEvent,a=t.sendEvent,c=e[n];if("string"!=typeof c&&"function"!=typeof c)throw new Error("Template must be 'string' or 'function', was '".concat(Tu(c),"' (key: ").concat(n,")"));if("function"==typeof c){var s=u||{};return s.html=Po,s.sendEvent=a,s.components={Highlight:Bo,ReverseHighlight:nu,Snippet:Su,ReverseSnippet:bu},c(o,s)}var f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return Object.keys(t).reduce((function(r,i){return Nu(Nu({},r),{},Pu({},i,(function(){var r=this;return function(o){return t[i].call(n,o,(function(t){return To.compile(t,e).render(r)}))}})))}),{})}(i,r,o);return To.compile(c,r).render(Nu(Nu({},o),{},{helpers:f})).replace(/[ \n\r\t\f\xA0]+/g,(function(t){return t.replace(/(^|\xA0+)[^\xA0]+/g,"$1 ")})).trim()}function xu(){return xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xu.apply(this,arguments)}function ku(t){return ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(t)}function Iu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Au(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qu(r.key),r)}}function Cu(t,e){return Cu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Cu(t,e)}function Fu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Hu(t);if(e){var i=Hu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _u(this,n)}}function _u(t,e){if(e&&("object"===ku(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Hu(t){return Hu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hu(t)}function qu(t){var e=function(t,e){if("object"!==ku(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ku(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ku(e)?e:String(e)}var Lu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cu(t,e)}(o,Ki);var e,n,r,i=Fu(o);function o(){return Iu(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"shouldComponentUpdate",value:function(t){return!mt(this.props.data,t.data)||this.props.templateKey!==t.templateKey||!mt(this.props.rootProps,t.rootProps)}},{key:"render",value:function(){var t=this;if("development"===process.env.NODE_ENV){var e=Object.keys(this.props.templates).filter((function(e){return"function"!=typeof t.props.templates[e]}));"development"===process.env.NODE_ENV&&c(0===e.length,"Hogan.js and string-based templates are deprecated and will not be supported in InstantSearch.js 5.x.\n\nYou can replace them with function-form templates and use either the provided `html` function or JSX templates.\n\nString-based templates: ".concat(e.join(", "),".\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/upgrade-guides/js/#upgrade-templates"))}var n=this.props.rootTagName,r=this.props.useCustomCompileOptions[this.props.templateKey]?this.props.templatesConfig.compileOptions:{},i=Eu({templates:this.props.templates,templateKey:this.props.templateKey,compileOptions:r,helpers:this.props.templatesConfig.helpers,data:this.props.data,bindEvent:this.props.bindEvent,sendEvent:this.props.sendEvent});return null===i?null:"object"===ku(i)?Qi(n,this.props.rootProps,i):Qi(n,xu({},this.props.rootProps,{dangerouslySetInnerHTML:{H:i}}))}}])&&Au(e.prototype,n),r&&Au(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}();!function(t,e,n){(e=qu(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Lu,"defaultProps",{data:{},rootTagName:"div",useCustomCompileOptions:{},templates:{},templatesConfig:{}});var Uu=Lu;function $u(t){return $u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(t)}function Du(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Mu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Du(Object(n),!0).forEach((function(e){Bu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Du(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bu(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==$u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==$u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===$u(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wu=X({name:"configure",connector:!0});function Ju(t,e){return t.setQueryParameters(Object.keys(e.searchParameters).reduce((function(t,e){return Mu(Mu({},t),{},Bu({},e,void 0))}),{}))}var Qu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return function(n){if(!n||!R(n.searchParameters))throw new Error(Wu("The `searchParameters` option expects an object."));var r={};return{$$type:"ais.configure",init:function(e){var n=e.instantSearchInstance;t(Mu(Mu({},this.getWidgetRenderState(e)),{},{instantSearchInstance:n}),!0)},render:function(e){var n=e.instantSearchInstance;t(Mu(Mu({},this.getWidgetRenderState(e)),{},{instantSearchInstance:n}),!1)},dispose:function(t){var r=t.state;return e(),Ju(r,n)},getRenderState:function(t,e){var n,r=this.getWidgetRenderState(e);return Mu(Mu({},t),{},{configure:Mu(Mu({},r),{},{widgetParams:Mu(Mu({},r.widgetParams),{},{searchParameters:_t(new $n.SearchParameters(null===(n=t.configure)||void 0===n?void 0:n.widgetParams.searchParameters),new $n.SearchParameters(r.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(t){var e=t.helper;return r.refine||(r.refine=function(t){return function(e){var r=Ju(t.state,n),i=_t(r,new $n.SearchParameters(e));n.searchParameters=e,t.setState(i).search()}}(e)),{refine:r.refine,widgetParams:n}},getWidgetSearchParameters:function(t,e){var r=e.uiState;return _t(t,new $n.SearchParameters(Mu(Mu({},r.configure),n.searchParameters)))},getWidgetUiState:function(t){return Mu(Mu({},t),{},{configure:Mu(Mu({},t.configure),n.searchParameters)})}}}};function Vu(t){return Vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(t)}function zu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ku(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zu(Object(n),!0).forEach((function(e){Yu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Yu(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Vu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Vu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Vu(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xu=function(t){return Ku(Ku({},Qu(o)({searchParameters:t})),{},{$$widgetType:"ais.configure"})};function Gu(t){return Gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(t)}function Zu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ta(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aa(r.key),r)}}function ea(t,e){return ea=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ea(t,e)}function na(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=oa(t);if(e){var i=oa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ra(this,n)}}function ra(t,e){if(e&&("object"===Gu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ia(t)}function ia(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oa(t){return oa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oa(t)}function ua(t,e,n){return(e=aa(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aa(t){var e=function(t,e){if("object"!==Gu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Gu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Gu(e)?e:String(e)}var ca={query:"",showSubmit:!0,showReset:!0,showLoadingIndicator:!0,autofocus:!1,searchAsYouType:!0,isSearchStalled:!1,disabled:!1,onChange:o,onSubmit:o,onReset:o,refine:o},sa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ea(t,e)}(o,Ki);var e,n,r,i=na(o);function o(){var t;Zu(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ua(ia(t=i.call.apply(i,[this].concat(n))),"state",{query:t.props.query,focused:!1}),ua(ia(t),"input",{current:null}),ua(ia(t),"onInput",(function(e){var n=t.props,r=n.searchAsYouType,i=n.refine,o=n.onChange,u=e.target.value;r&&i(u),t.setState({query:u}),o(e)})),ua(ia(t),"onSubmit",(function(e){var n=t.props,r=n.searchAsYouType,i=n.refine,o=n.onSubmit;return e.preventDefault(),e.stopPropagation(),t.input.current&&t.input.current.blur(),r||i(t.state.query),o(e),!1})),ua(ia(t),"onReset",(function(e){var n=t.props,r=n.refine,i=n.onReset;t.input.current&&t.input.current.focus(),r(""),t.setState({query:""}),i(e)})),ua(ia(t),"onBlur",(function(){t.setState({focused:!1})})),ua(ia(t),"onFocus",(function(){t.setState({focused:!0})})),t}return e=o,(n=[{key:"resetInput",value:function(){this.setState({query:""})}},{key:"componentWillReceiveProps",value:function(t){this.state.focused||t.query===this.state.query||this.setState({query:t.query})}},{key:"render",value:function(){var t=this.props,e=t.cssClasses,n=t.placeholder,r=t.autofocus,i=t.showSubmit,o=t.showReset,u=t.showLoadingIndicator,a=t.templates,c=t.isSearchStalled;return Qi("div",{className:e.root},Qi("form",{action:"",role:"search",className:e.form,noValidate:!0,onSubmit:this.onSubmit,onReset:this.onReset},Qi("input",{ref:this.input,value:this.state.query,disabled:this.props.disabled,className:e.input,type:"search",placeholder:n,autoFocus:r,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",maxLength:512,onInput:this.onInput,onBlur:this.onBlur,onFocus:this.onFocus}),Qi(Uu,{templateKey:"submit",rootTagName:"button",rootProps:{className:e.submit,type:"submit",title:"Submit the search query.",hidden:!i},templates:a,data:{cssClasses:e}}),Qi(Uu,{templateKey:"reset",rootTagName:"button",rootProps:{className:e.reset,type:"reset",title:"Clear the search query.",hidden:!(o&&this.state.query.trim()&&!c)},templates:a,data:{cssClasses:e}}),u&&Qi(Uu,{templateKey:"loadingIndicator",rootTagName:"span",rootProps:{className:e.loadingIndicator,hidden:!c},templates:a,data:{cssClasses:e}})))}}])&&ta(e.prototype,n),r&&ta(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}();ua(sa,"defaultProps",ca);var fa=sa,la=function(t){var e=t.insights,n=t.sendEvent;return function(t){var r=ha(t.target,t.currentTarget,(function(t){return t.hasAttribute("data-insights-event")}));r&&function(t){var e=t.getAttribute("data-insights-event");if("string"!=typeof e)throw new Error("The insights middleware expects `data-insights-event` to be a base64-encoded JSON string.");try{return U(e)}catch(t){throw new Error("The insights middleware was unable to parse `data-insights-event`.")}}(r).forEach((function(t){return n(t)}));var i=ha(t.target,t.currentTarget,(function(t){return t.hasAttribute("data-insights-method")&&t.hasAttribute("data-insights-payload")}));if(i){var o=function(t){var e=t.getAttribute("data-insights-method"),n=t.getAttribute("data-insights-payload");if("string"!=typeof n)throw new Error("The insights helper expects `data-insights-payload` to be a base64-encoded JSON string.");try{return{method:e,payload:U(n)}}catch(t){throw new Error("The insights helper was unable to parse `data-insights-payload`.")}}(i),u=o.method,a=o.payload;e(u,a)}}};function ha(t,e,n){for(var r=t;r&&!n(r);){if(r===e)return null;r=r.parentElement}return r}function va(t){return va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},va(t)}function da(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ba(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?da(Object(n),!0).forEach((function(e){ma(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):da(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ma(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==va(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==va(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===va(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pa(){return pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pa.apply(this,arguments)}function ya(t){var e=t.results,n=t.hits,r=t.insights,i=t.bindEvent,o=t.sendEvent,u=t.cssClasses,a=t.templateProps,s=la({insights:r,sendEvent:o});return 0===e.hits.length?Qi(Uu,pa({},a,{templateKey:"empty",rootProps:{className:_i(u.root,u.emptyRoot),onClick:s},data:e})):Qi("div",{className:u.root},Qi("ol",{className:u.list},n.map((function(t,e){return Qi(Uu,pa({},a,{templateKey:"item",rootTagName:"li",rootProps:{className:u.item,onClick:function(e){s(e),o("click:internal",t,"Hit Clicked")}},key:t.objectID,data:ba(ba({},t),{},{get q(){return"development"===process.env.NODE_ENV&&c(!1,"The `__hitIndex` property is deprecated. Use the absolute `__position` instead."),e}}),bindEvent:i,sendEvent:o}))}))))}function ga(t){return ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ga(t)}function ja(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ja(Object(n),!0).forEach((function(e){Oa(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ja(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Oa(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==ga(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ga(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ga(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Sa=X({name:"hits",connector:!0}),Ta=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return m(t,Sa()),function(n){var r,i,o=n||{},u=o.escapeHTML,a=void 0===u||u,c=o.transformItems,s=void 0===c?function(t){return t}:c;return{$$type:"ais.hits",init:function(e){t(wa(wa({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!0)},render:function(e){var n=this.getWidgetRenderState(e);t(wa(wa({},n),{},{instantSearchInstance:e.instantSearchInstance}),!1),n.sendEvent("view:internal",n.hits)},getRenderState:function(t,e){return wa(wa({},t),{},{hits:this.getWidgetRenderState(e)})},getWidgetRenderState:function(t){var e=t.results,o=t.helper,u=t.instantSearchInstance;if(r||(r=W({instantSearchInstance:u,index:o.getIndex(),widgetType:this.$$type})),i||(i=J({index:o.getIndex(),widgetType:this.$$type,instantSearchInstance:u})),!e)return{hits:[],results:void 0,sendEvent:r,bindEvent:i,widgetParams:n};a&&e.hits.length>0&&(e.hits=H(e.hits));var c=dt(st(e.hits,e.page,e.hitsPerPage),e.queryID);return{hits:s(c,{results:e}),results:e,sendEvent:r,bindEvent:i,widgetParams:n}},dispose:function(t){var n=t.state;return e(),a?n.setQueryParameters(Object.keys(I).reduce((function(t,e){return wa(wa({},t),{},Oa({},e,void 0))}),{})):n},getWidgetSearchParameters:function(t){return a?t.setQueryParameters(I):t}}}};function Ra(t){return Ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ra(t)}function Na(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Pa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Na(Object(n),!0).forEach((function(e){Ea(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Na(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ea(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Ra(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ra(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ra(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xa=function(t){var e=t.method,n=t.results,r=t.hits,i=t.objectIDs,o=n.index,u=function(t,e){return e.map((function(e){var n=G(t,(function(t){return t.objectID===e}));if(void 0===n)throw new Error('Could not find objectID "'.concat(e,'" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.'));return n}))}(r,i),a=function(t){var e=pt(t.map((function(t){return t.m})));if(e.length>1)throw new Error("Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.");var n=e[0];if("string"!=typeof n)throw new Error("Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\n\nSee: https://alg.li/lNiZZ7");return n}(u);switch(e){case"clickedObjectIDsAfterSearch":var c=function(t){return t.map((function(t){return t.p}))}(u);return{index:o,queryID:a,objectIDs:i,positions:c};case"convertedObjectIDsAfterSearch":return{index:o,queryID:a,objectIDs:i};default:throw new Error('Unsupported method passed to insights: "'.concat(e,'".'))}};function ka(t){return function(e,n){return t((function(t,n){var r=t.results,i=t.hits,o=t.instantSearchInstance;if(r&&i&&o){var u=function(t,e,n){return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),u=1;u<i;u++)o[u-1]=arguments[u];var a=o[0];if("development"===process.env.NODE_ENV&&c(!1,"`insights` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\n\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/"),!t){var s=X({name:"instantsearch"});throw new Error(s("The `insightsClient` option has not been provided to `instantsearch`."))}if(!Array.isArray(a.objectIDs))throw new TypeError("Expected `objectIDs` to be an array.");var f=xa({method:r,results:e,hits:n,objectIDs:a.objectIDs});t(r,Pa(Pa({},f),a))}}(o.insightsClient,r,i);return e(Pa(Pa({},t),{},{insights:u}),n)}return e(t,n)}),n)}}var Ia={empty:function(){return"No results"},item:function(t){return JSON.stringify((n=["__hitIndex"],null==(e=t)?e:Object.keys(e).reduce((function(t,r){if(n.indexOf(r)>=0)return t;var i=r;return t[i]=e[i],t}),{})),null,2);var e,n}};function Aa(t){return Aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Aa(t)}function Ca(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ca(Object(n),!0).forEach((function(e){_a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ca(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _a(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Aa(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Aa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Aa(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ha=X({name:"hits"}),qa=r("Hits"),La=function(t){var e=t||{},n=e.container,r=e.escapeHTML,i=e.transformItems,o=e.templates,u=void 0===o?{}:o,a=e.cssClasses,c=void 0===a?{}:a;if(!n)throw new Error(Ha("The `container` option is required."));var s=tt(n),f={root:_i(qa(),c.root),emptyRoot:_i(qa({modifierName:"empty"}),c.emptyRoot),list:_i(qa({descendantName:"list"}),c.list),item:_i(qa({descendantName:"item"}),c.item)},l=function(t){var e=t.renderState,n=t.cssClasses,r=t.containerNode,i=t.templates;return function(t,o){var u=t.hits,a=t.results,c=t.instantSearchInstance,s=t.insights,f=t.bindEvent,l=t.sendEvent;o?e.templateProps=jo({defaultTemplates:Ia,templatesConfig:c.templatesConfig,templates:i}):vo(Qi(ya,{cssClasses:n,hits:u,results:a,templateProps:e.templateProps,insights:s,sendEvent:l,bindEvent:f}),r)}}({containerNode:s,cssClasses:f,renderState:{},templates:u});return Fa(Fa({},ka(Ta)(l,(function(){return vo(null,s)}))({escapeHTML:r,transformItems:i})),{},{$$widgetType:"ais.hits"})};function Ua(t){function e(e){return function(n){(function(t){return 1===t.button||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey})(n)||(n.preventDefault(),t.setCurrentPage(e))}}return Qi("div",{className:_i(t.cssClasses.root,t.nbPages<=1&&t.cssClasses.noRefinementRoot)},Qi("ul",{className:t.cssClasses.list},t.showFirst&&Qi($a,{ariaLabel:"First",className:t.cssClasses.firstPageItem,isDisabled:t.isFirstPage,templates:t.templates,templateKey:"first",pageNumber:0,createURL:t.createURL,cssClasses:t.cssClasses,createClickHandler:e}),t.showPrevious&&Qi($a,{ariaLabel:"Previous",className:t.cssClasses.previousPageItem,isDisabled:t.isFirstPage,templates:t.templates,templateKey:"previous",pageNumber:t.currentPage-1,createURL:t.createURL,cssClasses:t.cssClasses,createClickHandler:e}),t.pages.map((function(n){return Qi($a,{key:n,ariaLabel:"Page ".concat(n+1),className:t.cssClasses.pageItem,isSelected:n===t.currentPage,templates:t.templates,templateKey:"page",pageNumber:n,createURL:t.createURL,cssClasses:t.cssClasses,createClickHandler:e})})),t.showNext&&Qi($a,{ariaLabel:"Next",className:t.cssClasses.nextPageItem,isDisabled:t.isLastPage,templates:t.templates,templateKey:"next",pageNumber:t.currentPage+1,createURL:t.createURL,cssClasses:t.cssClasses,createClickHandler:e}),t.showLast&&Qi($a,{ariaLabel:"Last",className:t.cssClasses.lastPageItem,isDisabled:t.isLastPage,templates:t.templates,templateKey:"last",pageNumber:t.nbPages-1,createURL:t.createURL,cssClasses:t.cssClasses,createClickHandler:e})))}function $a(t){var e=t.templates,n=t.templateKey,r=t.ariaLabel,i=t.pageNumber,o=t.className,u=t.isDisabled,a=void 0!==u&&u,c=t.isSelected,s=void 0!==c&&c,f=t.cssClasses,l=t.createURL,h=t.createClickHandler;return Qi("li",{className:_i(f.item,o,a&&f.disabledItem,s&&f.selectedItem)},Qi(Uu,a?{rootTagName:"span",rootProps:{className:f.link},templateKey:n,templates:e,data:{page:i+1}}:{rootTagName:"a",rootProps:{className:f.link,"aria-label":r,href:l(i),onClick:h(i)},templateKey:n,templates:e,data:{page:i+1}}))}function Da(t){return Da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Da(t)}function Ma(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wa(r.key),r)}}function Ba(t,e,n){return(e=Wa(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wa(t){var e=function(t,e){if("object"!==Da(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Da(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Da(e)?e:String(e)}var Ja=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ba(this,"currentPage",void 0),Ba(this,"total",void 0),Ba(this,"padding",void 0),this.currentPage=e.currentPage,this.total=e.total,this.padding=e.padding}var e,n,r;return e=t,(n=[{key:"pages",value:function(){var t=this.total,e=this.currentPage,n=this.padding;if(0===t)return[0];var r=this.nbPagesDisplayed(n,t);if(r===t)return Lt({end:t});var i=this.calculatePaddingLeft(e,n,t,r);return Lt({start:e-i,end:e+(r-i)})}},{key:"nbPagesDisplayed",value:function(t,e){return Math.min(2*t+1,e)}},{key:"calculatePaddingLeft",value:function(t,e,n,r){return t<=e?t:t>=n-e?r-(n-t):e}},{key:"isLastPage",value:function(){return this.currentPage===this.total-1||0===this.total}},{key:"isFirstPage",value:function(){return 0===this.currentPage}}])&&Ma(e.prototype,n),r&&Ma(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Qa(t){return Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qa(t)}function Va(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function za(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Va(Object(n),!0).forEach((function(e){Ka(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Va(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ka(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Qa(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Qa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Qa(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ya=X({name:"pagination",connector:!0}),Xa=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return m(t,Ya()),function(n){var r=n||{},i=r.totalPages,o=r.padding,u=new Ja({currentPage:0,total:0,padding:void 0===o?3:o}),a={};return{$$type:"ais.pagination",init:function(e){var n=e.instantSearchInstance;t(za(za({},this.getWidgetRenderState(e)),{},{instantSearchInstance:n}),!0)},render:function(e){var n=e.instantSearchInstance;t(za(za({},this.getWidgetRenderState(e)),{},{instantSearchInstance:n}),!1)},dispose:function(t){var n=t.state;return e(),n.setQueryParameter("page",void 0)},getWidgetUiState:function(t,e){var n=e.searchParameters.page||0;return n?za(za({},t),{},{page:n+1}):t},getWidgetSearchParameters:function(t,e){var n=e.uiState,r=n.page?n.page-1:0;return t.setQueryParameter("page",r)},getWidgetRenderState:function(t){var e=t.results,r=t.helper,o=t.state,c=t.createURL;a.refine||(a.refine=function(t){r.setPage(t),r.search()}),a.createURL||(a.createURL=function(t){return function(e){return c(t.setPage(e))}});var s=o.page||0,f=function(t){var e=t.nbPages;return void 0!==i?Math.min(i,e):e}(e||{nbPages:0});return u.currentPage=s,u.total=f,{createURL:a.createURL(o),refine:a.refine,canRefine:f>1,currentRefinement:s,nbHits:(null==e?void 0:e.nbHits)||0,nbPages:f,pages:e?u.pages():[],isFirstPage:u.isFirstPage(),isLastPage:u.isLastPage(),widgetParams:n}},getRenderState:function(t,e){return za(za({},t),{},{pagination:this.getWidgetRenderState(e)})}}}};function Ga(t){return Ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ga(t)}function Za(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Za(Object(n),!0).forEach((function(e){ec(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Za(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ec(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Ga(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ga(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ga(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nc=r("Pagination"),rc=X({name:"pagination"}),ic={previous:function(){return""},next:function(){return""},page:function(t){var e=t.page;return"".concat(e)},first:function(){return""},last:function(){return""}},oc=function(t){var e=t||{},n=e.container,r=e.templates,i=void 0===r?{}:r,o=e.cssClasses,u=void 0===o?{}:o,a=e.totalPages,c=e.padding,s=e.showFirst,f=void 0===s||s,l=e.showLast,h=void 0===l||l,v=e.showPrevious,d=void 0===v||v,b=e.showNext,m=void 0===b||b,p=e.scrollTo,y=void 0===p?"body":p;if(!n)throw new Error(rc("The `container` option is required."));var g=tt(n),j=!0===y?"body":y,w=!1!==j&&tt(j),O={root:_i(nc(),u.root),noRefinementRoot:_i(nc({modifierName:"noRefinement"}),u.noRefinementRoot),list:_i(nc({descendantName:"list"}),u.list),item:_i(nc({descendantName:"item"}),u.item),firstPageItem:_i(nc({descendantName:"item",modifierName:"firstPage"}),u.firstPageItem),lastPageItem:_i(nc({descendantName:"item",modifierName:"lastPage"}),u.lastPageItem),previousPageItem:_i(nc({descendantName:"item",modifierName:"previousPage"}),u.previousPageItem),nextPageItem:_i(nc({descendantName:"item",modifierName:"nextPage"}),u.nextPageItem),pageItem:_i(nc({descendantName:"item",modifierName:"page"}),u.pageItem),selectedItem:_i(nc({descendantName:"item",modifierName:"selected"}),u.selectedItem),disabledItem:_i(nc({descendantName:"item",modifierName:"disabled"}),u.disabledItem),link:_i(nc({descendantName:"link"}),u.link)},S=tc(tc({},ic),i),T=function(t){var e=t.containerNode,n=t.cssClasses,r=t.templates,i=t.showFirst,o=t.showLast,u=t.showPrevious,a=t.showNext,c=t.scrollToNode;return function(t,s){var f=t.createURL,l=t.currentRefinement,h=t.nbPages,v=t.pages,d=t.isFirstPage,b=t.isLastPage,m=t.refine;s||vo(Qi(Ua,{createURL:f,cssClasses:n,currentPage:l,templates:r,nbPages:h,pages:v,isFirstPage:d,isLastPage:b,setCurrentPage:function(t){m(t),!1!==c&&c.scrollIntoView()},showFirst:i,showLast:o,showPrevious:u,showNext:a}),e)}}({containerNode:g,cssClasses:O,templates:S,showFirst:f,showLast:h,showPrevious:d,showNext:m,scrollToNode:w});return tc(tc({},Xa(T,(function(){return vo(null,g)}))({totalPages:a,padding:c})),{},{$$widgetType:"ais.pagination"})},uc=Qi("path",{d:"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"}),ac=Qi("path",{d:"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"}),cc=Qi("g",{fill:"none",fillRule:"evenodd"},Qi("g",{transform:"translate(1 1)",strokeWidth:"2"},Qi("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),Qi("path",{d:"M36 18c0-9.94-8.06-18-18-18"},Qi("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})))),sc={reset:function(t){return Qi("svg",{className:t.cssClasses.resetIcon,viewBox:"0 0 20 20",width:"10",height:"10","aria-hidden":"true"},uc)},submit:function(t){return Qi("svg",{className:t.cssClasses.submitIcon,width:"10",height:"10",viewBox:"0 0 40 40","aria-hidden":"true"},ac)},loadingIndicator:function(t){return Qi("svg",{className:t.cssClasses.loadingIcon,width:"16",height:"16",viewBox:"0 0 38 38",stroke:"#444","aria-hidden":"true"},cc)}},fc=sc;function lc(t){return lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(t)}function hc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hc(Object(n),!0).forEach((function(e){dc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dc(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==lc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==lc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===lc(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bc=X({name:"search-box",connector:!0}),mc=function(t,e){return e(t)},pc=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return m(t,bc()),function(n){var r,i,o=(n||{}).queryHook,u=void 0===o?mc:o;return{$$type:"ais.searchBox",init:function(e){var n=e.instantSearchInstance;t(vc(vc({},this.getWidgetRenderState(e)),{},{instantSearchInstance:n}),!0)},render:function(e){var n=e.instantSearchInstance;t(vc(vc({},this.getWidgetRenderState(e)),{},{instantSearchInstance:n}),!1)},dispose:function(t){var n=t.state;return e(),n.setQueryParameter("query",void 0)},getRenderState:function(t,e){return vc(vc({},t),{},{searchBox:this.getWidgetRenderState(e)})},getWidgetRenderState:function(t){var e=t.helper,o=t.searchMetadata,a=t.state;return r||(r=function(t){u(t,(function(t){return e.setQuery(t).search()}))},i=function(){e.setQuery("").search()}),{query:a.query||"",refine:r,clear:i,widgetParams:n,isSearchStalled:o.isSearchStalled}},getWidgetUiState:function(t,e){var n=e.searchParameters.query||"";return""===n||t&&t.query===n?t:vc(vc({},t),{},{query:n})},getWidgetSearchParameters:function(t,e){var n=e.uiState;return t.setQueryParameter("query",n.query||"")}}}};function yc(t){return yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(t)}function gc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gc(Object(n),!0).forEach((function(e){wc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wc(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==yc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==yc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===yc(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Oc=X({name:"search-box"}),Sc=r("SearchBox"),Tc=function(t){var e=t||{},n=e.container,r=e.placeholder,i=void 0===r?"":r,o=e.cssClasses,u=void 0===o?{}:o,a=e.autofocus,c=void 0!==a&&a,s=e.searchAsYouType,f=void 0===s||s,l=e.showReset,h=void 0===l||l,v=e.showSubmit,d=void 0===v||v,b=e.showLoadingIndicator,m=void 0===b||b,p=e.queryHook,y=e.templates,g=void 0===y?{}:y;if(!n)throw new Error(Oc("The `container` option is required."));var j=tt(n),w={root:_i(Sc(),u.root),form:_i(Sc({descendantName:"form"}),u.form),input:_i(Sc({descendantName:"input"}),u.input),submit:_i(Sc({descendantName:"submit"}),u.submit),submitIcon:_i(Sc({descendantName:"submitIcon"}),u.submitIcon),reset:_i(Sc({descendantName:"reset"}),u.reset),resetIcon:_i(Sc({descendantName:"resetIcon"}),u.resetIcon),loadingIndicator:_i(Sc({descendantName:"loadingIndicator"}),u.loadingIndicator),loadingIcon:_i(Sc({descendantName:"loadingIcon"}),u.loadingIcon)},O=jc(jc({},fc),g),S=function(t){var e=t.containerNode,n=t.cssClasses,r=t.placeholder,i=t.templates,o=t.autofocus,u=t.searchAsYouType,a=t.showReset,c=t.showSubmit,s=t.showLoadingIndicator;return function(t){var f=t.refine,l=t.query,h=t.isSearchStalled;vo(Qi(fa,{query:l,placeholder:r,autofocus:o,refine:f,searchAsYouType:u,templates:i,showSubmit:c,showReset:a,showLoadingIndicator:s,isSearchStalled:h,cssClasses:n}),e)}}({containerNode:j,cssClasses:w,placeholder:i,templates:O,autofocus:c,searchAsYouType:f,showReset:h,showSubmit:d,showLoadingIndicator:m});return jc(jc({},pc(S,(function(){return vo(null,j)}))({queryHook:p})),{},{$$widgetType:"ais.searchBox"})};const Rc=".cv-navbar",Nc=".cv-navbar",Pc="padding-right",Ec="margin-right";class xc{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Pc,(e=>e+t)),this._setElementAttributes(Rc,Pc,(e=>e+t)),this._setElementAttributes(Nc,Ec,(e=>e-t))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Pc),this._resetElementAttributes(Rc,Pc),this._resetElementAttributes(Nc,Ec)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,n){const r=this.getWidth();this._applyManipulationCallback(t,(t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+r)return;this._saveInitialAttribute(t,e);const i=window.getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,`${n(Number.parseFloat(i))}px`)}))}_saveInitialAttribute(t,e){const n=t.style.getPropertyValue(e);n&&t.setAttribute(`data-cv-${e}`,n)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,(t=>{const n=t.getAttribute(`data-cv-${e}`);null!==n?(t.removeAttribute(`data-cv-${e}`),t.style.setProperty(e,n)):t.style.removeProperty(e)}))}_applyManipulationCallback(t,e){if("string"==typeof t)for(const n of this._element.querySelectorAll(t))e(n);else e(t)}}
/*! js-cookie v3.0.1 | MIT */function kc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var Ic=function t(e,n){function r(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=kc({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var u in i)i[u]&&(o+="; "+u,!0!==i[u]&&(o+="="+i[u].split(";")[0]));return document.cookie=t+"="+e.write(r,t)+o}}return Object.create({set:r,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var o=n[i].split("="),u=o.slice(1).join("=");try{var a=decodeURIComponent(o[0]);if(r[a]=e.read(u,a),t===a)break}catch(t){}}return t?r[t]:r}},remove:function(t,e){r(t,"",kc({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,kc({},this.attributes,e))},withConverter:function(e){return t(kc({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),Ac={version:"2.1.0",baseUrl:"https://corvee.bib.umontreal.ca",description:"Corve: le site o trouver vos liens briss.",algoliasearch:{applicationID:"AT9I76OQTC",apiKey:"1feac540f9fa7ed6b180dfbae4a11d82",indexName:"pages"},cookie:{name:"cv",options:{domain:"bib.umontreal.ca",sameSite:"strict"}},home:{title:"Corve - Liens briss par section"},actions:[{key:"to-be-fixed",long:"Ce lien est  corriger",short:" corriger"},{key:"fixed",long:"Ce lien a t corrig",short:"Corrig"},{key:"no-error",long:"Ce lien fonctionne (faux positif)!",short:"Faux positif!"},{key:"ignore",long:"Ne pas tenir compte de ce lien",short:"Ignorer"}],defaultLinkType:"A",linkTypes:{A:"texte",IFRAME:"cadre <small>(iframe)</small>",IMG:"image",FORM:"formulaire",LINK:"feuille de style",SCRIPT:"script"}},Cc={currentJob:"2023-05-10",harvestDate:"2023-05-10",harvestDateFormated:"10 mai 2023",deadline:"2023-08-31",deadlineFormated:"31 aot 2023",sections:[{sections:[{key:"tous",title:"Tous les liens <small>(attention: trs longue page)</small>",urls:[""]}]},{title:"Portails disciplinaires",sections:[{key:"amenagement",title:"Amnagement",urls:["https://bib.umontreal.ca/amenagement"]},{key:"anthropologie-demographie-sociologie",title:"Anthropologie, dmographie, sociologie",urls:["https://bib.umontreal.ca/anthropologie-demographie-sociologie"]},{key:"art-cinema-musique",title:"Art, cinma, musique",urls:["https://bib.umontreal.ca/art-cinema-musique"]},{key:"communication-sciences-information",title:"Communication, sciences de l'information",urls:["https://bib.umontreal.ca/communication-sciences-information"]},{key:"criminologie-psychologie-travail-social",title:"Criminologie, psychologie, travail social",urls:["https://bib.umontreal.ca/criminologie-psychologie-travail-social"]},{key:"droit",title:"Droit",urls:["https://bib.umontreal.ca/droit"]},{key:"economie-politique-relations-industrielles",title:"conomie, politique, relations industrielles",urls:["https://bib.umontreal.ca/economie-politique-relations-industrielles"]},{key:"education-psychoeducation",title:"ducation, psychoducation",urls:["https://bib.umontreal.ca/education-psychoeducation"]},{key:"etudes-religieuses-histoire-philosophie",title:"tudes religieuses, histoire, philosophie",urls:["https://bib.umontreal.ca/etudes-religieuses-histoire-philosophie"]},{key:"informatique-mathematique-sciences-nature",title:"Informatique, mathmatiques, sciences de la nature",urls:["https://bib.umontreal.ca/informatique-mathematique-sciences-nature"]},{key:"langues-litteratures",title:"Langues et littratures",urls:["https://bib.umontreal.ca/langues-litteratures"]},{key:"sciences-sante",title:"Sciences de la sant",urls:["https://bib.umontreal.ca/sciences-sante"]},{key:"multidisciplinaire",title:"Multidisciplinaire",urls:["https://bib.umontreal.ca/multidisciplinaire"]}]},{title:"Autres sections du site",sections:[{key:"chercher",title:"Chercher de l'information",urls:["https://bib.umontreal.ca/chercher","https://bib.umontreal.ca/guides","https://bib.umontreal.ca/emprunter"]},{key:"utiliser",title:"Utiliser l'information",urls:["https://bib.umontreal.ca/citer","https://bib.umontreal.ca/evaluer-analyser-rediger","https://bib.umontreal.ca/gerer-diffuser","https://bib.umontreal.ca/formations"]},{key:"travailler",title:"Travailler en bibliothque",urls:["https://bib.umontreal.ca/travailler"]},{key:"a-propos",title:" propos",urls:["https://bib.umontreal.ca/les-bibliotheques-udem","https://bib.umontreal.ca/faire-un-don","https://bib.umontreal.ca/communications","https://bib.umontreal.ca/services","https://bib.umontreal.ca/collections","https://bib.umontreal.ca/sondage-et-enquetes"]},{key:"soutien-enseignement",title:"Soutien  l'enseignement",urls:["https://bib.umontreal.ca/soutien-enseignement"]},{key:"soutien-recherche",title:"Soutien  la recherche",urls:["https://bib.umontreal.ca/soutien-recherche","https://bib.umontreal.ca/recherche-documentaire-subventions-et-laboratoires"]},{key:"nous-joindre",title:"Nous joindre",urls:["https://bib.umontreal.ca/nous-joindre"]},{key:"www",title:"Pages sur www.bib.umontreal.ca",urls:["https://www.bib.umontreal.ca"]}]}]};class Fc extends EventTarget{#t;constructor(t){super(),this.#t=window.parent===window?null:window.parent,Object.defineProperty(this,"host",{value:this.#t?"slave":"master",enumerable:!0}),this._cookieName=t.name,this._cookieAttributes=t.options;const e=new Date(Cc.deadline);e>Date.now()&&(this._cookieAttributes.expires=e),this._cookie=Ic.withAttributes(this._cookieAttributes),"slave"===this.host&&window.addEventListener("message",(t=>{if(t.data?.cv&&t.data.event?.endsWith(".user-config")){const e=t.data.event.split(".")[0],n=t.data;this.#e(e,n.data,!1)}}))}#e(t,e,n=!0){if(this.dispatchEvent(new CustomEvent(t,{detail:e})),"master"===this.host&&n)for(let n=0;n<window.frames.length;n++)window.frames[n].postMessage({cv:!0,event:`${t}.user-config`,data:e},"*")}set(t){const e=this.getAll(),n=Object.keys(t)[0],r=t[n];if(Reflect.has(e,n)&&e[n]===r)return;const i=Object.assign(e,t);this._cookie.set(this._cookieName,JSON.stringify(i)),this.#e("change",{prop:n,value:r})}get(t){const e=new URLSearchParams(location.search),n="currentJob"===t?"job":t;if(e.has(n))return e.get(n);try{return JSON.parse(this._cookie.get(this._cookieName))[t]}catch{return null}}getAll(){try{return JSON.parse(this._cookie.get(this._cookieName))}catch{return{}}}}const _c=new Fc(Ac.cookie);globalThis.corvee=globalThis.corvee||{},globalThis.corvee.userConfig=_c;const Hc="AT9I76OQTC",qc="1feac540f9fa7ed6b180dfbae4a11d82",Lc="pages";async function Uc(){if(document.querySelector("#cv-search-input-btn")){const f=document.querySelector(".cv-search-dialog"),l=n(Hc,qc),h=Lc,v=l.initIndex(h),d=_c.get("currentJob")??"2023-05-10",b=location.pathname.split("/").pop(),m=new xc;try{const{facetHits:p}=await v.searchForFacetValues("job",d),y=document.querySelector(".cv-search-input");if(y.addEventListener("animationend",(function t(e){const n=e.target;n===y&&"fade-out"===e.animationName&&(n.classList.contains("hide-search-widget")&&(n.hidden=!0),n.classList.remove("show-search-widget","hide-search-widget"),n.removeEventListener("animationend",t))})),y.classList.remove("loading"),p&&1!==p.length)return void y.classList.add("hide-search-widget");y.classList.add("show-search-widget");const g={indexName:h,searchClient:l,numberLocale:"fr",onStateChange({uiState:t,setUiState:e}){const n=new URL(location.href);t.pages.query?n.searchParams.set("q",t.pages.query):n.searchParams.delete("q"),history.replaceState(null,"",n.href),e(t)}};/q=./.test(location.search)&&(g.initialUiState={pages:{query:new URL(location).searchParams.get("q")}});const j=Fi(g);j.addWidgets([Xu({facetFilters:[`job:${d} `,`sections:${b} `]}),Tc({container:"#cv-search-dialog-box",placeholder:"Cherchez un guide, une page",cssClasses:{root:"cv-search-dialog-box",form:"cv-search-dialog-form",input:"cv-search-dialog-input",submit:"cv-search-dialog-submit-btn",submitIcon:"cv-search-dialog-submit-icon",reset:"cv-search-dialog-reset-btn",resetIcon:"cv-search-dialog-reset-icon",loadingIndicator:"cv-search-dialog-loading-btn"},templates:{submit:({cssClasses:t},{html:e})=>e`${'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="1em" height="1em" class="cv-i cv-i-search" aria-hidden="true"><path fill="currentColor" d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" /></svg>'}`,reset:({cssClasses:t},{html:e})=>e`${'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="1em" height="1em" class="cv-i cv-i-close" aria-hidden="true"><path fill="currentColor" d=\'M.293.293a1 1 0 0 1 1.414 0L8 6.586 14.293.293a1 1 0 1 1 1.414 1.414L9.414 8l6.293 6.293a1 1 0 0 1-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 0 1-1.414-1.414L6.586 8 .293 1.707a1 1 0 0 1 0-1.414z\'/></svg>'}`,loadingIndicator:({cssClasses:t},{html:e})=>e`${'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" class="cv-i cv-i-spinner-rolling" aria-hidden="true" role="img"><g stroke="currentColor"><circle cx="12" cy="12" r="9.5" fill="none" stroke-linecap="round" stroke-width="3"><animate attributeName="stroke-dasharray" calcMode="spline" dur="1.5s" keySplines="0.42,0,0.58,1;0.42,0,0.58,1;0.42,0,0.58,1" keyTimes="0;0.475;0.95;1" repeatCount="indefinite" values="0 150;42 150;42 150;42 150"/><animate attributeName="stroke-dashoffset" calcMode="spline" dur="1.5s" keySplines="0.42,0,0.58,1;0.42,0,0.58,1;0.42,0,0.58,1" keyTimes="0;0.475;0.95;1" repeatCount="indefinite" values="0;-16;-59;-59"/></circle><animateTransform attributeName="transform" dur="2s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"/></g></svg>'}`}}),La({container:"#cv-search-hits",cssClasses:{root:["cv-search-hits-root"],list:["cv-search-hits-list-group"],item:["cv-search-hits-item"]},templates:{item(t,{html:e,components:n}){const r=t.pages?e`<p class="cv-search-hits-item-pages">${t.pages.join(" | ")}</p>`:"",i=t.text?e`<p class="cv-search-hits-item-text"><small>${t.text}</small></p>`:"";return e`<div tabindex="0" data-cv-link-key-ref="${t.key}"><p class="cv-search-hits-item-title">${n.Highlight({hit:t,attribute:"title"})}</p>${r}<p class="cv-search-hits-item-url"><small><code>${n.Highlight({hit:t,attribute:"url"})}</code></small></p>${i}</div>`},empty:(t,{html:e})=>e`<div class="cv-search-hits-no-result">Aucun rsultat pour <q>${t.query}</q></div>`}}),oc({container:"#cv-search-pagination",cssClasses:{list:["cv-search-pagination-list","pagination"],item:["cv-search-pagination-item","page-item"],link:["cv-search-pagination-link","page-link"],selectedItem:["cv-search-pagination-active","active"],disabledItem:["cv-search-pagination-disabled","disabled"],pageItem:"cv-search-pagination-page-item"}})]),j.start();const w=document.querySelector(".cv-search-input-container"),O=document.querySelector(".cv-search-input-btn"),S=f.querySelector(".cv-search-dialog-form"),T=f.querySelector(".cv-search-dialog-input"),R=f.querySelector(".cv-search-dialog-submit-btn"),N=f.querySelector(".cv-search-dialog-reset-btn"),P=document.createElement("button"),E=f.querySelector(".cv-search-hits"),x=f.querySelector(".cv-search-pagination");function t(){m.hide(),f.addEventListener("animationend",(()=>{f.classList.remove("open")}),{once:!0}),f.classList.add("open"),f.showModal(),T.focus(),s()}function e(t=!1,e=(()=>{})){return new Promise((function(n){function r(){m.reset(),f.addEventListener("animationend",(()=>{f.close(),f.classList.remove("close"),e(),n()}),{once:!0}),f.classList.add("close")}t?setTimeout(r,300):r()}))}function r(){f.querySelectorAll(".cv-search-hits-item.active").forEach((t=>t.classList.remove("active")))}function i(t){const e=t.target;e===w&&("cv-search-input-width"===t.animationName&&(e.classList.contains("expanding")?(e.classList.remove("expanding"),e.style.setProperty("--_cv-search-input-computed-max-width",getComputedStyle(e).width)):(e.classList.remove("contracting"),O.innerHTML=`<span class="cv-placeholder">${O.dataset.placeholder}</span>`,O.removeAttribute("tabindex"),e.classList.add("empty"),e.classList.remove("filled"),e.style.setProperty("--_cv-search-input-computed-max-width",getComputedStyle(e).getPropertyValue("--cv-search-input-max-width")))),e.removeEventListener("animationend",i))}function o(t){const e=t.querySelector(".cv-search-hits-item-title").innerText,n=t.children[0].dataset.cvLinkKeyRef;w.addEventListener("animationend",i),w.classList.remove("empty"),w.classList.add("filled","expanding"),O.innerHTML=`<span class="cv-chip"><button type="button" class="btn-close" aria-label="Supprimer" title="Supprimer"></button><span  tabindex="0" class="cv-chip-text" title="${e}">${e}</span></span>`,T.value=e,O.tabIndex=-1,T.dispatchEvent(new InputEvent("input")),r(),t.classList.add("active"),c(),function(t){k.replace(`\n            [data-cv-link-key] {\n              display: none;\n            }\n            [data-cv-link-key="${t}"] {\n              display: block;\n            }\n          `)}(n)}function u(){w.addEventListener("animationend",i),w.classList.add("contracting"),S.reset(),r(),k.replace(""),O.focus()}R.tabIndex=-1,P.setAttribute("aria-label","Fermer"),P.classList.add("cv-search-dialog-back-btn"),P.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="1em" height="1em" class="cv-i cv-i-arrow-left" aria-hidden="true"><path fill="currentColor" d="M24 10.48v3.04H5.82l8.33 8.33L12 24 0 12 12 0l2.15 2.15-8.33 8.33Z"/></svg>\n',P.addEventListener("click",e),S.prepend(P),R.setAttribute("title","Chercher"),N.setAttribute("title","Effacer"),f.addEventListener("click",(t=>{t.stopPropagation();const n=f.getBoundingClientRect();n.top<=t.clientY&&t.clientY<=n.top+n.height&&n.left<=t.clientX&&t.clientX<=n.left+n.width||e()}));const k=new CSSStyleSheet;async function a(t){const e=(new TextEncoder).encode(t),n=await crypto.subtle.digest("SHA-1",e),r=Array.from(new Uint8Array(n)).map((t=>t.toString(16).padStart(2,"0"))).join("");return r.slice(0,10)}function c(){T.value.length>0?R.hidden=!0:R.hidden=!1}function s(){if(!E.checkVisibility())return;const t=E.offsetWidth-E.scrollWidth;E.style.setProperty("--_actual-scrollbar-width",`${t}px`)}document.adoptedStyleSheets=[...document.adoptedStyleSheets,k];for(const A of document.querySelectorAll(".cv-page-report")){const C=new URL(A.querySelector(".cv-page-report-header a").href);C.hash="",C.searchParams.delete("tab");const F=await a(C.href);A.dataset.cvLinkKey=F}O.addEventListener("click",(function(e){if(e.target.classList.contains("btn-close"))return e.stopPropagation(),void u();t()})),f.addEventListener("click",(async function(t){const n=t.target;n.classList.contains("cv-search-hits-item")&&(o(n),await e(!0))})),f.addEventListener("keydown",(function(t){27===t.keyCode&&(t.preventDefault(),e())})),f.addEventListener("keyup",(function(t){if(t.isComposing||229===t.keyCode)return;const n=t.target;"Enter"===t.key&&n.classList.contains("cv-search-hits-item")&&(o(n),e(!0,(()=>{O.querySelector(".btn-close").focus({focusVisible:!0})})))})),T.addEventListener("focus",c),N.addEventListener("click",(function(){u(),c()})),T.addEventListener("keyup",c),T.addEventListener("focus",(function(){S.classList.add("focus")})),T.addEventListener("blur",(function(){S.classList.remove("focus")})),f.addEventListener("click",(function(t){t.target.classList.contains("cv-search-pagination-link")&&E.scrollTo(0,0)}));new MutationObserver((function(){x.querySelectorAll(".cv-search-pagination-page-item").length<2?x.classList.add("cv-hide"):x.classList.remove("cv-hide")})).observe(x,{attributes:!1,childList:!0,subtree:!0});new MutationObserver(s).observe(E,{attributes:!1,childList:!0,subtree:!0});const I=getComputedStyle(document.querySelector(".cv-navbar")).height;document.documentElement.style.setProperty("--cv-navbar-height",I),/q=./.test(location.search)&&(R.hidden=!0,t())}catch(_){}}}export{Uc as initSearchWidget};
