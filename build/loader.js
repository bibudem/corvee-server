/*! js-cookie v3.0.1 | MIT */
function t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t}!function(){const t={NODE_ENV:"production"};try{if(process)return process.env=Object.assign({},process.env),void Object.assign(process.env,t)}catch(t){}globalThis.process={env:t}}();var e=function e(n,o){function r(e,r,c){if("undefined"!=typeof document){"number"==typeof(c=t({},o,c)).expires&&(c.expires=new Date(Date.now()+864e5*c.expires)),c.expires&&(c.expires=c.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var s in c)c[s]&&(i+="; "+s,!0!==c[s]&&(i+="="+c[s].split(";")[0]));return document.cookie=e+"="+n.write(r,e)+i}}return Object.create({set:r,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var e=document.cookie?document.cookie.split("; "):[],o={},r=0;r<e.length;r++){var c=e[r].split("="),i=c.slice(1).join("=");try{var s=decodeURIComponent(c[0]);if(o[s]=n.read(i,s),t===s)break}catch(t){}}return t?o[t]:o}},remove:function(e,n){r(e,"",t({},n,{expires:-1}))},withAttributes:function(n){return e(this.converter,t({},this.attributes,n))},withConverter:function(n){return e(t({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(n)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const n="cv",o=self===top?"master":"slave";let r;function c(t,e){return new Promise(((n,o)=>{let r=[window.parent];"slaves"===t&&(r=window.frames);for(var c=0;c<r.length;c++)r[c].postMessage({...e,cv:!0},"*");n()}))}function i(t=!1){function e(){return async function(){return new Promise((async(t,e)=>{if(r)return t(r);try{const e="https://corvee.bib.umontreal.ca/2.0.0/client/corvee.js",{corveeApp:n}=await import(e);r=n,t(r)}catch(t){e(t)}}))}().then((()=>r.start())).catch((t=>{}))}t?"master"===o?e().then((()=>{c("slaves",{action:"start"})})):c("master",{action:"start"}).then((()=>{e()})):e()}function s(t=!1){r&&(r.stop(),t&&c("master"===o?"slaves":o,{action:"stop"}))}function a(){const t=e.get(n);let o=!1;if(t)try{o=JSON.parse(t).isActive}catch(t){}return o}window.addEventListener("message",(function(t){if("object"==typeof t.data&&"cv"in t.data&&t.data.action)switch(t.data.action){case"start":i(!1);break;case"stop":s(!1)}})),document.addEventListener("keydown",(async function(t){t.altKey&&"l"===t.key&&(a()?s(!0):i(!0))})),a()&&i();
